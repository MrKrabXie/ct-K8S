(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coopPrice-verifyIdentity-verifyIdentity"],{"06c2":function(e,t,i){"use strict";var s=i("2076"),a=i.n(s);a.a},"11b2":function(e,t,i){"use strict";i.r(t);var s=i("a007"),a=i("cde0");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("06c2");var r,n=i("f0c5"),c=Object(n["a"])(a["default"],s["b"],s["c"],!1,null,"51050a73",null,!1,s["a"],r);t["default"]=c.exports},2076:function(e,t,i){var s=i("60ad");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("4f06").default;a("2a66346a",s,!0,{sourceMap:!1,shadowMode:!1})},2181:function(e,t,i){"use strict";i.r(t);var s=i("cb41"),a=i("5de3");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("c4c9");var r,n=i("f0c5"),c=Object(n["a"])(a["default"],s["b"],s["c"],!1,null,"54488538",null,!1,s["a"],r);t["default"]=c.exports},2564:function(e,t,i){var s=i("cb7e");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("4f06").default;a("0f907fce",s,!0,{sourceMap:!1,shadowMode:!1})},2872:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".picker[data-v-7d28ecd5]{position:relative;z-index:2}.picker .icon_icon_jump_02[data-v-7d28ecd5]{position:relative;top:-1.06667vw}.picker .addressPopup[data-v-7d28ecd5]{z-index:11}.picker .addressPopup .icon_pop_up_cancel[data-v-7d28ecd5]{top:inherit;line-height:13.33333vw}.picker .addressPopup .addressInfo[data-v-7d28ecd5]{padding:0 4vw 2.66667vw;border-bottom:%?1?% solid #f4f4f4;line-height:10.66667vw}.picker .addressPopup .addressInfo uni-text[data-v-7d28ecd5]{font-size:4.26667rem;margin-right:1.33333vw}.picker .addressPopup .addressInfo .btn[data-v-7d28ecd5]{height:10.66667vw;padding:0 4vw;line-height:10.4vw;font-size:4.26667rem;border-radius:5.33333vw}.picker .addressPopup .addressBox>uni-view[data-v-7d28ecd5]:first-child{background:#f4f4f4;border-radius:2.66667vw 0 0 0}.picker .addressPopup .addressBox>uni-view:first-child .address-item[data-v-7d28ecd5]{margin:0!important}.picker .addressPopup .addressBox>uni-view:first-child .address-item.active[data-v-7d28ecd5]{background-color:#fff!important;border-radius:2.66667vw 0 0 2.66667vw!important}.picker .addressPopup .addressBox uni-scroll-view[data-v-7d28ecd5]{height:60vh}.picker .addressPopup .addressBox uni-scroll-view .address-item[data-v-7d28ecd5]{height:17.33333vw;line-height:17.33333vw;font-size:4.8rem;text-align:center;margin:0 2.66667vw}.picker .addressPopup .addressBox uni-scroll-view .address-item.active[data-v-7d28ecd5]{background:#f5f4ff;border-radius:2.66667vw;color:#846bff}@media (orientation:landscape){.picker .icon_icon_jump_02[data-v-7d28ecd5]{top:-1.40845rem}.picker .addressPopup .icon_pop_up_cancel[data-v-7d28ecd5]{line-height:17.60563rem}.picker .addressPopup .addressInfo[data-v-7d28ecd5]{padding:0 5.28169rem 3.52113rem;border-bottom:%?1?% solid #f4f4f4;line-height:14.08451rem}.picker .addressPopup .addressInfo uni-text[data-v-7d28ecd5]{font-size:5.6338rem;margin-right:1.76056rem}.picker .addressPopup .addressInfo .btn[data-v-7d28ecd5]{height:14.08451rem;padding:0 5.28169rem;line-height:13.73239rem;font-size:5.6338rem;border-radius:7.04225rem}.picker .addressPopup .addressBox>uni-view[data-v-7d28ecd5]:first-child{border-radius:3.52113rem 0 0 0}.picker .addressPopup .addressBox>uni-view:first-child .address-item.active[data-v-7d28ecd5]{border-radius:3.52113rem 0 0 3.52113rem!important}.picker .addressPopup .addressBox uni-scroll-view .address-item[data-v-7d28ecd5]{height:22.88732rem;line-height:22.88732rem;font-size:6.33803rem;margin:0 3.52113rem}.picker .addressPopup .addressBox uni-scroll-view .address-item.active[data-v-7d28ecd5]{border-radius:3.52113rem}}",""])},2914:function(e,t,i){var s=i("5774");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("4f06").default;a("074d6c8b",s,!0,{sourceMap:!1,shadowMode:!1})},"3e24":function(e,t,i){"use strict";var s=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a");var a,o=i("3de1"),r=i("2934"),n=s(i("f121")),c=n.default.currentApps.currenAppid==n.default.appsVersionSet.hnAppSet.currenAppid;console.log("isHnAppSet",c),a=i(c?"f964":"f1d3");var d={data:function(){return{multiArray:[],multiIndex:[],provinceCode:"",provinceName:"",cityCode:"",cityName:"",areaCode:"",areaName:"",isShowAddressPopup:!1,isAuthorizeAddress:!1,addressTypeList:[{},{},{}],locationAddressInfo:{},isHnAppSet:c,cityList:[]}},props:{isUnAlterAddress:!1,isOnlyShowAreaName:!1,isCacheAddressInfo:!1,isSetLocation:!1},watch:{isShowAddressPopup:function(){var e=this;console.log("this.isShowAddressPopup",this.isShowAddressPopup),this.$store.commit("setIsHideTabBar",this.isShowAddressPopup),this.isShowAddressPopup&&this.$nextTick((function(){var t=uni.createSelectorQuery().in(e);t.select(".js-addressItem").boundingClientRect(),t.exec((function(t){console.log("res[0]",t[0]),e.addressTypeList.forEach((function(i,s){i.scrollTop=(e.multiIndex[s]-1)*t[0].height,console.log("item.scrollTop",i.scrollTop),e.$set(e.addressTypeList,s,i)}))}))}))}},mounted:function(){var e=this;this.isHnAppSet?(this.cityList=[],a.forEach((function(t){529344==t.code&&e.cityList.push(t)}))):this.cityList=a},methods:{handleShowPicker:function(){this.isUnAlterAddress||(this.isShowAddressPopup=!0,this.dictArea(0))},wxgetLocation:function(e){var t=this;if(this.isUnAlterAddress||this.isHnAppSet)return e&&setTimeout((function(){e()}),100),!1;var i=this;n.default.isWxAPP?uni.getSetting({success:function(s){var a=s.authSetting;if(console.log("status",a),a["scope.userLocation"])i.isAuthorizeAddress=!0,i.getLocationFun(e);else{var r=(0,o.getStorage)("isFirstGetUserLocation");r||((0,o.setStorage)("isFirstGetUserLocation","true"),t.authorizeUserLocation(!0)),i.isAuthorizeAddress=!1,e&&e()}},fail:function(t){i.isAuthorizeAddress=!1,e&&e()}}):navigator.geolocation?(navigator.geolocation.getCurrentPosition((function(i){var s={lng:i.coords.longitude,lat:i.coords.latitude};t.isAuthorizeAddress=!0,t.getAreaByCoordinate(s,e)}),(function(i){t.isAuthorizeAddress=!1,e&&e()})),setTimeout((function(){t.isAuthorizeAddress||e&&e()}),1e3)):(this.isAuthorizeAddress=!1,e&&e())},authorizeUserLocation:function(e){var t=this;n.default.isWxAPP&&uni.authorize({scope:"scope.userLocation",success:function(){t.getLocationFun(),t.isAuthorizeAddress=!0},fail:function(){e||o.native.modal({title:"提醒",showCancel:!0,cancelText:"取消",cancelColor:"",confirmText:"确定",content:"您拒绝了位置授权，点击确定重新获取授权",confirmColor:"#6E318C",success:function(e){uni.openSetting({success:function(e){e.authSetting["scope.userLocation"]&&(t.isAuthorizeAddress=!0)}})},cancel:function(){t.dictArea(0)}})}})},getLocationFun:function(e){var t=this;uni.getLocation({type:"wgs84",success:function(i){console.log("获取地址信息",i);var s=i.latitude,a=i.longitude,o={lng:a,lat:s};t.getAreaByCoordinate(o,e)},fail:function(){e&&e(),console.log("fali")}})},getAreaByCoordinate:function(e,t){var i=this;(0,r.getAreaByCoordinate)(e).then((function(e){var s=e.entity;"000"==e.errorCode&&s?(i.locationAddressInfo={provinceCode:s.provCode,provinceName:s.provName,cityCode:s.cityCode,cityName:s.cityName,areaCode:s.areaCode,areaName:s.areaName},i.provinceCode&&!i.isSetLocation?t&&t():(i.provinceCode=s.provCode,i.cityCode=s.cityCode,i.areaCode=s.areaCode,i.provinceName=s.provName,i.cityName=s.cityName,i.areaName=s.areaName,s.provName&&i.$emit("selectAddress",{provinceCode:s.provinceCode,cityCode:s.cityCode,areaCode:s.areaCode}))):"000"!=e.errorCode&&o.native.toast(e.message),t&&t()}))},bindMultiPickerChange:function(e,t,i){var s=this.multiArray;if(this.multiIndex[e]=t,0==e)this.multiIndex=[t,null,null],this.addressTypeList[1].scrollTop=0==this.addressTypeList[1].scrollTop?.01:0,this.addressTypeList[2].scrollTop=0==this.addressTypeList[2].scrollTop?.01:0,this.dictArea(i.code,!1,"",!0);else if(1==e)this.multiIndex=[this.multiIndex[0],t,null],this.addressTypeList[2].scrollTop=0==this.addressTypeList[2].scrollTop?.01:0,this.dictArea(i.code,!1,"AREA");else{var a=this.multiIndex;s=this.multiArray;if(null==a[1])return;this.provinceCode=s[0][a[0]].code,this.provinceName=s[0][a[0]].name,this.cityCode=s[1][a[1]].code,this.cityName=s[1][a[1]].name,this.areaCode=i.code,this.areaName=i.name,this.multiIndex[e]=t,this.selectAddress(),this.setCacheAddressInfo()}},setCacheAddressInfo:function(){if(this.isCacheAddressInfo){var e={provinceCode:this.provinceCode,cityCode:this.cityCode,areaCode:this.areaCode};(0,o.setStorage)("cacheAddressInfo",JSON.stringify(e))}},chooseLocationAddress:function(){this.provinceCode=this.locationAddressInfo.provinceCode,this.provinceName=this.locationAddressInfo.provinceName,this.cityCode=this.locationAddressInfo.cityCode,this.cityName=this.locationAddressInfo.cityName,this.areaCode=this.locationAddressInfo.areaCode,this.areaName=this.locationAddressInfo.areaName,this.selectAddress(),this.setCacheAddressInfo()},selectAddress:function(){this.isShowAddressPopup=!1,this.$emit("selectAddress",{provinceCode:this.provinceCode,cityCode:this.cityCode,areaCode:this.areaCode})},dictArea:function(e,t,i,s){var a=this;if(this.isHnAppSet)if("529344"!=this.provinceCode)var o=529344,r=530070,n=530071;else o=this.provinceCode,r=this.cityCode,n=this.areaCode;else o=this.provinceCode||11e4,r=this.cityCode||110100,n=this.areaCode||110101;if(0==e){this.multiArray[0]=this.cityList;var c=this.multiArray[0];if(o)for(var d=0;d<c.length;d++)if(o==c[d].code){this.multiIndex[0]=d,this.provinceCode&&(this.provinceName=c[d].name);break}this.dictArea(o,!0)}else try{var l=[];l="AREA"==i?this.multiArray[1]:this.cityList,l.forEach((function(o,c){if(o.code==e){console.log("code",e);var d=o.sublist;if("AREA"==i?a.multiArray[2]=o.sublist:a.multiArray[1]=o.sublist,n&&t&&"AREA"==i){console.log("this.multiArray",a.multiArray);for(var l=0;l<d.length;l++)if(n==d[l].code){console.log("i",l),a.multiIndex[2]=l,(a.areaCode||a.isOnlyShowAreaName)&&(a.areaName=d[l].name);break}}else if(r&&t)for(l=0;l<d.length;l++)if(r==d[l].code){a.multiIndex[1]=l,a.cityCode&&(a.cityName=d[l].name),a.dictArea(r,!0,"AREA");break}throw s&&a.dictArea(a.multiArray[1][0].code,!1,"AREA"),a.multiArray=JSON.parse(JSON.stringify(a.multiArray)),console.log("cityList",a.multiArray),Error()}}))}catch(u){}}}};t.default=d},"4b2e":function(e,t,i){"use strict";var s=i("2564"),a=i.n(s);a.a},"4e36":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}));var s={pageMeta:i("6d42").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":e.scaleFontSize+"px"}}),i("v-uni-view",{class:"wrapper "+(e.isGetSeats?"":"bg-purple")},[e.isGetSeats?i("v-uni-view",{staticClass:"verifyResult",staticStyle:{height:"100%"}},[i("v-uni-scroll-view",{attrs:{"scroll-y":!0}},[i("v-uni-view",{staticClass:"content"},[i("i",{staticClass:"icon icon-getSeats"}),i("v-uni-text",{staticClass:"tips"},[e._v("您已获得")]),i("v-uni-text",{staticClass:"subTips"},[e._v("本市0元脑健康筛查名额")]),i("v-uni-button",{staticClass:"btn btn-purple",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goScreenPage.apply(void 0,arguments)}}},[e._v("去筛查")]),i("v-uni-view",{staticClass:"tipsBox"},e._l(e.unAccordAgetipsList,(function(t,s){return i("v-uni-view",{key:s},[i("v-uni-text",{staticClass:"c-666"},[e._v(e._s(t.title))]),i("v-uni-text",{staticClass:"c-222"},[e._v(e._s(t.content))])],1)})),1)],1)],1)],1):[i("v-uni-view",{staticClass:"planBox"},e._l(2,(function(t,s){return i("v-uni-view",{key:s,class:(0==s?"one":"two")+" "+(e.tabIndex==s?"active":"")},[i("i",{class:"icon "+(0==s?"icon-planOne":"icon-planTwo")}),i("v-uni-text",[e._v(e._s(0==s?"1.确认身份信息":"2.校验身份"))])],1)})),1),i("v-uni-view",{staticClass:"contentBox"},[e.isCompleteUserInfo?i("v-uni-view",{staticClass:"completeUserInfo"},[i("CompleteUserInfo",{ref:"myCompleteUserInfo",attrs:{completeUserInfoParams:e.completeUserInfoParams},on:{saveCallback:function(t){arguments[0]=t=e.$handleEvent(t),e.beforeJudge.apply(void 0,arguments)}}})],1):e._e(),e.isVerifyLocation?i("v-uni-view",{staticClass:"verifyLocation"},[i("v-uni-image",{attrs:{src:"https://amity-oss.yimed.cn/static/wxappSource/loadding.gif"}}),i("v-uni-text",{staticClass:"c-999"},[e._v("校验当前位置")])],1):e._e(),e.isUnLocation||e.isUnAccordLocation||e.isUnAccordAge||e.isVerifySuccess?i("v-uni-view",{staticClass:"verifyResult"},[i("v-uni-scroll-view",{attrs:{"scroll-y":!0}},[i("v-uni-view",{staticClass:"content"},[i("i",{class:"icon "+(e.isVerifySuccess?"icon-verifySuccess":"icon-verifyFail")}),i("v-uni-text",{staticClass:"tips"},[e._v(e._s(e.isVerifySuccess?"校验通过":"校验失败"))]),e.isUnLocation?i("v-uni-text",{staticClass:"subTips"},[e._v("您未开启位置校验功能")]):e._e(),e.isUnAccordLocation?i("v-uni-text",{staticClass:"subTips"},[e._v("您当前不在"+e._s(e.priceScheme.cityName)+e._s(e.priceScheme.areaName))]):e._e(),e.isUnAccordAge?i("v-uni-text",{staticClass:"subTips"},[e._v("年龄需大于等于"+e._s(e.priceScheme.ageNotBelow)+"周岁")]):e._e(),e.isVerifySuccess?i("v-uni-text",{staticClass:"subTips"},[e._v("点击按钮立即参与脑健康筛查")]):e._e(),e.isUnLocation||e.isUnAccordLocation?[i("v-uni-button",{staticClass:"btn btn-purple",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.againVerify.apply(void 0,arguments)}}},[e._v("重新校验")]),i("v-uni-view",{staticClass:"service-tips fz-32 c-666"},[e._v("如有疑问，请"),i("v-uni-text",{staticClass:"c-purple fz-32",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goCustomer.apply(void 0,arguments)}}},[e._v("联系客服")])],1)]:e._e(),e.isVerifySuccess?i("v-uni-button",{staticClass:"btn btn-purple",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goScreenPage.apply(void 0,arguments)}}},[e._v("去筛查")]):e._e(),e.isUnAccordAge?i("v-uni-view",{staticClass:"tipsBox"},e._l(e.unAccordAgetipsList,(function(t,s){return i("v-uni-view",{key:s},[i("v-uni-text",{staticClass:"c-666"},[e._v(e._s(t.title))]),i("v-uni-text",{staticClass:"c-222"},[e._v(e._s(t.content))])],1)})),1):e._e()],2)],1)],1):e._e()],1)]],2),i("CustomerServicePopup",{ref:"myCustomerServicePopup"}),i("CustomModal",{ref:"myCustomModal"})],1)},o=[]},"53b1":function(e,t,i){"use strict";i.r(t);var s=i("3e24"),a=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);t["default"]=a.a},"574f":function(e,t,i){"use strict";i.r(t);var s=i("ade0"),a=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);t["default"]=a.a},5774:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,'.wrapper[data-v-32d82460]{height:100%;margin-bottom:0;overflow:hidden;background-color:#fff;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.wrapper.bg-purple[data-v-32d82460]{background-color:#f5f4ff}.wrapper .planBox[data-v-32d82460]{height:29.33333vw;padding:3.33333vw 4vw}.wrapper .planBox>uni-view[data-v-32d82460]{position:relative;float:left;width:50%;text-align:center}.wrapper .planBox>uni-view uni-text[data-v-32d82460]{display:block;margin-top:2.66667vw;font-size:4.53333rem;font-weight:500;color:#999}.wrapper .planBox>uni-view.active uni-text[data-v-32d82460]{color:#846bff}.wrapper .planBox>uni-view.active[data-v-32d82460]:last-child::before{background-position:-6px -680px}.wrapper .planBox>uni-view[data-v-32d82460]:last-child::before{content:"";position:absolute;width:20px;height:18px;left:-10px;top:4.13333vw;background-image:url(https://amity-oss.yimed.cn/static/wxappSource/icon2.png);background-size:300px auto;background-position:-32px -680px}.wrapper .contentBox[data-v-32d82460]{position:relative;height:calc(100% - 29.33333vw);background-color:#fff;border-radius:4vw 4vw 0 0;overflow:auto}.wrapper uni-button[data-v-32d82460]{width:92vw;height:13.33333vw;line-height:13.06667vw;font-size:4.8rem;text-align:center;border-radius:7.2vw}.wrapper .verifyLocation[data-v-32d82460]{padding-top:26.66667vw;text-align:center}.wrapper .verifyLocation uni-image[data-v-32d82460]{display:block;width:26.66667vw;height:26.66667vw;margin:0 auto}.wrapper .verifyLocation uni-text[data-v-32d82460]{display:inline-block;margin-top:4vw;font-size:4.26667rem}.wrapper .verifyResult[data-v-32d82460]{height:100%;overflow:auto;text-align:center}.wrapper .verifyResult uni-scroll-view[data-v-32d82460]{height:100%}.wrapper .verifyResult uni-scroll-view .content[data-v-32d82460]{padding:8vw 4vw 2.66667vw}.wrapper .verifyResult .tipsBox[data-v-32d82460]{margin:0}.wrapper .verifyResult .tips[data-v-32d82460]{display:block;margin-top:4vw;font-size:6.4rem;font-weight:500}.wrapper .verifyResult .subTips[data-v-32d82460]{display:block;font-size:4.8rem;margin:1.33333vw 0 8vw}.wrapper .verifyResult uni-button[data-v-32d82460]{width:76vw;margin-bottom:4vw}.wrapper .verifyResult .service-tips[data-v-32d82460]{margin-top:5.33333vw}.wrapper .tipsBox[data-v-32d82460]{margin:0 4vw;padding:1.33333vw 4vw;background-color:#f9f9f9;border-radius:4vw;text-align:left;line-height:5.33333vw}.wrapper .tipsBox>uni-view[data-v-32d82460]{margin:1.33333vw 0}.wrapper .completeUserInfo[data-v-32d82460]{position:relative;height:100%;overflow:hidden}.wrapper .completeUserInfo[data-v-32d82460] .commonFormBox .form-content{top:0!important}@media (orientation:landscape){.wrapper .planBox[data-v-32d82460]{height:38.73239rem;padding:4.40141rem 5.28169rem}.wrapper .planBox>uni-view uni-text[data-v-32d82460]{margin-top:3.52113rem;font-size:5.98592rem}.wrapper .planBox>uni-view[data-v-32d82460]:last-child::before{top:5.45775rem}.wrapper .contentBox[data-v-32d82460]{height:calc(100% - 38.73239rem);border-radius:5.28169rem 5.28169rem 0 0}.wrapper uni-button[data-v-32d82460]{width:121.47887rem;height:17.60563rem;line-height:17.25352rem;font-size:6.33803rem;border-radius:9.50704rem}.wrapper .verifyLocation[data-v-32d82460]{padding-top:35.21127rem}.wrapper .verifyLocation uni-image[data-v-32d82460]{width:35.21127rem;height:35.21127rem}.wrapper .verifyLocation uni-text[data-v-32d82460]{margin-top:5.28169rem;font-size:5.6338rem}.wrapper .verifyResult uni-scroll-view .content[data-v-32d82460]{padding:10.56338rem 5.28169rem 3.52113rem}.wrapper .verifyResult .tips[data-v-32d82460]{margin-top:5.28169rem;font-size:8.4507rem}.wrapper .verifyResult .subTips[data-v-32d82460]{font-size:6.33803rem;margin:1.76056rem 0 10.56338rem}.wrapper .verifyResult uni-button[data-v-32d82460]{width:100.35211rem;margin-bottom:5.28169rem}.wrapper .verifyResult .service-tips[data-v-32d82460]{margin-top:7.04225rem}.wrapper .tipsBox[data-v-32d82460]{margin:0 5.28169rem;padding:1.76056rem 5.28169rem;border-radius:5.28169rem;line-height:7.04225rem}.wrapper .tipsBox>uni-view[data-v-32d82460]{margin:1.76056rem 0}}',""])},"5de3":function(e,t,i){"use strict";i.r(t);var s=i("ea4f"),a=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);t["default"]=a.a},"60ad":function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".hideTextArea[data-v-51050a73]{position:fixed;right:-100%}",""])},"775d":function(e,t,i){"use strict";i.r(t);var s=i("ded9"),a=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);t["default"]=a.a},"7c02":function(e,t,i){var s=i("84a5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("4f06").default;a("039c2b1f",s,!0,{sourceMap:!1,shadowMode:!1})},"7fdb":function(e,t,i){"use strict";var s=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(i("c0a1")),o=s(i("f121")),r=i("3de1"),n={data:function(){return{isWxAPP:o.default.isWxAPP,address:"",textareaHeight:44,isHnAppSet:o.default.currentApps.currentHospid==o.default.appsVersionSet.hnAppSet.currentHospid,isShowAddressText:!0,firstChangeAddress:!1}},props:{isUpdateUserInfoPage:!1,isCompleteUserInfoPage:!1,isSetLocation:!1,isLoginPage:!1},computed:{isHideTabBar:function(){return this.$store.state.app.isHideTabBar}},components:{PickerAddress:a.default},watch:{firstChangeAddress:function(e){var t=this;e&&o.default.isWxAPP&&r.isIos&&setTimeout((function(){t.isShowAddressText=!1,setTimeout((function(){t.isShowAddressText=!0}),500)}))}},methods:{selectAddress:function(e){this.$emit("selectAddress",e)},updateData:function(e,t){var i=e.detail.value;this.$emit("updateData",t,i)},setTextareaHeight:function(e,t){var i=this;if(!this.isChangeLineCount){if(this.isChangeLineCount=!0,console.log("event",e),e.detail.lineCount>1){var s=e.detail.lineCount,a=44*s;console.log("height",a),this[t]=a}else 1==e.detail.lineCount&&(this[t]=44);setTimeout((function(){i.isChangeLineCount=!1}),100)}}}};t.default=n},8258:function(e,t,i){"use strict";var s=i("2914"),a=i.n(s);a.a},"84a5":function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".labelName[data-v-677fe269]{line-height:13.33333vw}.textareaBox[data-v-677fe269]{margin-bottom:2.66667vw;padding:2.93333vw;background:#f9f9f9;border-radius:5.33333vw}.textareaBox uni-textarea[data-v-677fe269]{font-size:4.26667rem;line-height:5.86667vw;width:100%}@media (orientation:landscape){.labelName[data-v-677fe269]{line-height:17.60563rem}.textareaBox[data-v-677fe269]{margin-bottom:3.52113rem;padding:3.87324rem;border-radius:7.04225rem}.textareaBox uni-textarea[data-v-677fe269]{font-size:5.6338rem;line-height:7.74648rem}}",""])},"930a":function(e,t,i){"use strict";i.r(t);var s=i("9b68"),a=i("775d");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("4b2e");var r,n=i("f0c5"),c=Object(n["a"])(a["default"],s["b"],s["c"],!1,null,"4c35cd1b",null,!1,s["a"],r);t["default"]=c.exports},"9b68":function(e,t,i){"use strict";var s;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showService?i("v-uni-view",{staticClass:"fixedPopup servicePopup"},[i("v-uni-view",{staticClass:"fixedPopup-content"},[i("v-uni-view",{staticClass:"consult-image"},[i("i",{staticClass:"icon-service"}),i("i",{staticClass:"iconfont2 icon_pop_up_cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showService=!1}}})]),i("v-uni-view",{staticClass:"service"},[i("v-uni-view",{staticClass:"service-content"},[e.kfInfo.kfurlVar?i("v-uni-view",{class:e.kfInfo.showKfPhone?"":"noBorder",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goCustomerService.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"flex-between flex-center-v"},[i("v-uni-view",{staticClass:"flex-center-v"},[i("i",{staticClass:"iconfont1 icon_icon_customer_service_little1"}),i("v-uni-view",{staticClass:"fz-32 c-222"},[e._v("在线客服")])],1),i("i",{staticClass:"iconfont1 icon_icon_jump_02 fz-24"})],1)],1):e._e(),e.kfInfo.showKfPhone?i("v-uni-view",{staticClass:"noBorder",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.callPhone(e.kfInfo.kfPhone)}}},[i("v-uni-view",{staticClass:"flex-between flex-center-v"},[i("v-uni-view",{staticClass:"flex-center-v"},[i("i",{staticClass:"iconfont3 icon_offline_telephone"}),i("v-uni-view",{staticClass:"fz-32 c-222"},[e._v(e._s(e.kfInfo.kfPhone))])],1),i("i",{staticClass:"iconfont1 icon_icon_jump_02 fz-24"})],1),i("v-uni-view",{staticClass:"workTime"},[i("v-uni-view",{staticClass:"fz-32 c-222"},[i("v-uni-text",{staticClass:"fz-32 c-666"},[e._v("工作时间：")]),e._v(e._s(e.kfInfo.kfWorkTime))],1)],1)],1):e._e()],1)],1)],1)],1):e._e()},o=[]},a007:function(e,t,i){"use strict";var s;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"addressBox"},[i("v-uni-label",{class:e.isCompleteUserInfoPage||e.isUpdateUserInfoPage?"flex-father flex-center":""},[e.isCompleteUserInfoPage?i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]):e._e(),i("v-uni-view",{class:e.isCompleteUserInfoPage||e.isUpdateUserInfoPage?"labelName":"form-content-title"},[e._v("所属地区")]),i("PickerAddress",{ref:"myPickerAddress",class:e.isCompleteUserInfoPage||e.isUpdateUserInfoPage?"address flex-child":"",attrs:{id:"myPickerAddress",isSetLocation:e.isSetLocation},on:{selectAddress:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAddress.apply(void 0,arguments)}}})],1),e.isLoginPage?e._e():i("v-uni-label",{class:e.isCompleteUserInfoPage||e.isUpdateUserInfoPage?"flex-father flex-center":""},[e.isCompleteUserInfoPage&&e.isHnAppSet?i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]):e._e(),i("v-uni-view",{class:e.isCompleteUserInfoPage||e.isUpdateUserInfoPage?"labelName":"form-content-title"},[e._v("详细地址"),e.isCompleteUserInfoPage&&!e.isHnAppSet?i("v-uni-text",{staticClass:"c-999"},[e._v("[选填]")]):e._e()],1),e.isShowAddressText?i("v-uni-textarea",{staticClass:"fz-36",class:[e.isCompleteUserInfoPage||e.isUpdateUserInfoPage?"flex-child address":"c-666",e.isHideTabBar?"hideTextArea":""],style:"height:"+e.textareaHeight+"rpx !important",attrs:{"placeholder-style":(e.isCompleteUserInfoPage||e.isUpdateUserInfoPage?"font-size: 32rpx;":"font-size: 36rpx;")+"color:#999;",placeholder:"请输入详细地址","auto-height":!e.isWxAPP,"disable-default-padding":!0},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.updateData(t,"address")},linechange:function(t){arguments[0]=t=e.$handleEvent(t),e.setTextareaHeight(t,"textareaHeight")}},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}):e._e()],1)],1)},o=[]},a4ce:function(e,t,i){"use strict";var s;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"picker"},[i("v-uni-view",{staticClass:"flex-father flex-center custom-picker",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleShowPicker.apply(void 0,arguments)}}},[e.areaName?i("v-uni-view",{staticClass:"flex-child line1 areaName"},[e.isOnlyShowAreaName?e._e():[e._v(e._s(e.provinceName)+e._s(e.cityName))],e._v(e._s(e.areaName))],2):i("v-uni-view",{staticClass:"c-999 flex-child"},[e._v("请选择所在地区")]),e.isOnlyShowAreaName||e.isUnAlterAddress?e._e():i("i",{staticClass:"iconfont1 icon_icon_jump_02"})],1),e.isShowAddressPopup?i("v-uni-view",{staticClass:"fixedPopup mask bottom addressPopup",on:{touchmove:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.isShowAddressPopup=!1}}},[i("v-uni-view",{staticClass:"fixedPopup-content",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[i("i",{staticClass:"iconfont2 icon_pop_up_cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isShowAddressPopup=!1}}}),i("v-uni-view",{staticClass:"fixedPopup-content-title vCenter"},[e._v("选择城市")]),e.isHnAppSet?e._e():i("v-uni-view",{staticClass:"addressInfo flex-father"},[e.isAuthorizeAddress?i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",[e._v("当前定位")]),e.locationAddressInfo.areaName?i("v-uni-text",{staticClass:"btn btn-empty-purple flex-child line1",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseLocationAddress.apply(void 0,arguments)}}},[e._v(e._s(e.locationAddressInfo.areaName))]):e._e()],1):[i("v-uni-text",{staticClass:"flex-child"},[e._v("定位失败，定位权限未开启")])]],2),i("v-uni-view",{staticClass:"addressBox flex-father"},e._l(e.addressTypeList,(function(t,s){return i("v-uni-view",{staticClass:"flex-child"},[i("v-uni-scroll-view",{attrs:{"scroll-y":!0,"scroll-top":t.scrollTop}},e._l(e.multiArray[s],(function(t,a){return i("v-uni-view",{staticClass:"address-item line1 js-addressItem",class:e.multiIndex[s]==a?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.bindMultiPickerChange(s,a,t)}}},[e._v(e._s(t.name))])})),1)],1)})),1)],1)],1):e._e()],1)},o=[]},a9e1:function(e,t,i){var s=i("d4c8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("4f06").default;a("add21798",s,!0,{sourceMap:!1,shadowMode:!1})},ade0:function(e,t,i){"use strict";var s=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(i("4b4e")),o=s(i("930a")),r=s(i("2181")),n=i("3de1"),c=i("cf45"),d=i("24fd"),l={components:{CustomModal:a.default,CustomerServicePopup:o.default,CompleteUserInfo:r.default},data:function(){return{tabIndex:0,completeUserInfoParams:{},isCompleteUserInfo:!1,isVerifyLocation:!1,isUnLocation:!1,isUnAccordLocation:!1,isUnAccordAge:!1,unAccordAgetipsList:[],isVerifySuccess:!1,isGetSeats:!1,priceScheme:{cityName:"",areaName:"",ageNotBelow:""},isHaveScreenOrg:!1}},onLoad:function(e){"getSeats"==e.type?this.isGetSeats=!0:"verify"==e.type&&(this.isCompleteUserInfo=!0,this.tabIndex=0,this.completeUserInfoParams={isShowEducation:!0},n.native.setNavTitle("校验身份")),"true"==e.isHaveScreenOrg&&(this.isHaveScreenOrg=!0),this.priceId=e.priceId;var t=(0,n.getStorage)("priceScheme");t=t?JSON.parse(t):{},this.priceScheme=t,this.unAccordAgetipsList=[{title:"活动主题：",content:t.topic},{title:"活动说明：",content:t.topicMemo}]},computed:{scaleFontSize:function(){return this.$store.state.scaleFontSize}},methods:{wxgetLocation:function(){var e=this;if(navigator.geolocation){var t=!1;navigator.geolocation.getCurrentPosition((function(i){console.log("position",i),t=!0,e.latitude=i.coords.latitude,e.longitude=i.coords.longitude,e.submitGetQualify("LOCATION")}),(function(t){e.isSubmitFlag=!1,e.isUnLocation=!0,e.isUnAccordLocation=!1,e.isVerifyLocation=!1})),setTimeout((function(){t||(e.isSubmitFlag=!1,e.isUnLocation=!0,e.isUnAccordLocation=!1,e.isVerifyLocation=!1)}),5e3)}else e.isSubmitFlag=!1,e.isUnLocation=!0,e.isUnAccordLocation=!1,e.isVerifyLocation=!1},getLocationFun:function(){var e=this;uni.getLocation({type:"wgs84",success:function(t){var i=t.latitude,s=t.longitude;e.latitude=i,e.longitude=s,e.submitGetQualify("LOCATION")},fail:function(){console.log("fali"),console.log("授权4"),e.isUnLocation=!0,e.isUnAccordLocation=!1,e.isVerifyLocation=!1}})},goCustomer:function(){this.$refs.myCustomerServicePopup.getServiceInfo()},goScreenPage:function(){n.native.go("/pages/screen/screen/index","/screen")},againVerify:function(){this.isSubmitFlag||(this.isSubmitFlag=!0,this.wxgetLocation())},beforeJudge:function(){var e=this;(0,c.loadUserInfo)(!1,(function(t){var i=t.userPatientScreenite||{};if(i.screenOrgCode){var s=(0,n.getStorage)("selectedAreaCode");(0,d.getAddressAdaptive)(s).then((function(t){"000"==t.errorCode&&(t.entity.acquired?(e.isVerifySuccess=!0,e.isVerifyLocation=!1,e.isCompleteUserInfo=!1,e.tabIndex=1):e.submitGetQualify("PRESTOREUSR"))}))}else e.submitGetQualify("PRESTOREUSR")}))},submitGetQualify:function(e){var t=this,i={priceId:this.priceId,selectedAreaCode:(0,n.getStorage)("selectedAreaCode"),type:e};"LOCATION"==e&&(i.lat=this.latitude,i.lng=this.longitude),(0,d.getAdaptiveQualify)(i,!0).then((function(e){if(t.isCompleteUserInfo&&(t.$refs.myCompleteUserInfo.isSubmitFlag=!1),t.isSubmitFlag=!1,"000"==e.errorCode){var i=e.entity;"SUCCESS"==i.result||"BCP_BOUND_ALREADY"==i.result?(t.isVerifySuccess=!0,t.isVerifyLocation=!1,t.isCompleteUserInfo=!1,t.isUnAccordLocation=!1,t.isUnLocation=!1,t.isUnAccordAge=!1,t.tabIndex=1):"AGE_NOT_MATCH"==i.result?(t.isUnAccordAge=!0,t.isVerifyLocation=!1,t.isCompleteUserInfo=!1,t.tabIndex=1):"LOCATION_ABNORMAL"==i.result||"LOCATION_SERVER_UBAVAILABLE"==i.result?(t.isUnAccordLocation=!0,t.isVerifyLocation=!1,t.isUnLocation=!1,t.isCompleteUserInfo=!1,t.tabIndex=1):"PATIENT_INFO_MISS"==i.result?n.native.toast("请完善用户信息"):"BCP_INVALID"==i.result?n.native.toast("该活动已失效"):t.isCompleteUserInfo&&(t.isVerifyLocation=!0,t.isCompleteUserInfo=!1,t.tabIndex=1,t.wxgetLocation())}else n.native.toast(e.message)})).finally((function(){t.isSubmitFlag=!1,t.isCompleteUserInfo&&(t.$refs.myCompleteUserInfo.isSubmitFlag=!1)}))}}};t.default=l},b397:function(e,t,i){"use strict";var s=i("7c02"),a=i.n(s);a.a},b7a7:function(e,t,i){"use strict";var s=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("28a5");var a=i("3de1"),o=i("2934"),r=s(i("f121")),n={data:function(){return{isWxAPP:r.default.isWxAPP,smokeDictList:[],drinkDictList:[],medicalDictList:[],medicalHistoryTextareaHeight:44,tumorHistoryDictList:[],tumorHistoryTextareaHeight:44,surgicalHistoryDictList:[],surgicalHistoryTextareaHeight:44,familyHistoryDictList:[],familyHistoryTextareaHeight:44,diseaseHistoryData:{},isShowTextArea:!0,firstChangeTextarea:!0}},props:["diseaseHistoryParams"],mounted:function(){this.getDict()},watch:{diseaseHistoryParams:{immediate:!0,handler:function(e){var t=this;if(e){var i=JSON.parse(JSON.stringify(e)),s={};s.familyHistoryText=i.familyHistoryText,s.medicalHistoryText=i.medicalHistoryText,s.surgicalHistoryText=i.surgicalHistoryText,s.tumorHistoryText=i.tumorHistoryText,i.smokeFreq&&(s.smokeFreq=i.smokeFreq,s.smokeFreqCode=i.smokeFreqCode),i.drinkFreq&&(s.drinkFreq=i.drinkFreq,s.drinkFreqCode=i.drinkFreqCode),i.medicalHistory?(s.medicalHistoryCode=i.medicalHistoryCode,s.medicalHistory=i.medicalHistory,s.medicalHistoryCodeArr=i.medicalHistoryCode.split(","),s.medicalHistoryArr=i.medicalHistory.split(",")):(s.medicalHistoryCodeArr=[],s.medicalHistoryArr=[]),i.tumorHistory?(s.tumorHistoryCode=i.tumorHistoryCode,s.tumorHistory=i.tumorHistory,s.tumorHistoryCodeArr=i.tumorHistoryCode.split(","),s.tumorHistoryArr=i.tumorHistory.split(",")):(s.tumorHistoryCode="",s.tumorHistoryCodeArr=[],s.tumorHistoryArr=[]),i.surgicalHistory?(s.surgicalHistoryCode=i.surgicalHistoryCode,s.surgicalHistory=i.surgicalHistory,s.surgicalHistoryCodeArr=i.surgicalHistoryCode.split(","),s.surgicalHistoryArr=i.surgicalHistory.split(",")):(s.surgicalHistoryCode="",s.surgicalHistoryCodeArr=[],s.surgicalHistoryArr=[]),i.familyHistory?(s.familyHistoryCode=i.familyHistoryCode,s.familyHistory=i.familyHistory,s.familyHistoryCodeArr=i.familyHistoryCode.split(","),s.familyHistoryArr=i.familyHistory.split(",")):(s.familyHistoryCode="",s.familyHistoryCodeArr=[],s.familyHistoryArr=[]),this.diseaseHistoryData=s,this.firstChangeTextarea&&r.default.isWxAPP&&a.isIos&&(this.firstChangeTextarea=!1,setTimeout((function(){t.isShowTextArea=!1,setTimeout((function(){t.isShowTextArea=!0}),500)})))}}}},methods:{setHistoryCode:function(e,t,i){console.log("item",e);var s=this.diseaseHistoryData[t+"Arr"].indexOf(e.code);if(s>=0)this.diseaseHistoryData[t+"Arr"].splice(s,1),this.diseaseHistoryData[i+"Arr"].splice(s,1);else if("无"==e.name)this.diseaseHistoryData[t+"Arr"]=[e.code],this.diseaseHistoryData[i+"Arr"]=[e.name];else{var a=this.diseaseHistoryData[i+"Arr"].indexOf("无");a>=0&&(this.diseaseHistoryData[t+"Arr"].splice(a,1),this.diseaseHistoryData[i+"Arr"].splice(a,1)),this.diseaseHistoryData[t+"Arr"].push(e.code),this.diseaseHistoryData[i+"Arr"].push(e.name)}this.diseaseHistoryData[t]=this.diseaseHistoryData[t+"Arr"].join(","),this.diseaseHistoryData[i]=this.diseaseHistoryData[i+"Arr"].join(","),this.changeDiseaseHistoryData()},changeDiseaseHistoryData:function(){this.diseaseHistoryData=JSON.parse(JSON.stringify(this.diseaseHistoryData));var e=JSON.parse(JSON.stringify(this.diseaseHistoryData));for(var t in delete e.medicalHistoryCodeArr,delete e.medicalHistoryArr,delete e.tumorHistoryCodeArr,delete e.tumorHistoryArr,delete e.surgicalHistoryCodeArr,delete e.surgicalHistoryArr,delete e.familyHistoryCodeArr,delete e.familyHistoryArr,e)e[t]!=this.diseaseHistoryParams[t]&&this.$emit("changeDiseaseHistoryData",t,e[t])},setTextareaHeight:function(e,t){if(console.log("event",e),e.detail.lineCount>1){var i=e.detail.lineCount,s=44*i;console.log("height",s),this[t]=s}else 1==e.detail.lineCount&&(this[t]=44)},getDict:function(){var e=this;this.smokeDictList=[],(0,o.listDictComm)("2005-2006-2100-2101-2102-2103").then((function(t){"000"==t.errorCode?(e.smokeDictList=t.entity["2005"],e.drinkDictList=t.entity["2006"],e.medicalDictList=t.entity["2100"],e.tumorHistoryDictList=t.entity["2101"],e.surgicalHistoryDictList=t.entity["2102"],e.familyHistoryDictList=t.entity["2103"]):a.native.toast(t.message)}))},verifyFields:function(e){var t=!0,i=this.diseaseHistoryData;i.smokeFreq?i.drinkFreq?i.medicalHistory||i.medicalHistoryText?i.tumorHistory||i.tumorHistoryText?i.surgicalHistory||i.surgicalHistoryText?i.familyHistory||i.familyHistoryText||(a.native.toast("家族史不能为空"),t=!1):(a.native.toast("手术史不能为空"),t=!1):(a.native.toast("肿瘤史不能为空"),t=!1):(a.native.toast("病史不能为空"),t=!1):(a.native.toast("饮酒不能为空"),t=!1):(a.native.toast("吸烟不能为空"),t=!1),e(t)}}};t.default=n},bb8d:function(e,t,i){"use strict";i.r(t);var s=i("b7a7"),a=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);t["default"]=a.a},bff1:function(e,t,i){"use strict";i.r(t);var s=i("c950"),a=i("bb8d");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("b397");var r,n=i("f0c5"),c=Object(n["a"])(a["default"],s["b"],s["c"],!1,null,"677fe269",null,!1,s["a"],r);t["default"]=c.exports},c0a1:function(e,t,i){"use strict";i.r(t);var s=i("a4ce"),a=i("53b1");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("d4dc");var r,n=i("f0c5"),c=Object(n["a"])(a["default"],s["b"],s["c"],!1,null,"7d28ecd5",null,!1,s["a"],r);t["default"]=c.exports},c27a:function(e,t,i){"use strict";i.r(t);var s=i("4e36"),a=i("574f");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("8258");var r,n=i("f0c5"),c=Object(n["a"])(a["default"],s["b"],s["c"],!1,null,"32d82460",null,!1,s["a"],r);t["default"]=c.exports},c4c9:function(e,t,i){"use strict";var s=i("a9e1"),a=i.n(s);a.a},c950:function(e,t,i){"use strict";var s;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-label",[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("吸烟")]),i("v-uni-view",{staticClass:"commonRadioBox"},e._l(e.smokeDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:t.code==e.diseaseHistoryData.smokeFreqCode?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.diseaseHistoryData.smokeFreqCode=t.code,e.diseaseHistoryData.smokeFreq=t.name,e.changeDiseaseHistoryData()}}},[e._v(e._s(t.name))])})),1)],1),i("v-uni-label",[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("饮酒")]),i("v-uni-view",{staticClass:"commonRadioBox"},e._l(e.drinkDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:t.code==e.diseaseHistoryData.drinkFreqCode?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.diseaseHistoryData.drinkFreqCode=t.code,e.diseaseHistoryData.drinkFreq=t.name,e.changeDiseaseHistoryData()}}},[e._v(e._s(t.name))])})),1)],1),i("v-uni-label",[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("病史")]),i("v-uni-view",{staticClass:"commonRadioBox"},e._l(e.medicalDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:e.diseaseHistoryData.medicalHistoryCodeArr.indexOf(t.code)>=0?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.setHistoryCode(t,"medicalHistoryCode","medicalHistory")}}},[e._v(e._s(t.name))])})),1),i("v-uni-view",{staticClass:"textareaBox"},[e.isShowTextArea?i("v-uni-textarea",{style:"height:"+e.medicalHistoryTextareaHeight+"rpx",attrs:{"placeholder-style":"font-size: 32rpx;color: #AFB2B9;",placeholder:"其他病史，请输入",maxlength:"50","disable-default-padding":!0,"auto-height":!e.isWxAPP},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.changeDiseaseHistoryData.apply(void 0,arguments)},linechange:function(t){arguments[0]=t=e.$handleEvent(t),e.setTextareaHeight(t,"medicalHistoryTextareaHeight")}},model:{value:e.diseaseHistoryData.medicalHistoryText,callback:function(t){e.$set(e.diseaseHistoryData,"medicalHistoryText",t)},expression:"diseaseHistoryData.medicalHistoryText"}}):e._e()],1)],1),i("v-uni-label",[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("肿瘤史")]),i("v-uni-view",{staticClass:"commonRadioBox"},e._l(e.tumorHistoryDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:e.diseaseHistoryData.tumorHistoryCodeArr.indexOf(t.code)>=0?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.setHistoryCode(t,"tumorHistoryCode","tumorHistory")}}},[e._v(e._s(t.name))])})),1),i("v-uni-view",{staticClass:"textareaBox"},[e.isShowTextArea?i("v-uni-textarea",{style:"height:"+e.tumorHistoryTextareaHeight+"rpx",attrs:{"placeholder-style":"font-size: 32rpx;color: #AFB2B9;",placeholder:"若有，请备注具体肿瘤与治疗",maxlength:"50","disable-default-padding":!0,"auto-height":!e.isWxAPP},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.changeDiseaseHistoryData.apply(void 0,arguments)},linechange:function(t){arguments[0]=t=e.$handleEvent(t),e.setTextareaHeight(t,"tumorHistoryTextareaHeight")}},model:{value:e.diseaseHistoryData.tumorHistoryText,callback:function(t){e.$set(e.diseaseHistoryData,"tumorHistoryText",t)},expression:"diseaseHistoryData.tumorHistoryText"}}):e._e()],1)],1),i("v-uni-label",[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("手术史")]),i("v-uni-view",{staticClass:"commonRadioBox"},e._l(e.surgicalHistoryDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:e.diseaseHistoryData.surgicalHistoryCodeArr.indexOf(t.code)>=0?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.setHistoryCode(t,"surgicalHistoryCode","surgicalHistory")}}},[e._v(e._s(t.name))])})),1),i("v-uni-view",{staticClass:"textareaBox"},[e.isShowTextArea?i("v-uni-textarea",{style:"height:"+e.surgicalHistoryTextareaHeight+"rpx",attrs:{"placeholder-style":"font-size: 32rpx;color: #AFB2B9;",placeholder:"若有，请备注具体疾病与手术",maxlength:"50","disable-default-padding":!0,"auto-height":!e.isWxAPP},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.changeDiseaseHistoryData.apply(void 0,arguments)},linechange:function(t){arguments[0]=t=e.$handleEvent(t),e.setTextareaHeight(t,"surgicalHistoryTextareaHeight")}},model:{value:e.diseaseHistoryData.surgicalHistoryText,callback:function(t){e.$set(e.diseaseHistoryData,"surgicalHistoryText",t)},expression:"diseaseHistoryData.surgicalHistoryText"}}):e._e()],1)],1),i("v-uni-label",[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("家族史")]),i("v-uni-view",{staticClass:"commonRadioBox"},e._l(e.familyHistoryDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:e.diseaseHistoryData.familyHistoryCodeArr.indexOf(t.code)>=0?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.setHistoryCode(t,"familyHistoryCode","familyHistory")}}},[e._v(e._s(t.name))])})),1),i("v-uni-view",{staticClass:"textareaBox"},[e.isShowTextArea?i("v-uni-textarea",{style:"height:"+e.familyHistoryTextareaHeight+"rpx",attrs:{"placeholder-style":"font-size: 32rpx;color: #AFB2B9;",placeholder:"其他家族史，请输入",maxlength:"50","disable-default-padding":!0,"auto-height":!e.isWxAPP},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.changeDiseaseHistoryData.apply(void 0,arguments)},linechange:function(t){arguments[0]=t=e.$handleEvent(t),e.setTextareaHeight(t,"familyHistoryTextareaHeight")}},model:{value:e.diseaseHistoryData.familyHistoryText,callback:function(t){e.$set(e.diseaseHistoryData,"familyHistoryText",t)},expression:"diseaseHistoryData.familyHistoryText"}}):e._e()],1)],1)],1)},o=[]},cb41:function(e,t,i){"use strict";var s;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"wrapper"},[i("NavBar",{attrs:{id:"navBar",backFlag:!0,navTitle:"完善信息"}}),i("v-uni-view",{staticClass:"commonFormBox",style:"height:"+e.commonHeight},[i("v-uni-scroll-view",{staticClass:"scrollBox",class:e.isHideTabBar?"pb0":"",attrs:{"scroll-y":!0}},[e.completeUserInfoParams.isShowFormTop?i("v-uni-view",{staticClass:"form-top"},[i("v-uni-view",{staticClass:"form-top-title"},[e._v(e._s(e.completeUserInfoParams.title))]),i("v-uni-view",{staticClass:"form-top-subTitle"},[e._v(e._s(e.completeUserInfoParams.subTitle))])],1):e._e(),i("v-uni-view",{staticClass:"form-content"},[i("v-uni-view",{staticClass:"detail"},[i("v-uni-label",{staticClass:"flex-father flex-center"},[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("真实姓名")]),i("v-uni-input",{staticClass:"flex-child",attrs:{"always-embed":!0,type:"text",placeholder:"请输入姓名"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.limitBlank(t,"name")}},model:{value:e.newFormMess.name,callback:function(t){e.$set(e.newFormMess,"name",t)},expression:"newFormMess.name"}})],1),i("v-uni-label",{staticClass:"flex-father flex-center flex-middle"},[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e.newFormMess.idCard?[e._l(e.cardTypeDictList,(function(t){return e.newFormMess.idType==t.code?[e._v(e._s(t.name))]:e._e()}))]:[e._v("身份证")]],2),i("v-uni-input",{staticClass:"flex-child",attrs:{type:"idcard","always-embed":!0,placeholder:"一经填写无法修改，请谨慎填写",disabled:""!=e.oriFormMess.idCard},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.cardNumInput.apply(void 0,arguments)}},model:{value:e.newFormMess.idCard,callback:function(t){e.$set(e.newFormMess,"idCard",t)},expression:"newFormMess.idCard"}})],1),i("v-uni-label",{staticClass:"flex-father flex-center"},[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("出生日期")]),i("v-uni-picker",{staticClass:"flex-child",attrs:{mode:"date",value:e.newFormMess.birthdate?e.newFormMess.birthdate:"1960-01-01",start:e.startDate,end:e.endDate},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.newFormMess.birthdate=t.detail.value}}},[i("v-uni-view",{staticClass:"picker flex-father flex-center"},[i("v-uni-input",{staticClass:"flex-child",attrs:{"always-embed":!0,value:e.newFormMess.birthdate,placeholder:"请选择出生日期",disabled:!0}}),i("i",{staticClass:"iconfont1 icon_icon_jump_02"})],1)],1)],1),i("v-uni-label",{staticClass:"flex-father flex-center sexBox"},[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("性别")]),i("v-uni-view",{staticClass:"flex-child"},e._l(e.sexArray,(function(t,s){return i("v-uni-view",{key:s,staticClass:"sexItem",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.newFormMess.sex=s}}},[i("i",{staticClass:"icon icon-radio-small",class:s==e.newFormMess.sex?"checked":""}),i("v-uni-text",[e._v(e._s(t))])],1)})),1)],1),i("v-uni-label",{staticClass:"radioBox"},[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("教育程度")]),i("v-uni-view",e._l(e.educationList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:t.code==e.newFormMess.eduCode?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.newFormMess.eduCode=t.code,e.newFormMess.eduName=t.name}}},[e._v(e._s(t.name))])})),1)],1),e.isHnAppSet?[i("v-uni-label",{staticClass:"radioBox"},[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("婚姻状况")]),i("v-uni-view",e._l(e.maritalDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:t.code==e.newFormMess.maritalCode?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.newFormMess.maritalCode=t.code,e.newFormMess.maritalName=t.name}}},[e._v(e._s(t.name))])})),1)],1),i("v-uni-label",{staticClass:"radioBox"},[i("v-uni-text",{staticClass:"commonStarRed"},[e._v("*")]),i("v-uni-text",{staticClass:"labelName"},[e._v("职业")]),i("v-uni-view",e._l(e.careerDictList,(function(t,s){return i("v-uni-text",{staticClass:"commonRadioItem",class:t.code==e.newFormMess.careerCode?"active":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.newFormMess.careerCode=t.code,e.newFormMess.careerName=t.name}}},[e._v(e._s(t.name))])})),1)],1),i("BelongsAddress",{ref:"myBelongsAddress",staticClass:"belongsAddress",attrs:{isCompleteUserInfoPage:!0},on:{selectAddress:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAddress.apply(void 0,arguments)},updateData:function(t){arguments[0]=t=e.$handleEvent(t),e.updateData.apply(void 0,arguments)}}}),i("DiseaseHistory",{ref:"myDiseaseHistory",attrs:{diseaseHistoryParams:e.newFormMess},on:{changeDiseaseHistoryData:function(t){arguments[0]=t=e.$handleEvent(t),e.changeDiseaseHistoryData.apply(void 0,arguments)}}})]:e._e()],2)],1)],1),e.isHideTabBar?e._e():i("v-uni-view",{staticClass:"btnBox"},[i("v-uni-button",{staticClass:"btn btn-purple",class:e.newFormMess.name&&(1==e.newFormMess.sex||0==e.newFormMess.sex)&&e.newFormMess.birthdate?"":"disabled",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitUserInfo.apply(void 0,arguments)}}},[e._v("下一步")])],1)],1)],1)},o=[]},cb7e:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".servicePopup[data-v-4c35cd1b]{z-index:1001;background:rgba(0,0,0,.5)}.servicePopup .fixedPopup-content[data-v-4c35cd1b]{border-radius:2.66667vw;width:80vw}.servicePopup .fixedPopup-content .consult-image[data-v-4c35cd1b]{position:relative;width:100%;height:54.4vw;background-color:#f5f4ff;border-radius:2.66667vw 2.66667vw 0 0;display:-webkit-box;display:-webkit-flex;display:flex}.servicePopup .fixedPopup-content .consult-image .icon-service[data-v-4c35cd1b]{width:100%;height:54.4vw;background:url(https://amity-oss.yimed.cn/static/wxappSource/consult.png);background-size:100% 100%;background-repeat:no-repeat}.servicePopup .fixedPopup-content .consult-image .icon_pop_up_cancel[data-v-4c35cd1b]{position:absolute;top:4vw;right:4vw}.servicePopup .fixedPopup-content .icon_icon_customer_service_little1[data-v-4c35cd1b],.servicePopup .fixedPopup-content .icon_offline_telephone[data-v-4c35cd1b]{font-size:5.33333rem;margin-right:2.66667vw}.servicePopup .fixedPopup-content .service[data-v-4c35cd1b]{position:relative}.servicePopup .fixedPopup-content .service-content[data-v-4c35cd1b]{position:absolute;top:-12vw;width:100%;border-radius:2.66667vw;background-color:#fff;padding:0 6.66667vw;padding-bottom:1.33333vw}.servicePopup .fixedPopup-content .service-content>uni-view[data-v-4c35cd1b]{padding:4vw 0;border-bottom:%?1?% solid #f5f5f5}.servicePopup .fixedPopup-content .service-content .noBorder[data-v-4c35cd1b]{border-bottom:none!important}.servicePopup .fixedPopup-content .service-content .workTime[data-v-4c35cd1b]{margin-top:3.2vw;margin-left:8vw}@media (orientation:landscape){.servicePopup .fixedPopup-content[data-v-4c35cd1b]{border-radius:3.52113rem;width:105.6338rem}.servicePopup .fixedPopup-content .consult-image[data-v-4c35cd1b]{height:71.83099rem;border-radius:3.52113rem 3.52113rem 0 0}.servicePopup .fixedPopup-content .consult-image .icon-service[data-v-4c35cd1b]{height:71.83099rem}.servicePopup .fixedPopup-content .consult-image .icon_pop_up_cancel[data-v-4c35cd1b]{top:5.28169rem;right:5.28169rem}.servicePopup .fixedPopup-content .icon_icon_customer_service_little1[data-v-4c35cd1b],.servicePopup .fixedPopup-content .icon_offline_telephone[data-v-4c35cd1b]{font-size:7.04225rem;margin-right:3.52113rem}.servicePopup .fixedPopup-content .service-content[data-v-4c35cd1b]{top:-15.84507rem;border-radius:3.52113rem;padding:0 8.80282rem;padding-bottom:1.76056rem}.servicePopup .fixedPopup-content .service-content>uni-view[data-v-4c35cd1b]{padding:5.28169rem 0;border-bottom:%?1?% solid #f5f5f5}.servicePopup .fixedPopup-content .service-content .workTime[data-v-4c35cd1b]{margin-top:4.22535rem;margin-left:10.56338rem}}",""])},cde0:function(e,t,i){"use strict";i.r(t);var s=i("7fdb"),a=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return s[e]}))}(o);t["default"]=a.a},d4c8:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".wrapper[data-v-54488538]{height:100%;background-color:#f4f4f4;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.commonFormBox[data-v-54488538]{background-color:#f5f5f5}.commonFormBox uni-scroll-view[data-v-54488538]{height:100%;padding-bottom:22.66667vw}.commonFormBox uni-scroll-view.pb0[data-v-54488538]{padding-bottom:0!important}.commonFormBox .form-top[data-v-54488538]{padding-right:33.33333vw}.commonFormBox .form-top[data-v-54488538]::after{width:96px;height:91px;right:6.66667vw;background-position:-30px -704px}.commonFormBox .form-content[data-v-54488538]{position:relative;margin:0 4vw 4vw!important;padding:0 0 4vw;border-radius:4vw!important;background:#fff}.commonFormBox .form-content .scrollBox[data-v-54488538]{height:100%}.commonFormBox .form-content[data-v-54488538] uni-label{padding-bottom:0;margin:0 4vw 0}.commonFormBox .form-content[data-v-54488538] uni-label:last-child{border-bottom:none}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox{padding:4.66667vw 0;text-align:right}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox .sexItem{display:inline-block;margin-left:8vw}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox .sexItem .icon{top:1.06667vw;margin-right:1.33333vw}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox .sexItem uni-text{color:#666}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox .sexItem .checked ~ uni-text{color:#846bff}.commonFormBox .form-content[data-v-54488538] uni-label.radioBox{padding:4.66667vw 0}.commonFormBox .form-content[data-v-54488538] uni-label.radioBox .commonRadioItem{margin:4vw 4vw 0 0}.commonFormBox .btnBox[data-v-54488538]{position:fixed;bottom:0;left:0;right:0;padding:2.66667vw 0;background:#fff;z-index:1}.commonFormBox .btnBox uni-button[data-v-54488538]{margin:0 4vw}[data-v-54488538] .belongsAddress uni-label{border-bottom:1px solid #f4f4f4!important}[data-v-54488538] .belongsAddress uni-label uni-textarea{margin-left:1.33333vw}@media (orientation:landscape){.commonFormBox uni-scroll-view[data-v-54488538]{padding-bottom:29.92958rem}.commonFormBox .form-top[data-v-54488538]{padding-right:44.01408rem}.commonFormBox .form-top[data-v-54488538]::after{right:8.80282rem}.commonFormBox .form-content[data-v-54488538]{margin:0 5.28169rem 5.28169rem!important;padding:0 0 5.28169rem;border-radius:5.28169rem!important}.commonFormBox .form-content[data-v-54488538] uni-label{margin:0 5.28169rem 0}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox{padding:6.16197rem 0}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox .sexItem{margin-left:10.56338rem}.commonFormBox .form-content[data-v-54488538] uni-label.sexBox .sexItem .icon{top:1.40845rem;margin-right:1.76056rem}.commonFormBox .form-content[data-v-54488538] uni-label.radioBox{padding:6.16197rem 0}.commonFormBox .form-content[data-v-54488538] uni-label.radioBox .commonRadioItem{margin:5.28169rem 5.28169rem 0 0}.commonFormBox .btnBox[data-v-54488538]{padding:3.52113rem 0}.commonFormBox .btnBox uni-button[data-v-54488538]{margin:0 5.28169rem}[data-v-54488538] .belongsAddress uni-label uni-textarea{margin-left:1.76056rem}}",""])},d4dc:function(e,t,i){"use strict";var s=i("eb4a"),a=i.n(s);a.a},ded9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i("2934"),a=i("3de1"),o={data:function(){return{showService:!1,kfInfo:{}}},props:{type:""},methods:{getServiceInfo:function(){var e=this;(0,s.getSettingcomm)("s10001").then((function(t){"000"==t.errorCode&&(e.kfInfo.kfurlVar=t.entity.onlinePage4Patient,e.kfInfo.kfPhone=t.entity.hotline,e.kfInfo.kfWorkTime=t.entity.workTime,""!=t.entity.hotline&&(e.kfInfo.showKfPhone=!0),""==t.entity.hotline&&""==t.entity.onlinePage4Patient?(e.showService=!1,a.native.modal({content:"",confirmText:"确定",title:"暂未开通在线客服功能",showCancel:!1,success:function(){}})):e.showService=!0)}))},callPhone:function(e){uni.makePhoneCall({phoneNumber:e})},goCustomerService:function(){a.native.go("/pages/customerService/customerService","/customerService")}}};t.default=o},ea4f:function(e,t,i){"use strict";var s=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(i("f121")),o=i("3de1"),r=i("ca00"),n=i("c24f"),c=i("24fd"),d=i("2934"),l=s(i("bff1")),u=s(i("11b2")),m=i("cf45"),v=s(i("268c")),f={data:function(){return{userInfo:null,newFormMess:{},oriFormMess:{},sexArray:["男","女"],startDate:"1900-01-01",endDate:(0,r.getServiceTime)(),maritalDictList:[],educationList:[],careerDictList:[],isDisabled:!0,cardTypeDictList:[],isHnAppSet:a.default.currentApps.currentHospid==a.default.appsVersionSet.hnAppSet.currentHospid,commonHeight:0}},components:{DiseaseHistory:l.default,BelongsAddress:u.default,NavBar:v.default},props:["completeUserInfoParams"],mounted:function(){this.isSubmitFlag=!1},watch:{isSubmitFlag:function(){this.isSubmitFlag?o.native.showLoading():o.native.hideLoading()},completeUserInfoParams:{immediate:!0,handler:function(e){e&&(this.getUserInfo(),this.sensitiveInfo(),this.getDict())}}},computed:{isHideTabBar:function(){return this.$store.state.app.isHideTabBar}},methods:{limitBlank:function(e,t){var i=this;setTimeout((function(){i.newFormMess[t]=(0,o.limitBlank)(e)}),100)},getDict:function(){var e=this;(0,d.listDictComm)("3001-3002-3004-3005").then((function(t){"000"==t.errorCode?(e.maritalDictList=t.entity["3001"],e.educationList=t.entity["3002"],e.careerDictList=t.entity["3004"],e.cardTypeDictList=t.entity["3005"]):o.native.toast(t.message)}))},changeDiseaseHistoryData:function(e,t){this.newFormMess[e]=t},getSexStr:function(e){return(0,o.getSexStr)(e)},imageError:function(){return(0,o.getDefaultIcon)(this.newFormMess.sex,"PATIENT")},getUserInfo:function(){var e=this,t=(0,r.getUserId)();(0,n.getUserInfo)(t).then((function(t){var i=t.entity;if("000"==t.errorCode){var s=i.userPatient,a=i.userPatientExtra||{};a&&(s.provinceCode=a.provinceCode,s.cityCode=a.cityCode,s.areaCode=a.areaCode,s.eduCode=a.eduCode,s.eduName=a.eduName,s.eduName=a.eduName,s.maritalCode=a.maritalCode,s.maritalName=a.maritalName,s.careerCode=a.careerCode,s.careerName=a.careerName),e.$nextTick((function(){var t,i,a;if(s.address&&(e.$refs.myBelongsAddress.address=s.address,e.$refs.myBelongsAddress.firstChangeAddress=!0),s.provinceCode)t=s.provinceCode,i=s.cityCode,a=s.areaCode,e.setBelongsAddress({provinceCode:t,cityCode:i,areaCode:a});else{var r=(0,o.getStorage)("areaJSON");if(e.isHnAppSet&&r)r=JSON.parse(r),t=r.provinceCode,i=r.cityCode,a=r.areaCode,e.setBelongsAddress({provinceCode:t,cityCode:i,areaCode:a});else{var n="";(0,m.getUserBindInfoFun)((function(t){t?(n=t.hospitalCode,e.getHospitalInfo(n,(function(t){e.setBelongsAddress({provinceCode:t.provinceCode,cityCode:t.cityCode,areaCode:t.areaCode})}))):(0,m.loadUserInfo)(!0,(function(t){var i=t.screenOrgInfo&&t.screenOrgInfo.dictHospital?t.screenOrgInfo.dictHospital:{};e.setBelongsAddress({provinceCode:i.provinceCode,cityCode:i.cityCode,areaCode:i.areaCode})}))}))}}}));var r=i.userPatientHealth||{};for(var n in r)s[n]=r[n];e.newFormMess=s,e.oriFormMess=JSON.parse(JSON.stringify(e.newFormMess))}else o.native.toast(t.message)}))},setBelongsAddress:function(e){var t=this;console.log("setBelongsAddress-data",e),this.$refs.myBelongsAddress.$refs.myPickerAddress.provinceCode=e.provinceCode,this.$refs.myBelongsAddress.$refs.myPickerAddress.cityCode=e.cityCode,this.$refs.myBelongsAddress.$refs.myPickerAddress.areaCode=e.areaCode,this.newFormMess.provinceCode=e.provinceCode,this.newFormMess.cityCode=e.cityCode,this.newFormMess.areaCode=e.areaCode,this.$refs.myBelongsAddress.$refs.myPickerAddress.wxgetLocation((function(){t.$refs.myBelongsAddress.$refs.myPickerAddress.dictArea(0)}))},getHospitalInfo:function(e,t){(0,c.getHospitalInfo)(e).then((function(e){"000"==e.errorCode&&e.entity&&t&&t(e.entity)}))},sensitiveInfo:function(){var e=this,t=(0,r.getUserId)();(0,n.sensitiveInfo)({pid:t}).then((function(t){t.entity;if("000"==t.errorCode){var i=JSON.parse((0,r.decodeEncrypt)(t.entity));e.userIdCard=i.idCard}else o.native.toast(t.message)}))},cardNumInput:function(e){var t=e.detail.value;if(console.log("isIdCard(value)",(0,o.isIdCard)(t)),!this.newFormMess.idType&&(0,o.isIdCard)(t)){var i=(0,o.idCardGetSex)(t);this.newFormMess.sex=i;var s=(0,o.idCardGetBirthdate)(t);this.newFormMess.birthdate=s}this.limitBlank(e,"idCard")},updateData:function(e,t){this.newFormMess[e]=t},selectAddress:function(e){this.myPickerAddress=this.$refs.myBelongsAddress.$refs.myPickerAddress,this.newFormMess.provinceCode=this.myPickerAddress.provinceCode,this.newFormMess.cityCode=this.myPickerAddress.cityCode,this.newFormMess.areaCode=this.myPickerAddress.areaCode},handleCheckBirthdate:function(e,t){var i=this;if(0===this.newFormMess.idType){var s=this.userIdCard?this.userIdCard:this.newFormMess.idCard,a=(0,o.idCardGetSex)(s);if(this.newFormMess.sex!=a)return this.isSubmitFlag=!1,void o.native.toast("性别与身份证号不匹配");var r={idcard:s,pid:this.newFormMess.pid,birthdate:this.newFormMess.birthdate};(0,n.checkBirthdate)(r).then((function(s){"000"==s.errorCode?s.entity?t(e):(i.isSubmitFlag=!1,o.native.toast("出生年月与身份证号不匹配")):(i.isSubmitFlag=!1,o.native.toast(s.message))}))}else t(e)},submitUserInfo:function(){var e=this,t=JSON.parse(JSON.stringify(this.newFormMess));if(!this.isSubmitFlag)if(this.isSubmitFlag=!0,t.name&&""!==t.sex&&2!==t.sex&&t.birthdate){if(!(0,o.varifyCharLength)(t.name,4,16))return o.native.toast("真实姓名必须为4~16个字符"),void(this.isSubmitFlag=!1);t.idCard?""==this.oriFormMess.idCard&&t.idCard&&!(0,o.isIdCard)(t.idCard)?(o.native.toast("身份证号格式不正确"),this.isSubmitFlag=!1):0!=t.sex&&1!=t.sex?(o.native.toast("性别不能为空"),this.isSubmitFlag=!1):t.birthdate?t.eduCode?this.isHnAppSet&&!t.maritalCode?(o.native.toast("婚姻状况不能为空"),this.isSubmitFlag=!1):this.isHnAppSet&&!t.careerCode?(o.native.toast("职业不能为空"),this.isSubmitFlag=!1):this.isHnAppSet&&!t.provinceCode?(o.native.toast("所属地区不能为空"),this.isSubmitFlag=!1):this.isHnAppSet&&!t.address?(o.native.toast("详细地址不能为空"),this.isSubmitFlag=!1):this.isHnAppSet?this.$refs.myDiseaseHistory.verifyFields((function(i){i?e.handleCheckBirthdate(t,e.submitUserInfoNext):e.isSubmitFlag=!1})):this.handleCheckBirthdate(t,this.submitUserInfoNext):(o.native.toast("教育程度不能为空"),this.isSubmitFlag=!1):(o.native.toast("出生日期不能为空"),this.isSubmitFlag=fals):(o.native.toast("身份证号不能为空"),this.isSubmitFlag=!1)}else this.isSubmitFlag=!1},submitUserInfoNext:function(e){var t=this;""!=this.uploadImg&&(this.newFormMess.icon=this.uploadImg);var i={pid:e.pid},s=0;for(var a in e)e[a]!=this.oriFormMess[a]&&(s++,i[a]=e[a]);s>=1?(i.idCard&&(i.idType=0),(0,n.updateUserInfo)(i).then((function(e){"000"==e.errorCode?(o.native.toast("完善信息成功"),t.saveCallback()):o.native.toast(e.message)})).finally((function(){t.isSubmitFlag=!1}))):(this.isSubmitFlag=!1,this.saveCallback())},saveCallback:function(){this.$emit("saveCallback")}},onReady:function(){var e=this,t=uni.createSelectorQuery().in(this);t.select("#navBar").boundingClientRect(),t.exec((function(t){e.commonHeight="calc(100% - "+(t[0].height+20)+"px)"}))}};t.default=f},eb4a:function(e,t,i){var s=i("2872");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=i("4f06").default;a("918d4532",s,!0,{sourceMap:!1,shadowMode:!1})},f964:function(e,t,i){"use strict";e.exports=[{code:35e4,name:"福建省",sublist:[{code:350200,name:"厦门市",sublist:[{code:"350203",name:"思明区"}]}]},{code:529344,name:"海南省",sublist:[{code:530070,name:"儋州市",sublist:[{code:"530071",name:"那大镇"},{code:"530112",name:"和庆镇"},{code:"530126",name:"南丰镇"},{code:"530139",name:"大成镇"},{code:"530162",name:"雅星镇"},{code:"530188",name:"兰洋镇"},{code:"530207",name:"光村镇"},{code:"530220",name:"木棠镇"},{code:"530246",name:"海头镇"},{code:"530261",name:"峨蔓镇"},{code:"530275",name:"三都镇"},{code:"530285",name:"王五镇"},{code:"530295",name:"白马井镇"},{code:"530318",name:"中和镇"},{code:"530331",name:"排浦镇"},{code:"530340",name:"东成镇"},{code:"530361",name:"新州镇"},{code:"530394",name:"国营西培农场"},{code:"530410",name:"国营西联农场"},{code:"530431",name:"国营蓝洋农场"},{code:"530437",name:"国营八一农场"},{code:"530447",name:"洋浦经济开发区"},{code:"530466",name:"华南热作学院"}]},{code:530468,name:"省直辖县级行政区划",sublist:[{code:"531426",name:"东方市"},{code:"531971",name:"澄迈县"},{code:"532200",name:"临高县"},{code:"532558",name:"昌江黎族自治县"},{code:"532672",name:"乐东黎族自治县"},{code:"533161",name:"琼中黎族苗族自治县"}]},{code:529345,name:"海口市",sublist:[{code:"529347",name:"秀英区"},{code:"529451",name:"龙华区"},{code:"529589",name:"琼山区"},{code:"529720",name:"美兰区"}]}]}]}}]);