(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assessReport-report-report~pages-assessmentOrder-assessmentOrder~pages-cognitive-cognitiveAsse~fb2cba7b"],{"0aa3":function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.submitMedOrder=t.setPaySuccess=t.recipeRelevantDrug=t.prescriptionDetailMulti=t.prescriptionDetail=t.pharmacyConf=t.paymentInitiate=t.pageMedicineOrder=t.orderQrcode=t.orderCode=t.medOrderInfo=t.listMedHospital=t.getMedOrderDetail=t.expressRouting=t.confirmingOrder=t.completeOrder=void 0;var a=i(r("b775")),n=function(e){return(0,a.default)({url:"/api/med/order/pageMedicineOrder",data:e,method:"post"})};t.pageMedicineOrder=n;var o=function(e){return(0,a.default)({url:"/api/med/pharmacy/listMedHospital",data:e,method:"post"})};t.listMedHospital=o;var s=function(e){return(0,a.default)({url:"/api/med/order/detail?id="+e,method:"get"})};t.getMedOrderDetail=s;var u=function(e){var t=e.chargeId,r=e.prescriptionType;return(0,a.default)({url:"/api/med/prescription/detail?chargeId="+t+"&prescriptionType="+r,method:"get"})};t.prescriptionDetail=u;var d=function(e){return(0,a.default)({url:"/api/med/prescription/detail/multi?prescriptionIds="+e,method:"get"})};t.prescriptionDetailMulti=d;var c=function(e){return(0,a.default)({url:"/api/express/routing",data:e,method:"post"})};t.expressRouting=c;var l=function(e){return(0,a.default)({url:"/api/med/order/info?id="+e,method:"get"})};t.medOrderInfo=l;var p=function(e){var t=e.prescriptionId,r=e.tranPriceMode,i=e.pharmacyId;return(0,a.default)({url:"/api/med/order/confirming?prescriptionId="+t+"&tranPriceMode="+r+"&pharmacyId="+i,method:"get"})};t.confirmingOrder=p;var f=function(e){return(0,a.default)({url:"/api/med/order/code?prescriptionId="+e,method:"get"})};t.orderCode=f;var g=function(e){return(0,a.default)({url:"/api/med/pharmacy/conf?pharmacyId="+e,method:"get"})};t.pharmacyConf=g;var v=function(e){return(0,a.default)({url:"/api/med/order/submit",data:e,method:"post"})};t.submitMedOrder=v;var m=function(e){return(0,a.default)({url:"/api/med/payment/initiate",data:e,method:"post"})};t.paymentInitiate=m;var h=function(e){return(0,a.default)({url:"/api/med/order/relevant",data:e,method:"get"})};t.recipeRelevantDrug=h;var y=function(e){return(0,a.default)({url:"/api/med/test/set-pay-success",data:e,method:"post"})};t.setPaySuccess=y;var P=function(e){return(0,a.default)({url:"/api/med/order/complete",data:e,method:"post"})};t.completeOrder=P;var I=function(e){return(0,a.default)({url:"/api/med/order/qrcode/"+e,method:"get"})};t.orderQrcode=I},"1e55":function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.submitFastsiftOrder=t.getLastSiftCompleteState=t.getLastFinishFast=t.getFinalPrice=t.getFastsiftSvrUrl=t.getFastsiftResUrl=t.getFastsiftRecord=t.getFastsiftPayUrl=t.getFastPayResult=t.getFastByOrderId=t.countAllFastSift=void 0;var a=i(r("b775")),n=function(e){return(0,a.default)({url:"/api/cognition/vas/fastsift/getLastFinishFast",data:e,method:"post"})};t.getLastFinishFast=n;var o=function(){return(0,a.default)({url:"/api/ix/data/countAllFastSift",method:"get"})};t.countAllFastSift=o;var s=function(e,t){return(0,a.default)({url:"/api/cognition/vas/fastsift/svrUrl",data:e,isLogin:t,method:"post"})};t.getFastsiftSvrUrl=s;var u=function(e,t){return(0,a.default)({url:"/api/cognition/vas/fastsift/finalPrice",data:e,isLogin:t,method:"post"})};t.getFinalPrice=u;var d=function(e){return(0,a.default)({url:"/api/cognition/vas/fastsift/getLastSiftCompleteState",isLogin:e,method:"get"})};t.getLastSiftCompleteState=d;var c=function(e,t){return(0,a.default)({url:"/api/cognition/vas/fastsift/order",data:e,isLogin:t,method:"post"})};t.submitFastsiftOrder=c;var l=function(e){return(0,a.default)({url:"/api/cognition/vas/fastsift/payment/url",data:e,isLogin:!0,method:"post"})};t.getFastsiftPayUrl=l;var p=function(e){return(0,a.default)({url:"/api/cognition/vas/fastsift/resUrl",data:e,isLogin:!0,method:"post"})};t.getFastsiftResUrl=p;var f=function(e){return(0,a.default)({url:"/api/cognition/vas/fastsift/listRecord",data:e,isLogin:!0,method:"post"})};t.getFastsiftRecord=f;var g=function(e,t){return(0,a.default)({url:"/api/cognition/vas/fastsift/getFastByOrderId",data:e,isLogin:t,method:"post"})};t.getFastByOrderId=g;var v=function(e,t){return(0,a.default)({url:"/api/cognition/vas/fastsift/payment/result",data:e,isLogin:t,method:"post"})};t.getFastPayResult=v},"24fd":function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.pageDictHospital=t.listScreenSite=t.getOrgAppInfo=t.getOrgAdaptive=t.getHospitalPackage=t.getHospitalInfo=t.getAddressAdaptive=t.getAdaptiveQualify=t.businessOrgCity=void 0;var a=i(r("b775")),n=function(e){return(0,a.default)({url:"/api/org/getHospital?hospitalCode="+e,method:"get"})};t.getHospitalInfo=n;var o=function(e){return(0,a.default)({url:"/api/org/businessOrgCity",data:e,method:"post"})};t.businessOrgCity=o;var s=function(e){return(0,a.default)({url:"/api/org/pageDictHospital",data:e,method:"post"})};t.pageDictHospital=s;var u=function(e,t){return(0,a.default)({url:"/api/org/listScreenSite",data:e,isLogin:t,method:"post"})};t.listScreenSite=u;var d=function(e){return(0,a.default)({url:"/api/business/cp/sen/adaptive?selectedAreaCode="+e,method:"get"})};t.getAddressAdaptive=d;var c=function(e){return(0,a.default)({url:"/api/business/cp/sen/adaptive/org?orgCode="+e,method:"get"})};t.getOrgAdaptive=c;var l=function(e,t){return(0,a.default)({url:"/api/business/cp/sen/qualify",data:e,isLogin:t,method:"post"})};t.getAdaptiveQualify=l;var p=function(e){return(0,a.default)({url:"/api/org/getHospitalPackage?hospitalCode="+e,method:"get"})};t.getHospitalPackage=p;var f=function(e){return(0,a.default)({url:"/api/business/cp/app/info?orgCode="+e,method:"get"})};t.getOrgAppInfo=f},"7f95":function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.wxAppPayNext=t.wxAppPay=t.h5Pay=void 0;var a=r("3de1"),n=r("f8b7"),o=r("1e55"),s=r("0aa3"),u=i(r("f121")),d=r("cf45"),c=function(e,t){var r=JSON.parse((0,a.getStorage)("onlineUser")).currentUser.wxMaOpenId;r?l(r,e,t):(0,d.getOpenId)((function(r){l(r,e,t)}))};t.wxAppPay=c;var l=function(e,t,r){var i=t.type,a={};"fastsift"==i?(a={scene:"WXMA",orderId:t.id,appId:u.default.appId,openId:e},(0,o.getFastsiftPayUrl)(a).then((function(e){p(e,r)}))):"consultOrder"==i?(a={scene:"WXMA",chargeId:t.chargeId,appId:u.default.appId,openId:e},(0,n.getConsultPayUrl)(a).then((function(e){p(e,r)}))):"medOrder"==i&&(a={scene:"WXMA",id:t.id,appId:u.default.appId,openId:e},(0,s.paymentInitiate)(a).then((function(e){p(e,r)})))};function p(e,t){"000"==e.errorCode?f(e,t):(a.native.toast(e.message),setTimeout((function(){t("fail")}),2e3))}function f(e,t){if(a.native.hideLoading(),"000"==e.errorCode){var r=e.entity.payUrl;t("success",r)}else a.native.toast(e.message),setTimeout((function(){t("fail")}),2e3)}t.wxAppPayNext=l;var g=function(e,t){var r=e.type,i={};"fastsift"==r?(i={orderId:e.id,scene:"H5",h5ReturnUrl:e.h5ReturnUrl},(0,o.getFastsiftPayUrl)(i).then((function(e){p(e,t)}))):"consultOrder"==r?(i={chargeId:e.chargeId,scene:"H5",h5ReturnUrl:e.h5ReturnUrl},(0,n.getConsultPayUrl)(i).then((function(e){p(e,t)}))):"medOrder"==r&&(i={id:e.id,scene:"H5",h5ReturnUrl:e.h5ReturnUrl},(0,n.getConsultPayUrl)(i).then((function(e){p(e,t)})))};t.h5Pay=g},cf45:function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.userBindDoctorFun=t.submitOrderPost=t.setScreenOrgAppInfo=t.presignedObjectPutUrlFun=t.loadUserInfo=t.judgeUserInfoIsComplete=t.goScreenExplainPage=t.goFastsiftPay=t.goFastsiftPage=t.getUserBindInfoFun=t.getSourceObj=t.getSelectedAreaCode=t.getScreenPrice=t.getOpenId=t.getFastsiftSvrUrlFun=t.createScreenOrder=void 0;var a=r("c24f"),n=r("24fd"),o=r("2934"),s=r("ca00"),u=r("3de1"),d=r("1e55"),c=i(r("f121")),l=r("7f95"),p=r("7ded"),f=function(e,t,r){(0,a.userScreeniteInfo)(r).then((function(r){if("000"==r.errorCode){var i=r.entity,a=i.userPatientScreenite?i.userPatientScreenite.screenOrgCode:"";a&&e?g(a,(function(e){i.screenOrgInfo=e||{},t(i)})):t(i)}else tool.toast(r.message)}))};t.loadUserInfo=f;var g=function(e,t){(0,n.getHospitalPackage)(e).then((function(e){"000"==e.errorCode&&t&&t(e.entity)}))},v=function(e,t){(0,s.setRequestHeaderFun)({},!0);var r=e.file;delete e.usePost,e.fileName=r.name,delete e.file,(0,o.presignedObjectPutUrl)(e).then((function(e){if("000"==e.errorCode){var i=new FileReader;i.readAsArrayBuffer(r),i.onload=function(){var r=new XMLHttpRequest;r.open("put",e.entity.url,!0),r.send(this.result),r.onload=function(r){200==this.status?t("success",e):t("fail")}}}else t("fail")})).catch((function(e){t("catch")}))};t.presignedObjectPutUrlFun=v;var m=function(e,t){e.appIcon||e.appName?(t.isGetScreenAppInfo=!0,t.logoUrl=e.appIcon?t.currentApps.fileUrl+e.appIcon:"",t.hospName=e.appName?e.appName:t.currentApps.hospName):(t.isGetScreenAppInfo=!1,(0,u.removeStorage)("screenOrgAppInfo")),e.appIcon||e.appName||(t.logoUrl=t.currentApps.currentLogo,t.hospName=t.currentApps.hospName,t.titleImg=t.isInternetHospital?t.currentApps.index.interHosLogo:t.currentApps.index.titleImg)};t.setScreenOrgAppInfo=m;var h=function(e){var t="",r={pid:(0,s.getUserId)()};(0,a.getUserBindInfo)(r).then((function(e){"000"==e.errorCode&&e.entity&&(t=e.entity)})).finally((function(){setTimeout((function(){e(t)}),10)}))};t.getUserBindInfoFun=h;var y=function(e){f(!0,(function(t){t.userPatientScreenite=t.userPatientScreenite||{};var r=t.screenOrgInfo?t.screenOrgInfo.dictHospital.areaCode:"";r=r||(t.userPatientExtra?t.userPatientExtra.areaCode:""),e(r)}),!0)};t.getSelectedAreaCode=y;var P=function(e,t){var r={sourceDeptCode:"",sourceType:"",sourceUserId:"",sourceValue:""};h((function(i){i?(r.sourceType="1",r.sourceUserId=i.therapistId,r.sourceValue=i.hospitalCode,r.sourceDeptCode=i.deptCode,t?g(i.hospitalCode,(function(t){e(r,i)})):e(r,i)):f(!0,(function(t){t.userPatientScreenite=t.userPatientScreenite||{},t.userPatientScreenite.screenOrgCode?r.sourceType="1":r.sourceType="0",r.sourceUserId=t.userPatientScreenite.pid,r.sourceValue=t.userPatientScreenite.screenOrgCode;var i=t.screenOrgInfo?t.screenOrgInfo.dictHospital.areaCode:"";i=i||(t.userPatientExtra?t.userPatientExtra.areaCode:""),e(r,{},i)}))}))};t.getSourceObj=P;var I=function(e,t,r){h((function(i){i&&(e.assistUserId=i.therapistId,e.assistUserName=i.therapistName,e.assistUserKind=1),(0,d.getFastsiftSvrUrl)(e,!0).then((function(e){if("000"==e.errorCode){var i=e.entity;t(e,i)}else r(e)})).catch((function(){r()}))}))};t.getFastsiftSvrUrlFun=I;var C=function(e,t){var r=u.native.getCurrentPage();if("pages/screen/screenExplain/screenExplain"==r.route)return r.$vm.priceInfo=e,void(t&&t());if("pages/personal/completeUserInfo/completeUserInfo"==r.route){var i,a="";for(var n in e)a+=(a.indexOf("?")>=0?"&":"?")+n+"="+e[n];i="/screenExplain"+a,u.native.goCloseCurPage(i)}else"pages/screen/fastScreen/fastScreen"==r.route&&r.$vm.resetPageState(),u.native.go("/pages/screen/screenExplain/screenExplain","/screenExplain",e)};t.goScreenExplainPage=C;var S=function(e){u.native.showLoading(),y((function(t){var r={patientId:(0,s.getUserId)(),selectedAreaCode:t};(0,d.getFinalPrice)(r).then((function(t){if("000"===t.errorCode){var r={finalPrice:t.entity.finalPrice,origPrice:t.entity.origPrice};0==r.finalPrice?e&&e():(0,d.getLastSiftCompleteState)().then((function(t){"000"===t.errorCode&&"UNCOMPLETE"==t.entity.state?A(t.entity.unCompleteOrder.id,{}):C(r,e)}))}else u.native.toast(t.message)})).finally((function(){u.native.hideLoading()}))}))};t.getScreenPrice=S;var U=function(e,t){var r=(0,s.getUserId)();console.log("pid",r),r?(0,a.getUserInfo)(r,!0).then((function(r){if("000"===r.errorCode){var i=r.entity.userPatient||{};r.entity.userPatientExtra&&(i.eduCode=r.entity.userPatientExtra.eduCode,i.careerCode=r.entity.userPatientExtra.careerCode,i.provinceCode=r.entity.userPatientExtra.provinceCode,i.maritalCode=r.entity.userPatientExtra.maritalCode);var a=r.entity.userPatientHealth||{},n=c.default.currentApps.currentHospid==c.default.appsVersionSet.hnAppSet.currentHospid;if(""!=i.name&&i.idCard&&(0==i.sex||1==i.sex)&&""!=i.birthdate&&i.eduCode&&(!n||i.provinceCode&&i.address&&i.maritalCode&&i.careerCode&&a.smokeFreq&&a.drinkFreq&&(a.medicalHistoryCode||a.medicalHistoryText)&&(a.tumorHistoryCode||a.tumorHistoryText)&&(a.surgicalHistoryCode||a.surgicalHistoryText)&&(a.familyHistoryCode||a.familyHistoryText)))t(!0);else{var o={};o[e]=!0,e?u.native.go("/pages/personal/completeUserInfo/completeUserInfo","/completeUserInfo",o):t(!1,i)}}else u.native.toast(r.message)})):u.native.go("/pages/login/login","/login")};t.judgeUserInfoIsComplete=U;var O=function(e){e.isSubmitFlag||(e.isSubmitFlag=!0,u.native.showLoading(),P((function(t,r,i){i?F(t,e,i):y((function(r){F(t,e,r)}))}),!0))};t.createScreenOrder=O;var F=function(e,t,r){var i={isFls:1,originInfo:JSON.stringify(e),preparePrice:t.priceInfo?parseInt(t.priceInfo.finalPrice):0,selectedAreaCode:r};u.native.getCurrentPage();(0,d.submitFastsiftOrder)(i,!0).then((function(e){if("000"==e.errorCode||"016"==e.errorCode)if("000"==e.errorCode&&0!==i.preparePrice){var r={id:e.entity.id,type:"fastsift"};x(r),t.isSubmitFlag=!1}else A(e.entity.id,t);else"051"==e.errorCode||"037"==e.errorCode?("051"==e.errorCode?(u.native.toast("服务金额已变更"),S()):"037"==e.errorCode&&u.native.toast("当前服务未开通"),t.isSubmitFlag=!1,u.native.hideLoading()):(t.isSubmitFlag=!1,u.native.hideLoading(),u.native.toast(e.message))})).catch((function(){t.isSubmitFlag=!1,u.native.hideLoading()}))};t.submitOrderPost=F;var A=function(e,t){var r=u.native.getCurrentPage(),i={orderId:e,isMobile:"1"};r.$vm.pad&&(i.isMobile="0"),I(i,(function(e,i){if(t.isSubmitFlag=!1,t.resetPageState&&setTimeout((function(){t.resetPageState()}),1e3),u.native.hideLoading(),"pages/personal/completeUserInfo/completeUserInfo"==r.route){var a;a="/out?link="+encodeURIComponent(i)+"&noNeedwxInfoObj=1",u.native.goCloseCurPage(a)}else{var n={link:encodeURIComponent(i),noNeedwxInfoObj:1};u.native.go("/pages/out/out","/out",n)}}),(function(e){e&&u.native.toast(e.message),t.isSubmitFlag=!1,u.native.hideLoading()}))};t.goFastsiftPage=A;var b=function(e,t){var r={pid:(0,s.getUserId)(),tid:e.invitetid,createType:"SCAN"};(0,a.userBindDoctor)(r).then((function(e){"000"==e.errorCode&&"OK"==e.entity&&t&&t()}))};t.userBindDoctorFun=b;var x=function(e){e.h5ReturnUrl=c.default.currentApps.ymUrl+"/payBack?type=fastsift&orderId="+e.id,(0,l.h5Pay)(e,(function(e,t){"success"==e&&(window.location.href=t+"&showNav=false")}))};t.goFastsiftPay=x;var L=function(e){uni.login({success:function(t){var r={code:t.code};(0,u.setStorage)("WXCode",r.code),(0,p.code2WxMaSession)(r).then((function(t){"000"==t.errorCode&&((0,u.setStorage)("openId",t.entity.openid),e&&e(t.entity.openid))}))}})};t.getOpenId=L},f8b7:function(e,t,r){"use strict";var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.supplementConsultationInfo=t.prepareVideoVisit=t.patientCancel=t.pageCompletedAssessAnon=t.listUnfinishedVisit=t.listUnfinishedPsychVisit=t.listSrvEvalByParam=t.listSrvEval=t.listPrescription=t.listEffectiveHsApplyTicket=t.isPaid=t.getVideoChargeList=t.getRemainingTimeByBiz=t.getPayUrl=t.getPatientAssessWaitingInfo=t.getConsultPayUrl=t.getChargeDetail=t.finalPrice=t.evalSubmit=t.diagnosisOpnDetail=t.deleteVisitFile=t.countSrvEval=t.cognitionExplainQuicklyReserve=t.canUserCouponNum=void 0;var a=i(r("b775")),n=function(e,t){return(0,a.default)({url:"/api/inquiry/charge/detail",data:e,method:"post",isLogin:t})};t.getChargeDetail=n;var o=function(e){return(0,a.default)({url:"/api/pay/getRemainingTimeByBiz",data:e,method:"post"})};t.getRemainingTimeByBiz=o;var s=function(e){return(0,a.default)({url:"/api/inquiry/payment/isPaid",data:e,method:"post"})};t.isPaid=s;var u=function(e){return(0,a.default)({url:"/api/inquiry/payment/getPayUrl",data:e,method:"post"})};t.getPayUrl=u;var d=function(e){return(0,a.default)({url:"/api/cognition/assess/patientAssessWaitingInfo",data:e,method:"post"})};t.getPatientAssessWaitingInfo=d;var c=function(e){return(0,a.default)({url:"/api/inquiry/video/diagnosisOpnDetail",data:e,method:"post"})};t.diagnosisOpnDetail=c;var l=function(e){return(0,a.default)({url:"/api/inquiry/video/supplementConsultationInfo/_newly",data:e,method:"post"})};t.supplementConsultationInfo=l;var p=function(e){return(0,a.default)({url:"/api/inquiry/video/deleteVisitFile/"+e,method:"get"})};t.deleteVisitFile=p;var f=function(e){return(0,a.default)({url:"/api/inquiry/eval/charge/submit",data:e,method:"post"})};t.evalSubmit=f;var g=function(e){return(0,a.default)({url:"/api/srveval/listSrvEvalByBusinessId",data:e,method:"post"})};t.listSrvEval=g;var v=function(e){return(0,a.default)({url:"/api/srveval/listSrvEvalByParam",data:e,method:"post"})};t.listSrvEvalByParam=v;var m=function(e){return(0,a.default)({url:"/api/srveval/countSrvEval",data:e,method:"post"})};t.countSrvEval=m;var h=function(e){return(0,a.default)({url:"/api/inquiry/charge/patientCancel",data:e,method:"post"})};t.patientCancel=h;var y=function(e){return(0,a.default)({url:"/api/inquiry/video/getVideoChargeList",data:e,method:"post"})};t.getVideoChargeList=y;var P=function(e,t){return(0,a.default)({url:"/api/inquiry/charge/listUnfinishedVisit",data:e,isLogin:t,method:"get"})};t.listUnfinishedVisit=P;var I=function(e){return(0,a.default)({url:"/api/inquiry/charge/finalPrice",data:e,method:"post"})};t.finalPrice=I;var C=function(e){return(0,a.default)({url:"/api/inquiry/video/prepareVideoVisit",data:e,isLogin:!0,method:"post"})};t.prepareVideoVisit=C;var S=function(e){return(0,a.default)({url:"/api/inquiry/payment/getPayUrl",data:e,isLogin:!0,method:"post"})};t.getConsultPayUrl=S;var U=function(e){return(0,a.default)({url:"/api/inquiry/hs/listEffectiveHsApplyTicket?type="+e,method:"get"})};t.listEffectiveHsApplyTicket=U;var O=function(e,t){return(0,a.default)({url:"/api/cognition/pack/patient/pageCompletedAssessAnon",data:e,isLogin:t,method:"get"})};t.pageCompletedAssessAnon=O;var F=function(e){return(0,a.default)({url:"/api/coupon/order/canUserCouponNum",data:e,method:"post"})};t.canUserCouponNum=F;var A=function(e){return(0,a.default)({url:"/api/inquiry/charge/listUnfinishedPsychVisit",data:e,method:"get"})};t.listUnfinishedPsychVisit=A;var b=function(e){return(0,a.default)({url:"/api/inquiry/video/listPrescription?chargeId="+e,method:"get"})};t.listPrescription=b;var x=function(e,t,r){return(0,a.default)({url:"/api/inquiry/video/cognitionExplainQuicklyReserve",data:e,role:r,isLogin:t,method:"post"})};t.cognitionExplainQuicklyReserve=x}}]);