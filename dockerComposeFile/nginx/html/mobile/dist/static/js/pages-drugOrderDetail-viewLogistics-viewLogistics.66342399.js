(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-drugOrderDetail-viewLogistics-viewLogistics"],{"0aa3":function(t,e,i){"use strict";var r=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.submitMedOrder=e.setPaySuccess=e.recipeRelevantDrug=e.prescriptionDetailMulti=e.prescriptionDetail=e.pharmacyConf=e.paymentInitiate=e.pageMedicineOrder=e.orderQrcode=e.orderCode=e.medOrderInfo=e.listMedHospital=e.getMedOrderDetail=e.expressRouting=e.confirmingOrder=e.completeOrder=void 0;var a=r(i("b775")),o=function(t){return(0,a.default)({url:"/api/med/order/pageMedicineOrder",data:t,method:"post"})};e.pageMedicineOrder=o;var n=function(t){return(0,a.default)({url:"/api/med/pharmacy/listMedHospital",data:t,method:"post"})};e.listMedHospital=n;var d=function(t){return(0,a.default)({url:"/api/med/order/detail?id="+t,method:"get"})};e.getMedOrderDetail=d;var s=function(t){var e=t.chargeId,i=t.prescriptionType;return(0,a.default)({url:"/api/med/prescription/detail?chargeId="+e+"&prescriptionType="+i,method:"get"})};e.prescriptionDetail=s;var c=function(t){return(0,a.default)({url:"/api/med/prescription/detail/multi?prescriptionIds="+t,method:"get"})};e.prescriptionDetailMulti=c;var l=function(t){return(0,a.default)({url:"/api/express/routing",data:t,method:"post"})};e.expressRouting=l;var p=function(t){return(0,a.default)({url:"/api/med/order/info?id="+t,method:"get"})};e.medOrderInfo=p;var m=function(t){var e=t.prescriptionId,i=t.tranPriceMode,r=t.pharmacyId;return(0,a.default)({url:"/api/med/order/confirming?prescriptionId="+e+"&tranPriceMode="+i+"&pharmacyId="+r,method:"get"})};e.confirmingOrder=m;var u=function(t){return(0,a.default)({url:"/api/med/order/code?prescriptionId="+t,method:"get"})};e.orderCode=u;var f=function(t){return(0,a.default)({url:"/api/med/pharmacy/conf?pharmacyId="+t,method:"get"})};e.pharmacyConf=f;var v=function(t){return(0,a.default)({url:"/api/med/order/submit",data:t,method:"post"})};e.submitMedOrder=v;var g=function(t){return(0,a.default)({url:"/api/med/payment/initiate",data:t,method:"post"})};e.paymentInitiate=g;var b=function(t){return(0,a.default)({url:"/api/med/order/relevant",data:t,method:"get"})};e.recipeRelevantDrug=b;var h=function(t){return(0,a.default)({url:"/api/med/test/set-pay-success",data:t,method:"post"})};e.setPaySuccess=h;var w=function(t){return(0,a.default)({url:"/api/med/order/complete",data:t,method:"post"})};e.completeOrder=w;var y=function(t){return(0,a.default)({url:"/api/med/order/qrcode/"+t,method:"get"})};e.orderQrcode=y},"166b":function(t,e,i){"use strict";var r=i("2efe"),a=i.n(r);a.a},"18a9":function(t,e,i){"use strict";i.r(e);var r=i("7e32"),a=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(o);e["default"]=a.a},"2efe":function(t,e,i){var r=i("a6e1");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("4f06").default;a("b3d65d8a",r,!0,{sourceMap:!1,shadowMode:!1})},"40d1":function(t,e,i){"use strict";i.r(e);var r=i("98f6"),a=i("18a9");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("166b");var n,d=i("f0c5"),s=Object(d["a"])(a["default"],r["b"],r["c"],!1,null,"371d1dcb",null,!1,r["a"],n);e["default"]=s.exports},"7e32":function(t,e,i){"use strict";var r=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac6a");var a=r(i("4b4e")),o=i("3de1"),n=i("0aa3"),d=r(i("f121")),s={data:function(){return{isInWx:d.default.isInWx,processList:null,processHeight:0,noprocessHeight:0,tran:{},stateList:[{code:0,name:"在途中"},{code:1,name:"已揽收"},{code:2,name:"疑难"},{code:3,name:"已签收"},{code:4,name:"退签"},{code:5,name:"同城派送中"},{code:6,name:"退回"},{code:7,name:"转单"}]}},components:{CustomModal:a.default},computed:{scaleFontSize:function(){return this.$store.state.scaleFontSize}},onLoad:function(t){this.tran=JSON.parse(decodeURIComponent(t.tran)),this.getRouting()},methods:{getRouting:function(){var t=this,e={typeCode:this.tran.tranCode,mailno:this.tran.tranPostCode};(0,n.expressRouting)(e).then((function(e){"000"==e.errorCode&&(e.entity.forEach((function(e){t.stateList.forEach((function(t){e.state==t.code&&(e.stateName=t.name)}))})),t.processList=e.entity.reverse(),t.$nextTick((function(){var e=t;if(e.processList.length>0){var i=uni.createSelectorQuery(),r=0;i.select("#top").boundingClientRect(),i.select("#bottom").boundingClientRect(),i.exec((function(i){console.log(i),e.noprocessHeight=t.isInWx?"calc(100vh - "+(i[0].height+55)+"px)":"calc(100vh - "+(i[0].height+55+70)+"px)",i[1]&&(r=t.isInWx?i[0].height+i[1].height+55:i[0].height+i[1].height+55+70,e.processHeight="calc(100vh - "+r+"px)")}))}})))})).finally((function(){t.processList=t.processList||[]}))},getDateName:function(t){return(0,o.getDateName)(t)},copyOrderId:function(){uni.setClipboardData({data:this.tran.tranPostCode,success:function(t){}})}},onReady:function(){var t=this;if(t.processList&&t.processList.length){var e=uni.createSelectorQuery(),i=0;e.select("#bottom").boundingClientRect(),e.exec((function(e){i=e[0].height+55,t.processHeight="calc(100vh - "+i+"px)"}))}}};e.default=s},"98f6":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return r}));var r={pageMeta:i("6d42").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":t.scaleFontSize+"px"}}),i("CustomModal",{ref:"myCustomModal"}),i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"logistics"},[i("v-uni-view",{staticClass:"logistics-top",attrs:{id:"top"}},[i("v-uni-text",{staticClass:"fz-36 c-222"},[t._v(t._s(t.tran.tranName))]),i("v-uni-view",{staticClass:"fz-28 c-666 flex-star"},[t._v("运单号："+t._s(t.tran.tranPostCode)),i("i",{staticClass:"icon icon-copy",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyOrderId.apply(void 0,arguments)}}})])],1),t.processList&&t.processList.length?i("v-uni-view",[i("v-uni-view",{staticClass:"process",style:"height:"+t.processHeight},[i("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":!0}},t._l(t.processList,(function(e,r){return i("v-uni-view",{key:r,staticClass:"process-item"},[i("v-uni-view",{staticClass:"item-top",class:0==r?"item-top-first":""},[i("v-uni-view",{staticClass:"dot",class:0==r?"dot-first":""}),i("v-uni-text",{staticClass:"fz-36",class:0==r?"item-top-first":""},[t._v(t._s(e.stateName))]),i("v-uni-text",{staticClass:"fz-28",class:0==r?"item-top-first":"",style:void 0!=e.state?"margin-left:10rpx":"margin-left:0rpx"},[t._v(t._s(t.getDateName(e.time.substring(0,10)))+" "+t._s(e.time.substring(11,16)))])],1),i("v-uni-view",{staticClass:"process-item-content fz-28",class:0==r?"c-222":"c-999"},[t._v(t._s(e.content))])],1)})),1)],1),i("v-uni-view",{staticClass:"process-bottom",attrs:{id:"bottom"}},[i("v-uni-view",{staticClass:"process-bottom-get"},[t._v("收")]),i("v-uni-view",{staticClass:"c-222 fz-28 process-bottom-address"},[t._v(t._s(t.tran.deliveryName)+"，"+t._s(t.tran.deliveryPhone)+"，"+t._s(t.tran.deliveryProvinceName+" "+t.tran.deliveryCityName+" "+t.tran.deliveryAreaName+" "+t.tran.deliveryTownName+" "+t.tran.deliveryAddr))])],1)],1):null!=t.processList?i("v-uni-view",{staticClass:"empty",style:"height:"+t.noprocessHeight},[i("v-uni-view",{staticClass:"empty-image"},[i("i",{staticClass:"icon-no_logistics"})]),i("v-uni-view",{staticClass:"fz-36 c-666"},[t._v("暂无物流信息")])],1):t._e()],1)],1)],1)},o=[]},a6e1:function(t,e,i){e=t.exports=i("24fb")(!1),e.push([t.i,'.page[data-v-371d1dcb]{padding:4vw;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.logistics[data-v-371d1dcb]{background-color:#fff;border-radius:2.66667vw}.logistics-top[data-v-371d1dcb]{width:100%;min-height:24vw;border:2.66667vw 2.66667vw 0 0;background:url(https://amity-oss.yimed.cn/static/wxappSource/map.png);background-size:100% 100%;background-repeat:no-repeat;padding:4.66667vw 4vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.logistics-top uni-text[data-v-371d1dcb]{margin-bottom:2.66667vw}.process[data-v-371d1dcb]{padding:6.26667vw 4vw %?0?% 2.93333vw}.process-item[data-v-371d1dcb]{position:relative;padding-bottom:5.33333vw}.process-item[data-v-371d1dcb]::before{position:absolute;content:"";width:%?1?%;background-color:#afb2b9;height:100%;left:2.13333vw;top:3.73333vw;z-index:0}.process-item[data-v-371d1dcb]:nth-last-child(1)::before{position:absolute;content:"";width:%?1?%;background-color:#fff;height:100%;left:2.13333vw}.process-item>uni-view[data-v-371d1dcb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.process-item .dot[data-v-371d1dcb]{z-index:1;width:1.86667vw;height:1.86667vw;border-radius:50%;background-color:#afb2b9;border:.26667vw solid #fff;margin-left:1.33333vw;margin-right:4vw}.dot-first[data-v-371d1dcb]{width:4.53333vw!important;height:4.53333vw!important;background-color:#846bff!important;border:1.06667vw solid #f5f4ff!important;margin-left:0!important;margin-right:2.4vw!important}.process-item-content[data-v-371d1dcb]{margin-left:7.73333vw;margin-top:1.86667vw}.item-top[data-v-371d1dcb]{color:#999}.item-top-first[data-v-371d1dcb]{color:#8c67ff!important}.process-bottom[data-v-371d1dcb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;justify-content:start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 4vw;padding:4vw 0;border-top:%?1?% solid #f5f5f5}.process-bottom-get[data-v-371d1dcb]{width:6.66667vw;height:6.66667vw;border-radius:50%;background:#f5f4ff;color:#846bff;font-size:3.2rem;text-align:center;line-height:6.66667vw;margin-right:1.46667vw}.process-bottom-address[data-v-371d1dcb]{width:calc(100% - 8.13333vw)}.empty[data-v-371d1dcb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.empty .empty-image[data-v-371d1dcb]{width:40vw;height:40vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.empty .empty-image .icon-no_logistics[data-v-371d1dcb]{width:40vw;height:40vw;background:url(https://amity-oss.yimed.cn/static/wxappSource/no_logistics_information_yet.png);background-size:100% 100%;background-repeat:no-repeat}@media (orientation:landscape){.page[data-v-371d1dcb]{padding:5.28169rem}.logistics[data-v-371d1dcb]{border-radius:3.52113rem}.logistics-top[data-v-371d1dcb]{min-height:31.69014rem;border:3.52113rem 3.52113rem 0 0;padding:6.16197rem 5.28169rem}.logistics-top uni-text[data-v-371d1dcb]{margin-bottom:3.52113rem}.process[data-v-371d1dcb]{padding:8.27465rem 5.28169rem %?0?% 3.87324rem}.process-item[data-v-371d1dcb]{padding-bottom:7.04225rem}.process-item[data-v-371d1dcb]::before{width:%?1?%;left:2.8169rem;top:4.92958rem}.process-item[data-v-371d1dcb]:nth-last-child(1)::before{width:%?1?%;left:2.8169rem}.process-item .dot[data-v-371d1dcb]{width:2.46479rem;height:2.46479rem;border:.35211rem solid #fff;margin-left:1.76056rem;margin-right:5.28169rem}.dot-first[data-v-371d1dcb]{width:5.98592rem!important;height:5.98592rem!important;border:1.40845rem solid #f5f4ff!important;margin-right:3.16901rem!important}.process-item-content[data-v-371d1dcb]{margin-left:10.21127rem;margin-top:2.46479rem}.process-bottom[data-v-371d1dcb]{margin:0 5.28169rem;padding:5.28169rem 0;border-top:%?1?% solid #f5f5f5}.process-bottom-get[data-v-371d1dcb]{width:8.80282rem;height:8.80282rem;font-size:4.22535rem;line-height:8.80282rem;margin-right:1.93662rem}.process-bottom-address[data-v-371d1dcb]{width:calc(100% - 10.73944rem)}.empty .empty-image[data-v-371d1dcb]{width:52.8169rem;height:52.8169rem}.empty .empty-image .icon-no_logistics[data-v-371d1dcb]{width:52.8169rem;height:52.8169rem}}',""])}}]);