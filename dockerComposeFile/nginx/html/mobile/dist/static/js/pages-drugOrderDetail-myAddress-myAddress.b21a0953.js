(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-drugOrderDetail-myAddress-myAddress"],{3482:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return a}));var a={pageMeta:i("6d42").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":e.scaleFontSize+"px"}}),i("v-uni-view",{staticClass:"page"},[null==e.addressList||e.addressList.length?i("v-uni-view",{staticClass:"list-content"},[i("v-uni-scroll-view",{staticStyle:{height:"calc(100vh - 200rpx)"},attrs:{"scroll-with-animation":!0,"scroll-y":!0}},e._l(e.addressList,(function(t,a){return i("v-uni-view",{key:a,staticClass:"list-content-item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectAddress(t)}}},[i("v-uni-view",{class:t.id==e.selectId?"selectDot-active":"selectDot"},[e._v(e._s(e.txtSubstring(t.name,0,1)))]),i("v-uni-view",{staticClass:"list-content-item-address"},[i("v-uni-view",{staticClass:"list-content-item-address-top"},[i("v-uni-view",{staticClass:"fz-36",staticStyle:{color:"#16171C","font-weight":"500"}},[e._v(e._s(t.name))]),i("v-uni-view",{staticClass:"fz-28 c-999 phone"},[e._v(e._s(t.phone))]),t.isDefault?i("v-uni-view",{staticClass:"defaultTips"},[e._v("默认")]):e._e()],1),i("v-uni-view",{staticClass:"list-content-item-address-bottom"},[e._v(e._s(t.provinceName+t.cityName+t.areaName+t.townName)+" "+e._s(t.addr))])],1),i("i",{staticClass:"icon icon-edit",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.goEditAddress(t.id)}}})],1)})),1)],1):i("v-uni-view",{staticClass:"empty"},[i("i",{staticClass:"no_consignee"}),i("v-uni-view",{staticClass:"fz-36 c-666"},[e._v("暂无收货人信息")]),i("v-uni-view",{staticClass:"addButton flex-center-vh",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goAddAddress.apply(void 0,arguments)}}},[i("i",{staticClass:"icon icon-add"}),e._v("添加地址")])],1),null!=e.addressList&&e.addressList.length?i("v-uni-view",{staticClass:"bottom-buttonList flex-center-vh"},[i("v-uni-view",{staticClass:"flex-center-vh",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goAddAddress.apply(void 0,arguments)}}},[i("i",{staticClass:"icon icon-add"}),e._v("添加地址")])],1):e._e()],1),i("CustomModal",{ref:"myCustomModal"})],1)},d=[]},"3e1c":function(e,t,i){"use strict";i.r(t);var a=i("77d4"),n=i.n(a);for(var d in a)["default"].indexOf(d)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(d);t["default"]=n.a},7521:function(e,t,i){"use strict";var a=i("e9aa"),n=i.n(a);n.a},"77d4":function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("4b4e")),d=i("c45f"),o=i("2934"),s=i("3de1"),r=a(i("f121")),c={data:function(){return{addressList:null,selectId:"",selectAddressName:"",provinceCode:"",cityCode:""}},components:{CustomModal:n.default},computed:{scaleFontSize:function(){return this.$store.state.scaleFontSize}},onLoad:function(e){this.selectId=e.addressId},onShow:function(){this.getAddressList(),this.getLocation()},methods:{getAddressList:function(){var e=this;s.native.showLoading(),(0,d.listDelivaddr)().then((function(t){"000"==t.errorCode&&(e.addressList=t.entity)})).finally((function(){s.native.hideLoading(),e.addressList=null==e.addressList?[]:e.addressList}))},txtSubstring:function(e,t,i){return(0,s.txtSubstring)(e,t,i)},selectAddress:function(e){this.selectId=e.id;var t=getCurrentPages(),i=t[t.length-2];i?("pages/drugOrderDetail/orderDetail/orderDetail"==i.route?(i.$vm.orderDetail.tran=e,i.$vm.$forceUpdate()):(i.$vm.addressSelect=e,i.$vm.getMedHospitalList(e.lat,e.lng)),s.native.goback()):s.native.goback(!1,0,1,(function(){setTimeout((function(){var t=s.native.getCurrentPage();"pages/drugOrderDetail/orderDetail/orderDetail"==t.route?(t.$vm.orderDetail.tran=e,t.$vm.$forceUpdate()):(t.$vm.addressSelect=e,t.$vm.isChangeMyAddress=!0,t.$vm.getMedHospitalList(e.lat,e.lng))}),500)}))},goEditAddress:function(e){s.native.go("/pages/drugOrderDetail/addNewAddress/addNewAddress","/addNewAddress",{id:e})},goAddAddress:function(){var e={listLength:this.addressList.length,isNewAdd:!0,provinceCode:this.provinceCode,cityCode:this.cityCode};s.native.go("/pages/drugOrderDetail/addNewAddress/addNewAddress","/addNewAddress",e)},getLocation:function(e){var t=this;if(r.default.isWxAPP){var i=this;uni.authorize({scope:"scope.userLocation",success:function(){uni.getLocation({type:"gcj02",altitude:!0,success:function(e){i.getLocalAddress(e.latitude,e.longitude)},fail:function(e){},complete:function(e){}})}})}else navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t.getLocalAddress(e.coords.latitude,e.coords.longitude)}),(function(t){e&&e()}))},getLocalAddress:function(e,t){var i=this,a={lng:t,lat:e};(0,o.getAreaByCoordinate)(a).then((function(e){"000"==e.errorCode&&(i.provinceCode=e.entity?e.entity.provCode:"",i.cityCode=e.entity?e.entity.cityCode:"")}))}}};t.default=c},c45f:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.updateDelivaddr=t.removeDelivaddr=t.listDelivaddr=t.getDelivaddr=t.addDelivaddr=void 0;var n=a(i("b775")),d=function(e){return(0,n.default)({url:"/api/patient/delivaddr/add",data:e,method:"post"})};t.addDelivaddr=d;var o=function(e){return(0,n.default)({url:"/api/patient/delivaddr/get/"+e,method:"get"})};t.getDelivaddr=o;var s=function(){return(0,n.default)({url:"/api/patient/delivaddr/list",method:"get"})};t.listDelivaddr=s;var r=function(e){return(0,n.default)({url:"/api/patient/delivaddr/remove",data:e,method:"post"})};t.removeDelivaddr=r;var c=function(e){return(0,n.default)({url:"/api/patient/delivaddr/update",data:e,method:"post"})};t.updateDelivaddr=c},e9aa:function(e,t,i){var a=i("e9eb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("a759e8b0",a,!0,{sourceMap:!1,shadowMode:!1})},e9eb:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".page[data-v-296160ee]{padding-top:4vw}.empty[data-v-296160ee]{margin-top:48.53333vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.empty .no_consignee[data-v-296160ee]{display:inline-block;width:40vw;height:40vw;background:url(https://amity-oss.yimed.cn/static/wxappSource/no__consignee_information.png);background-size:100% 100%;background-repeat:no-repeat}.empty .addButton[data-v-296160ee]{width:53.33333vw;height:12vw;background:#846bff;border-radius:6.13333vw;text-align:center;line-height:12vw;color:#fff;font-size:4.8rem;margin-top:10.66667vw}.empty .addButton .icon-add[data-v-296160ee]{margin-right:3.73333vw}.bottom-buttonList[data-v-296160ee]{width:100%;height:22.66667vw;background-color:#fff;position:fixed;bottom:0}.bottom-buttonList>uni-view[data-v-296160ee]{width:92vw;height:12vw;background:#846bff;border-radius:6.13333vw;text-align:center;line-height:12vw;color:#fff;font-size:4.8rem}.bottom-buttonList>uni-view .icon-add[data-v-296160ee]{margin-right:2.13333vw}.list-content[data-v-296160ee]{height:calc(100vh - 26.66667vw);background:#fff;border-radius:2.66667vw 2.66667vw %?0?% %?0?%;margin:0 4vw}.list-content-item[data-v-296160ee]{padding:3.73333vw 4vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-content-item .selectDot[data-v-296160ee],.list-content-item .selectDot-active[data-v-296160ee]{width:8vw;height:8vw;line-height:8vw;text-align:center;font-size:4.26667rem;border-radius:50%;font-weight:500}.list-content-item .selectDot[data-v-296160ee]{background:#f5f4ff;color:#846bff}.list-content-item .selectDot-active[data-v-296160ee]{background:#846bff;color:#fff}.list-content-item-address[data-v-296160ee]{width:calc(100% - 12.26667vw);padding-left:2.66667vw;padding-right:3.73333vw}.list-content-item-address-top[data-v-296160ee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-content-item-address .phone[data-v-296160ee]{font-weight:400;margin-left:1.33333vw}.list-content-item-address .defaultTips[data-v-296160ee]{width:8vw;height:4.8vw;line-height:4.8vw;border-radius:.53333vw;border:%?1?% solid #846bff;margin-left:2.66667vw;color:#846bff;font-size:2.93333rem;font-weight:400;text-align:center}.list-content-item-address-bottom[data-v-296160ee]{margin-top:1.86667vw;color:#16171c;font-weight:400;font-size:3.73333rem}@media (orientation:landscape){.page[data-v-296160ee]{padding-top:5.28169rem}.empty[data-v-296160ee]{margin-top:64.08451rem}.empty .no_consignee[data-v-296160ee]{width:52.8169rem;height:52.8169rem}.empty .addButton[data-v-296160ee]{width:70.42254rem;height:15.84507rem;border-radius:8.09859rem;line-height:15.84507rem;font-size:6.33803rem;margin-top:14.08451rem}.empty .addButton .icon-add[data-v-296160ee]{margin-right:4.92958rem}.bottom-buttonList[data-v-296160ee]{height:29.92958rem}.bottom-buttonList>uni-view[data-v-296160ee]{width:121.47887rem;height:15.84507rem;border-radius:8.09859rem;line-height:15.84507rem;font-size:6.33803rem}.bottom-buttonList>uni-view .icon-add[data-v-296160ee]{margin-right:2.8169rem}.list-content[data-v-296160ee]{height:calc(100vh - 35.21127rem);border-radius:3.52113rem 3.52113rem %?0?% %?0?%;margin:0 5.28169rem}.list-content-item[data-v-296160ee]{padding:4.92958rem 5.28169rem}.list-content-item .selectDot[data-v-296160ee],.list-content-item .selectDot-active[data-v-296160ee]{width:10.56338rem;height:10.56338rem;line-height:10.56338rem;font-size:5.6338rem}.list-content-item-address[data-v-296160ee]{width:calc(100% - 16.19718rem);padding-left:3.52113rem;padding-right:4.92958rem}.list-content-item-address .phone[data-v-296160ee]{margin-left:1.76056rem}.list-content-item-address .defaultTips[data-v-296160ee]{width:10.56338rem;height:6.33803rem;line-height:6.33803rem;border-radius:.70423rem;border:%?1?% solid #846bff;margin-left:3.52113rem;font-size:3.87324rem}.list-content-item-address-bottom[data-v-296160ee]{margin-top:2.46479rem;font-size:4.92958rem}}",""])},ee53:function(e,t,i){"use strict";i.r(t);var a=i("3482"),n=i("3e1c");for(var d in n)["default"].indexOf(d)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(d);i("7521");var o,s=i("f0c5"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"296160ee",null,!1,a["a"],o);t["default"]=r.exports}}]);