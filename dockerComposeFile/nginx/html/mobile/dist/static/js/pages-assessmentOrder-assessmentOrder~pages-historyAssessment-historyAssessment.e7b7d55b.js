(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assessmentOrder-assessmentOrder~pages-historyAssessment-historyAssessment"],{"00b5":function(t,e,a){"use strict";a.r(e);var i=a("26bc"),n=a("649d");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("d165");var r,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"55ebcd61",null,!1,i["a"],r);e["default"]=l.exports},"0507":function(t,e){t.exports="data:image/gif;base64,R0lGODlhIAAgAKIGAEZGUUdHUEdHUUZGUkdHUkZGUAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDE3Qzg5Nzk0QjlBMTFFRDg5NzY4MDhCNjcwNTNCOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDE3Qzg5N0E0QjlBMTFFRDg5NzY4MDhCNjcwNTNCOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEMTdDODk3NzRCOUExMUVEODk3NjgwOEI2NzA1M0I5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEMTdDODk3ODRCOUExMUVEODk3NjgwOEI2NzA1M0I5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUeAAYALAAAAAAgACAAAAMvaLrc/jDKSau9OOvNu/9gKI5kyRRFiaIjsBaA6K5xGLzBeBe56f/AoHBILBqPwwQAIfkEBR4ABgAsDQAHAAgAEwAAAytoahGrJToFYhTQTlvA0kt1hdYjlGT0iIWJKoOFfa9xjvQbcJ6yF4SHbZYAACH5BAUyAAYALAUAAQAKAB4AAANAaLomzKCEZ2KR8F6n7J2Lhi2B+JjZBTwepYGL8LIaJV9uTeOnnhY2H2PWGzFKvOJqV1guBqgfZ6hxhogkYVaRAAA7"},"0e11":function(t,e,a){e=t.exports=a("24fb")(!1);var i=a("b605"),n=i(a("f29f")),o=i(a("9cb6")),r=i(a("8433"));e.push([t.i,'.uni-modal[data-v-1d972f61]{width:80vw!important;border-radius:2.66667vw!important;max-width:inherit!important}.uni-modal__ft[data-v-1d972f61]{height:13.33333vw!important;line-height:13.33333vw!important}.uni-modal__ft[data-v-1d972f61]:after{border-color:#f5f5f5!important}.uni-modal__bd[data-v-1d972f61]{font-size:4rem!important;padding:0 0 4vw!important;min-height:auto!important}.uni-modal__btn[data-v-1d972f61]{font-size:4.8rem!important}.uni-modal__btn[data-v-1d972f61]:after{border-color:#f5f5f5!important}.uni-modal__title[data-v-1d972f61]{padding:6.66667vw 0 2.66667vw;font-size:4.8rem!important;font-weight:500!important;-webkit-line-clamp:initial!important}.commonTopTips[data-v-1d972f61]{padding:2vw 4vw;background:#fffbf7;line-height:5.33333vw;color:#ef7413}.fixedPopup[data-v-1d972f61]{position:fixed;top:0;left:0;bottom:0;right:0}.fixedPopup.tipsPopup .fixedPopup-content-main[data-v-1d972f61]{padding:0 8vw 5.33333vw;line-height:5.33333vw}.fixedPopup.tipsPopup .fixedPopup-content-main>uni-view[data-v-1d972f61]{margin-top:2.66667vw;font-size:4.8rem;line-height:6.66667vw}.fixedPopup.btnTipsPopup[data-v-1d972f61]{z-index:2}.fixedPopup.btnTipsPopup .fixedPopup-content .content[data-v-1d972f61]{font-size:4.8rem;padding:1.33333vw 0 4vw;text-align:center;font-weight:500}.fixedPopup.btnTipsPopup .fixedPopup-content uni-button[data-v-1d972f61]{margin:4vw auto 0;height:12vw;line-height:12vw;font-size:4.8rem;border-radius:6.13333vw}.fixedPopup.btnTipsPopup .fixedPopup-content .tips[data-v-1d972f61]{color:#666;margin-top:4vw;font-size:4rem;text-align:center}.fixedPopup .onlyOneButton .btn[data-v-1d972f61]{border-radius:2.66667vw!important}.fixedPopup-content[data-v-1d972f61]{position:absolute;width:80vw;left:50%;top:50%;margin-left:-40vw;z-index:10!important;background:#fff;border-radius:2.66667vw;transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%)}.fixedPopup-content-title[data-v-1d972f61]{padding:6.66667vw 0 2.66667vw;font-size:4.8rem!important;font-weight:500!important;text-align:center}.fixedPopup-content-title.vCenter[data-v-1d972f61]{padding:0;height:13.33333vw;line-height:13.33333vw}.fixedPopup-content-tips[data-v-1d972f61]{text-align:center;color:#999}.fixedPopup-content .icon_pop_up_cancel[data-v-1d972f61]{position:absolute;top:4vw;right:4vw}.fixedPopup-content-main[data-v-1d972f61]{padding:8vw 8vw 5.33333vw}.fixedPopup-content-btn[data-v-1d972f61]{border-top:%?1?% solid #f5f5f5;border-radius:0 0 2.66667vw 2.66667vw}.fixedPopup-content-btn .btn[data-v-1d972f61]{background:#fff;height:13.33333vw;line-height:13.33333vw;font-size:4.8rem;text-align:center;border-radius:0 0 2.66667vw 0}.fixedPopup-content-btn .btn[data-v-1d972f61]:first-child{border-right:%?1?% solid #f5f5f5;border-radius:0 0 0 2.66667vw}.fixedPopup.bottom .fixedPopup-content[data-v-1d972f61]{border-radius:4vw 4vw 0 0;width:100%;left:0;margin-left:inherit;bottom:0;top:auto;transform:none;-webkit-transform:none}uni-button[data-v-1d972f61]:after{border:none!important}#loader-wrapper[data-v-1d972f61]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:999999}#loader-wrapper #loader[data-v-1d972f61]{display:block;position:relative;left:50%;top:40%;width:50px;height:50px;margin:-25px 0 0 -25px;border-radius:50%;border:2px solid transparent;border-top-color:#846bff;-webkit-animation:spin-data-v-1d972f61 2s linear infinite;-ms-animation:spin-data-v-1d972f61 2s linear infinite;-moz-animation:spin-data-v-1d972f61 2s linear infinite;-o-animation:spin-data-v-1d972f61 2s linear infinite;animation:spin-data-v-1d972f61 2s linear infinite;z-index:1001}#loader-wrapper #loader[data-v-1d972f61]:before{content:"";position:absolute;top:5px;left:5px;right:5px;bottom:5px;border-radius:50%;border:2px solid transparent;border-top-color:#846bff;-webkit-animation:spin-data-v-1d972f61 3s linear infinite;-moz-animation:spin-data-v-1d972f61 3s linear infinite;-o-animation:spin-data-v-1d972f61 3s linear infinite;-ms-animation:spin-data-v-1d972f61 3s linear infinite;animation:spin-data-v-1d972f61 3s linear infinite}#loader-wrapper #loader[data-v-1d972f61]:after{content:"";position:absolute;top:15px;left:15px;right:15px;bottom:15px;border-radius:50%;border:2px solid transparent;border-top-color:#846bff;-moz-animation:spin-data-v-1d972f61 1.5s linear infinite;-o-animation:spin-data-v-1d972f61 1.5s linear infinite;-ms-animation:spin-data-v-1d972f61 1.5s linear infinite;-webkit-animation:spin-data-v-1d972f61 1.5s linear infinite;animation:spin-data-v-1d972f61 1.5s linear infinite}.fixedBtm[data-v-1d972f61]{position:fixed;padding:0 4vw;bottom:0;left:0;right:0;z-index:1;background:#fff;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.fixedBtm .btn[data-v-1d972f61]{margin:2.66667vw 0;width:36vw;height:12vw;line-height:11.73333vw;font-size:4.8rem;border-radius:6.66667vw;text-align:center}.fixedBtm.onlyButton[data-v-1d972f61]{height:20vw;padding:4vw;background:transparent}.fixedBtm.onlyButton uni-button[data-v-1d972f61]{margin:0 auto;width:53.33333vw;border-radius:6.13333vw}.commonFormBox[data-v-1d972f61]{font-weight:500}.commonFormBox .title[data-v-1d972f61]{font-size:6.13333rem;margin-bottom:12vw}.commonFormBox uni-label[data-v-1d972f61],.commonFormBox uni-label[data-v-1d972f61]{display:block;border-bottom:1px solid #f4f4f4;font-weight:400}.commonFormBox uni-label.flex-father[data-v-1d972f61],.commonFormBox uni-label.flex-father[data-v-1d972f61]{display:-webkit-box;display:-ms-flexbox;display:box}.commonFormBox uni-label.flex-father uni-input[data-v-1d972f61],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label.flex-father .uni-input-input[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-1d972f61],.commonFormBox uni-label.flex-father .address[data-v-1d972f61] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-1d972f61],.commonFormBox uni-label.flex-father uni-input[data-v-1d972f61],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label.flex-father .uni-input-input[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-1d972f61],.commonFormBox uni-label.flex-father .address[data-v-1d972f61] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-1d972f61]{font-size:4.26667rem!important;text-align:right}.commonFormBox uni-label .labelName[data-v-1d972f61],.commonFormBox uni-label .labelName[data-v-1d972f61]{font-size:4.26667rem!important;font-weight:400}.commonFormBox uni-label uni-input[data-v-1d972f61],.commonFormBox uni-label uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label .uni-input-input[data-v-1d972f61],.commonFormBox uni-label .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label .address.picker.flex-child[data-v-1d972f61],.commonFormBox uni-label .address[data-v-1d972f61] .picker,.commonFormBox uni-label uni-input[data-v-1d972f61],.commonFormBox uni-label uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label .uni-input-input[data-v-1d972f61],.commonFormBox uni-label .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label .address.picker.flex-child[data-v-1d972f61],.commonFormBox uni-label .address[data-v-1d972f61] .picker{font-size:4.8rem;height:6.66667vw;padding:4.66667vw 0;line-height:6.66667vw;box-sizing:initial}.commonFormBox uni-label .input-placeholder[data-v-1d972f61],.commonFormBox uni-label .input-placeholder[data-v-1d972f61]{font-size:4.26667rem;color:#afb2b9}.commonFormBox uni-label.verifyLabel .verify[data-v-1d972f61],.commonFormBox uni-label.verifyLabel .verify[data-v-1d972f61]{position:relative;width:29.33333vw;height:10.66667vw;top:2.66667vw;background:#f5f4ff;border-radius:5.33333vw;text-align:center;line-height:10.66667vw;font-size:4.26667rem;color:#846bff}.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-1d972f61],.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-1d972f61]{background:#fff;border:%?1?% solid #f5f4ff;color:#222}.commonFormBox uni-label .icon_icon_jump_02[data-v-1d972f61],.commonFormBox uni-label .icon_icon_jump_02[data-v-1d972f61]{position:relative!important;font-size:3.2rem!important;margin-left:1.33333vw!important;top:-.26667vw!important}.commonFormBox .tips[data-v-1d972f61]{display:inline-block;margin-top:4vw;font-size:3.2rem;color:#666;line-height:4.66667vw}.commonFormBox uni-button[data-v-1d972f61]{margin:12vw auto 0;height:13.33333vw;font-size:4.8rem;line-height:13.33333vw;border-radius:6.66667vw}.commonFormBox .form-top[data-v-1d972f61]{position:relative;height:34.66667vw;padding:5.33333vw 8vw;background-color:#f5f4ff}.commonFormBox .form-top-title[data-v-1d972f61]{position:relative;font-size:6.13333rem;z-index:1}.commonFormBox .form-top-subTitle[data-v-1d972f61]{position:relative;margin-top:2.66667vw;font-size:4rem;color:#666;z-index:1}.commonFormBox .form-top[data-v-1d972f61]::after{position:absolute;content:"";right:8vw;top:44%;background-image:url(https://amity-oss.yimed.cn/static/wxappSource/icon2.png?v=6.3);background-size:300px auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.commonFormBox .form-top.relationUserTips[data-v-1d972f61]{background:#fff}.commonFormBox .form-content[data-v-1d972f61]{position:relative;top:-5.33333vw;padding:6.66667vw 8vw;border-radius:5.33333vw 5.33333vw 0 0;z-index:1;background-color:#fff}.commonFormBox .form-content-title[data-v-1d972f61]{font-size:5.33333rem;font-weight:500;margin-bottom:5.33333vw;color:#16171c}.commonFormBox .form-content[data-v-1d972f61] .custom-picker{font-size:4.8rem}.commonFormBox .form-content uni-label[data-v-1d972f61]{margin-bottom:5.33333vw;padding-bottom:4vw}.commonFormBox .form-content uni-label uni-view[data-v-1d972f61]{font-size:4.8rem}.commonFormBox .form-content .btnBox uni-button[data-v-1d972f61]{margin:0 8vw 4vw;height:13.33333vw;font-size:4.8rem;line-height:13.33333vw;border-radius:6.66667vw}.commonFormBox .commonPlainFill[data-v-1d972f61]{position:relative;margin:16vw 0}.commonFormBox .commonPlainFill uni-text[data-v-1d972f61]{float:left;font-size:6.4rem;font-weight:500;line-height:13.33333vw;color:#16171c}.commonFormBox .commonPlainFill .input[data-v-1d972f61]{float:left;width:13.33333vw;height:13.33333vw;line-height:12.8vw;border-radius:4vw;margin-left:1.6vw;font-size:6.4rem;font-weight:500;padding:0;margin-bottom:0;border:.26667vw solid #464650;text-align:center}.commonFormBox .commonPlainFill .hidden_input[data-v-1d972f61]{position:absolute;width:100%;height:13.33333vw;left:0;right:0;text-align:left;margin:0!important;width:200%;left:-100%;top:0;opacity:0}.commonFormBox .commonPlainFill .hidden_input[data-v-1d972f61] .uni-input-wrapper{position:inherit}.commonFormBox .commonPlainFill .hidden_input[data-v-1d972f61] .uni-input-input{opacity:0!important;position:absolute;width:100%!important;height:13.33333vw;left:0;right:0;top:0;text-align:left}.commonFormBox .commonPlainFill .hidden_input.focus[data-v-1d972f61]{position:fixed;top:-100%;opacity:1}.commonFormBox .commonPlainFill .textInput[data-v-1d972f61]{position:relative}.commonFormBox .commonPlainFill .textInput.active[data-v-1d972f61]::after{content:"";position:absolute;display:inline-block;height:70%;top:15%;width:%?1?%;background:#313131;animation:1s animate-data-v-1d972f61 infinite;-webkit-animation:1s animate-data-v-1d972f61 infinite;-moz-animation:1s animate-data-v-1d972f61 infinite;-o-animation:1s animate-data-v-1d972f61 infinite;-ms-animation:1s animate-data-v-1d972f61 infinite}.commonRadioItem[data-v-1d972f61]{display:inline-block;min-width:18.66667vw;padding:0 4vw;min-height:10.66667vw;line-height:10.66667vw;background:#f9f9f9;border-radius:5.33333vw;text-align:center;font-size:4.26667rem;margin:0 4vw 4vw 0;color:#666}.commonRadioItem.active[data-v-1d972f61]{background:#846bff;color:#f5f4ff;font-weight:500}.commonRadioItem.active uni-text[data-v-1d972f61]{font-weight:400;color:#846bff!important}@-webkit-keyframes spin-data-v-1d972f61{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes animate-data-v-1d972f61{100%{opacity:0}}@keyframes animate-data-v-1d972f61{100%{opacity:0}}.commonItemBox[data-v-1d972f61]{font-size:4.26667rem;margin:0 4vw}.commonItemBox .commonTitle[data-v-1d972f61]{font-size:4.26667rem;font-weight:500}.commonItemBox .itemBox-content[data-v-1d972f61]{background-color:#fff;border-radius:4vw;padding:0 4vw 4vw;margin-bottom:2.66667vw}.commonItemBox .itemBox-content>uni-view[data-v-1d972f61]{margin-bottom:2.66667vw}.commonItemBox .itemBox-content>uni-view .itemName[data-v-1d972f61]{color:#666}.commonItemBox .itemBox-content>uni-view[data-v-1d972f61]:last-child{margin-bottom:0}.commonItemBox .itemBox-content>uni-view.userInfo[data-v-1d972f61]{margin:0 4vw 2.66667vw;text-align:center}.commonItemBox .itemBox-content>uni-view.userInfo uni-view[data-v-1d972f61]{margin-top:2.66667vw}uni-image>img[data-v-1d972f61]{opacity:1}@keyframes spin-data-v-1d972f61{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}}@media (min-width:500px) and (orientation:landscape){.fullWidth.chatDetail[data-v-1d972f61]{left:0!important}}@media (min-width:500px) and (orientation:landscape){.tabarHeight[data-v-1d972f61]{height:calc(100vh - 21.12676rem)}}.chatDetail[data-v-1d972f61]{position:fixed;top:0;bottom:0;right:0;left:0;background:#f9f9f9;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.chatDetail .container[data-v-1d972f61]{height:100%}@media (min-width:500px) and (orientation:landscape){.chatDetail.chatDetail[data-v-1d972f61]{left:34%}}.chatDetail .header[data-v-1d972f61]{width:100%;position:relative;text-align:center;font-size:4.8rem;font-weight:400;background-color:#fff}.chatDetail .header-content[data-v-1d972f61]{position:relative;height:11.73333vw;line-height:11.73333vw}.chatDetail .header-content .iconfont1[data-v-1d972f61]{position:absolute;left:2.66667vw}.chatDetail .header-content .memberBox[data-v-1d972f61]{display:inline-block}.chatDetail .header-content .memberBox>uni-view[data-v-1d972f61]{float:left}.chatDetail .header-content .memberBox .symbol[data-v-1d972f61]{margin:0 .66667vw}.chatDetail .header-content .memberBox .dot[data-v-1d972f61]{display:inline-block;width:2.93333vw;height:2.93333vw;border-radius:100%;margin-left:1.33333vw}.chatDetail .header-content .memberBox .dot.red[data-v-1d972f61]{background-color:#f05656}.chatDetail .header-content .memberBox .dot.green[data-v-1d972f61]{background-color:#3bc2b5}.chatDetail .header-content .memberBox .dot.gray[data-v-1d972f61]{background-color:#f5f5f5}.chatDetail .content[data-v-1d972f61]{height:calc(100% - 11.73333vw)}.chatDetail .content-top .topTips[data-v-1d972f61]{height:13.33333vw;padding:2vw 4vw;line-height:9.33333vw;background:#fff;border-top:%?1?% solid #f5f5f5}.chatDetail .content-top .topTips uni-image[data-v-1d972f61]{float:left;width:9.33333vw;height:9.33333vw;border-radius:100%;margin-right:2.66667vw}.chatDetail .content-top .topTips .line1 uni-text[data-v-1d972f61]{color:#666}.chatDetail .content-top .topTips uni-button[data-v-1d972f61]{padding:0 4vw;height:8.53333vw;font-weight:500;line-height:8.53333vw;float:right;border-radius:4.66667vw;border:none!important;font-size:4.26667rem}.chatDetail .content-top .topTips uni-button.btn-orange[data-v-1d972f61]{box-shadow:0 3px 0 0 #e56c00}.chatDetail .content-top .topTips uni-button.btn-gray[data-v-1d972f61]{background:#ccc;box-shadow:0 3px 0 0 #a5a2a2}@media (min-width:500px) and (orientation:landscape){.chatDetail .content-top .topTips[data-v-1d972f61]{height:50px!important;line-height:50px!important;padding:0 5.28169rem!important}.chatDetail .content-top .topTips uni-image[data-v-1d972f61]{margin-top:5px!important;width:40px!important;height:40px!important}.chatDetail .content-top .topTips uni-button[data-v-1d972f61]{margin-top:6px!important;height:38px!important;line-height:38px!important}}.chatDetail .content-detail[data-v-1d972f61]{background-color:#f5f5f5;height:calc(100% - 16vw);padding-bottom:4vw}.chatDetail .content-detail uni-scroll-view[data-v-1d972f61]{height:100%}.chatDetail .content-detail .loadMore[data-v-1d972f61]{padding-top:2.66667vw;line-height:5.33333vw;text-align:center;color:#666}.chatDetail .content-detail .warm-tips[data-v-1d972f61]{padding:2.66667vw 4vw;margin:4vw 4vw 0;line-height:6vw;border-radius:2.66667vw;background:rgba(0,0,0,.5)}.chatDetail .content-detail .warm-tips uni-text[data-v-1d972f61]{color:#fff}.chatDetail .content-detail-tips[data-v-1d972f61]{position:relative;width:80vw;margin:8vw auto 0;border-radius:2.66667vw;border:.26667vw solid hsla(0,0%,100%,.8);background:#ffd7a0;padding:3.2vw 6.66667vw}.chatDetail .content-detail-tips .title[data-v-1d972f61]{font-size:5.33333rem;font-weight:500;color:#893f05;text-align:center}.chatDetail .content-detail-tips .detail[data-v-1d972f61]{padding:5.33333vw 0;margin-top:2.66667vw;height:36vw;background-image:url('+n+');background-size:100% 100%;text-align:center}.chatDetail .content-detail-tips .detail .timeBox[data-v-1d972f61]{display:inline-block}.chatDetail .content-detail-tips .detail .timeBox>uni-view[data-v-1d972f61]{position:relative;float:left;margin:0 2vw;background:#ff7a15;box-shadow:inset 0 4px 8px 0 #e75f11;border:.26667vw solid hsla(0,0%,100%,.8);font-size:6.4rem;line-height:13.33333vw;line-height:%?100?%;padding:0 .66667vw;min-width:13.33333vw;border-radius:2.66667vw;color:#fff}.chatDetail .content-detail-tips .detail .timeBox>uni-view[data-v-1d972f61]:after{position:absolute;content:"";width:1.33333vw;height:5.33333vw;top:50%;right:-2.66667vw;margin-top:-2.66667vw;background-image:url('+o+");background-size:100% 100%}.chatDetail .content-detail-tips .detail .timeBox>uni-view[data-v-1d972f61]:last-child::after{display:none}.chatDetail .content-detail-tips .detail .tipsBox[data-v-1d972f61]{padding-top:8vw;font-size:4.26667rem;font-weight:500;color:#893f05}.chatDetail .content-detail-tips .operate[data-v-1d972f61]{position:absolute;width:42.66667vw;height:17.86667vw;line-height:11.73333vw;left:50%;margin-left:-21.33333vw;text-align:center;background-image:url("+r+');background-size:100% 100%;bottom:-2.66667vw;font-size:4.8rem;font-weight:500;color:#fff}.chatDetail .content-detail-tips .operate.disabled[data-v-1d972f61]{color:hsla(0,0%,100%,.5)}.chatDetail .content-detail-chat .chat-item[data-v-1d972f61]{width:100%;margin-top:5.33333vw;padding:0 4vw}.chatDetail .content-detail-chat .chat-item .icon_icon_jump_02[data-v-1d972f61]{margin-left:1.33333vw;font-size:3.2rem!important}.chatDetail .content-detail-chat .chat-item .chatTime[data-v-1d972f61]{margin-bottom:4vw;color:#999;text-align:center}.chatDetail .content-detail-chat .chat-item .sending[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .icon-fail[data-v-1d972f61]{position:absolute;left:-28px;top:4vw;width:18px;height:18px}.chatDetail .content-detail-chat .chat-item .chatImg[data-v-1d972f61]{display:block;width:10.66667vw;height:10.66667vw;border-radius:100%}.chatDetail .content-detail-chat .chat-item .chatImg.notOnline[data-v-1d972f61]{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%);-webkit-filter:grey;filter:gray}.chatDetail .content-detail-chat .chat-item .chatContent[data-v-1d972f61]{width:100%}.chatDetail .content-detail-chat .chat-item .contentDetail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard[data-v-1d972f61]{float:left;max-width:80%;position:relative;border-radius:2.66667vw;line-height:6.4vw;font-size:4.53333rem;padding:3.2vw}@media (min-width:500px) and (orientation:landscape){.chatDetail .content-detail-chat .chat-item .contentDetail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard[data-v-1d972f61]{padding:12px!important}.chatDetail .content-detail-chat .chat-item .contentDetail.contentReport[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard.contentReport[data-v-1d972f61]{padding:0!important}}.chatDetail .content-detail-chat .chat-item .contentDetail .icon_invitation_01[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .icon_invitation_01[data-v-1d972f61]{position:relative;top:-.53333vw;font-size:3.73333rem}.chatDetail .content-detail-chat .chat-item .contentDetail[data-v-1d972f61]:after,.chatDetail .content-detail-chat .chat-item .systemCard[data-v-1d972f61]:after{content:"";position:absolute;top:2.66667vw;width:0;height:1.33333vw;border:1.6vw solid transparent;border-top-color:transparent;border-bottom-color:#fff;border-left-color:transparent;border-right-color:transparent}.chatDetail .content-detail-chat .chat-item .contentDetail .chatImgList img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatImgList img[data-v-1d972f61]{width:37.33333vw}.chatDetail .content-detail-chat .chat-item .contentDetail .text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .text[data-v-1d972f61]{display:inline-block;word-break:break-all}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport[data-v-1d972f61]{font-size:4.26667rem;width:66.66667vw}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .topTips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .topTips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .topTips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .topTips[data-v-1d972f61]{margin-top:4vw}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .state-tips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .state-tips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .state-tips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .state-tips[data-v-1d972f61]{min-height:4.8vw;height:auto}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .title[data-v-1d972f61]{margin:0 4vw;height:13.33333vw;line-height:13.33333vw;font-size:4.26667rem;border-radius:2.66667vw 2.66667vw 0 0;border-bottom:%?1?% solid #d8d8d8}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail[data-v-1d972f61]{padding:4vw 4vw 0}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail .advise[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .advise[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail .advise[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .advise[data-v-1d972f61]{margin-top:4vw}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail .text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail .text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .text[data-v-1d972f61]{line-height:6vw;color:#16171c;margin-bottom:4vw}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail.drug[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail.drug[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail.drug[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail.drug[data-v-1d972f61]{padding-bottom:4vw}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail.drug uni-text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail.drug uni-text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail.drug uni-text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail.drug uni-text[data-v-1d972f61]{margin-left:2.66667vw}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .imgBox img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .imgBox img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .imgBox img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .imgBox img[data-v-1d972f61]{width:30%;height:16vw;float:left;margin:0 3.3% 2.66667vw 0}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .bottom[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .bottom[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .bottom[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .bottom[data-v-1d972f61]{margin:4vw 0 0;padding:0 4vw;height:13.33333vw;line-height:13.33333vw;font-size:3.73333rem;background-color:#f9f9f9;border-radius:0 0 2.66667vw 2.66667vw;color:#846bff}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .title[data-v-1d972f61]{border-bottom:%?1?% solid #f5f5f5}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail[data-v-1d972f61]{padding:4vw}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .iconfont1[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .iconfont1[data-v-1d972f61]{position:relative;top:2.66667vw;margin-right:2.66667vw;font-size:13.33333rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .subTitle[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .subTitle[data-v-1d972f61]{font-size:4.8rem;margin-bottom:1.33333vw}.chatDetail .content-detail-chat .chat-item .contentDetail.contentReport[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard.contentReport[data-v-1d972f61]{padding:0}.chatDetail .content-detail-chat .chat-item .systemCard[data-v-1d972f61]{background:#fff;float:none;max-width:inherit}.chatDetail .content-detail-chat .chat-item .systemCard[data-v-1d972f61]::after{display:none}.chatDetail .content-detail-chat .chat-item .contentAudio .chatAudio[data-v-1d972f61]{position:relative;min-width:13.33333vw;max-width:100%}.chatDetail .content-detail-chat .chat-item .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61]{display:inline-block;font-size:4.26667rem;width:4.26667vw;height:4.26667vw}.chatDetail .content-detail-chat .chat-item .contentAudio .chatAudio uni-image[data-v-1d972f61]{float:left;display:inline-block;position:relative;top:.8vw;width:4.26667vw;height:4.26667vw}.chatDetail .content-detail-chat .chat-item .contentAudio .chatAudio .unReadMsg[data-v-1d972f61]{position:absolute;width:10px;height:10px;border-radius:100%;background:#f34e1d;right:-30px;top:5px!important}.chatDetail .content-detail-chat .chat-item.answer .chatContent[data-v-1d972f61]{float:right}.chatDetail .content-detail-chat .chat-item.answer .chatImg[data-v-1d972f61]{float:right}.chatDetail .content-detail-chat .chat-item.answer .contentDetail[data-v-1d972f61]{float:right;margin-right:3.2vw;background:#e5e5ff;color:#000}.chatDetail .content-detail-chat .chat-item.answer .contentDetail.contentConsultInfo[data-v-1d972f61]{background:#fff}.chatDetail .content-detail-chat .chat-item.answer .contentDetail.contentConsultInfo[data-v-1d972f61]::after{border-bottom-color:#fff}.chatDetail .content-detail-chat .chat-item.answer .contentDetail.contentConsultInfo .detail[data-v-1d972f61]{padding-top:2.66667vw!important}.chatDetail .content-detail-chat .chat-item.answer .contentDetail .icon_invitation_01[data-v-1d972f61]{display:inline-block;transform:rotate(180deg);-webkit-transform:rotate(180deg);margin-left:2.66667vw}.chatDetail .content-detail-chat .chat-item.answer .contentDetail[data-v-1d972f61]:after{right:-3.73333vw;transform:rotate(90deg);-webkit-transform:rotate(90deg);border-bottom-color:#e5e5ff}@media (min-width:500px) and (orientation:landscape){.chatDetail .content-detail-chat .chat-item.answer .contentDetail[data-v-1d972f61]:after{border-bottom-color:#e5e5ff!important}}.chatDetail .content-detail-chat .chat-item.answer .contentDetail .small-gif-loading[data-v-1d972f61]{position:absolute;top:50%;margin-top:-10px;left:-30px;margin-right:inherit}.chatDetail .content-detail-chat .chat-item.answer .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item.answer .contentAudio .chatAudio uni-image[data-v-1d972f61]{display:inline-block;float:right;margin-left:2.4vw}.chatDetail .content-detail-chat .chat-item.answer .contentAudio .chatAudio i[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item.answer .contentAudio .chatAudio uni-text[data-v-1d972f61]{float:right}.chatDetail .content-detail-chat .chat-item.answer .contentAudio .chatAudio uni-text[data-v-1d972f61]{position:relative;top:1px}.chatDetail .content-detail-chat .chat-item.reply .chatContent[data-v-1d972f61]{float:left}.chatDetail .content-detail-chat .chat-item.reply .chatImg[data-v-1d972f61]{float:left}.chatDetail .content-detail-chat .chat-item.reply .contentDetail[data-v-1d972f61]{position:relative;margin-left:3.2vw;background:#fff}.chatDetail .content-detail-chat .chat-item.reply .contentDetail .icon_invitation_01[data-v-1d972f61]{float:left;margin-right:2.66667vw}.chatDetail .content-detail-chat .chat-item.reply .contentDetail[data-v-1d972f61]::after{left:-3.73333vw;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg)}@media (min-width:500px) and (orientation:landscape){.chatDetail .content-detail-chat .chat-item.reply .contentDetail[data-v-1d972f61]:after{border-bottom-color:#fff!important}}.chatDetail .content-detail-chat .chat-item.reply .contentDetail .chatUserName[data-v-1d972f61]{position:absolute;width:300px;top:-6.66667vw;left:.8vw;line-height:5.33333vw;color:#9ea8c8;font-size:3.73333rem}.chatDetail .content-detail-chat .chat-item.reply .groupChat .contentDetail[data-v-1d972f61]{margin-top:5.33333vw}.chatDetail .content-detail-chat .chat-item.reply .contentAudio .chatAudio uni-text[data-v-1d972f61]{float:left}.chatDetail .content-detail-chat .chat-item.reply .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item.reply .contentAudio .chatAudio uni-image[data-v-1d972f61]{float:left;display:inline-block;margin-right:2.4vw;transform:rotate(180deg);-webkit-transform:rotate(180deg)}.chatDetail .content-detail-chat .chat-item.reply .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61]{position:relative;top:2vw}.chatDetail .content-bottom[data-v-1d972f61]{padding:1.33333vw 4vw;background:#f9f9f9}.chatDetail .content-bottom .tips[data-v-1d972f61]{padding:0 2.66667vw;min-width:24vw;height:10.66667vw;line-height:10.66667vw;background:#f5f5f5;border-radius:4.66667vw;text-align:center;font-size:4.26667rem}.chatDetail .content-bottom .tips i[data-v-1d972f61]{margin-left:1.33333vw}.chatDetail .content-bottom uni-text[data-v-1d972f61]{float:left}.chatDetail .content-bottom uni-button[data-v-1d972f61]{float:left;margin-right:4vw;width:18.66667vw;height:9.33333vw;line-height:9.06667vw;border-radius:4.66667vw;font-size:3.73333rem}.chatDetail .content-bottom .status[data-v-1d972f61]{line-height:10.66667vw;height:10.66667vw;font-size:4.8rem;text-align:center}.chatDetail .content-bottom .textareaBox[data-v-1d972f61]{position:relative;width:100%;padding:0 4vw;background:#fff;border-radius:5.86667vw}.chatDetail .content-bottom .textareaBox uni-textarea[data-v-1d972f61]{padding:1.33333vw 0;line-height:5.33333vw;width:calc(100% - 16vw);padding:2.66667vw 0;min-height:10.66667vw}.chatDetail .content-bottom .textareaBox .btn-purple[data-v-1d972f61]{position:absolute;top:.66667vw;right:0;width:16vw;height:9.33333vw;line-height:9.06667vw;font-size:4.26667rem;text-align:center;border-radius:4.8vw}.chatDetail .content-bottom .audioBox[data-v-1d972f61]{height:10.66667vw;line-height:10.66667vw;border-radius:5.86667vw;font-size:4.26667rem;text-align:center;font-weight:500;background:#ededed}.chatDetail .content-bottom .bottom[data-v-1d972f61]{margin-top:2.66667vw}.chatDetail .content-bottom .bottom .icon[data-v-1d972f61]{margin-right:8vw}@media (min-width:500px) and (orientation:landscape){.chatDetail .content-bottom[data-v-1d972f61]{padding:0 5.28169rem!important}.chatDetail .content-bottom .tips[data-v-1d972f61]{margin-top:6px!important;height:38px!important;line-height:38px!important;padding:0 5.28169rem!important;background-color:#fff;border:%?1?% solid #dfe3e7}.chatDetail .content-bottom .tips i[data-v-1d972f61]{display:none}.chatDetail .content-bottom .bottom[data-v-1d972f61]{padding:6px;margin-top:0!important}.chatDetail .content-bottom uni-button[data-v-1d972f61]{margin-top:0!important;height:38px!important;line-height:38px!important}}.fixedPopup[data-v-1d972f61]{background:rgba(0,0,0,.5)}.fixedPopup-content-main[data-v-1d972f61]{text-align:center;color:#ff8315;font-size:5.33333rem;font-weight:500;text-align:center;padding:2.66667vw 0 6.66667vw}.fixedPopup-content-btn .btn[data-v-1d972f61]{border-radius:0 0 2.66667vw 2.66667vw!important}.fixedAudioTips[data-v-1d972f61]{position:fixed;z-index:2;width:40vw;height:40vw;padding:6.66667vw 0;background:rgba(22,23,28,.8);border-radius:1.6vw;top:50%;left:50%;margin:-20vw 0 0 -20vw;text-align:center}.fixedAudioTips uni-image[data-v-1d972f61]{display:block;width:18.53333vw;height:14.4vw;margin:2.66667vw auto 0}.fixedAudioTips .tips[data-v-1d972f61]{margin-top:4vw;text-align:center;color:#fff}@media (orientation:landscape){.uni-modal[data-v-1d972f61]{width:105.6338rem!important;border-radius:3.52113rem!important}.uni-modal__ft[data-v-1d972f61]{height:17.60563rem!important;line-height:17.60563rem!important}.uni-modal__bd[data-v-1d972f61]{font-size:5.28169rem!important;padding:0 0 5.28169rem!important}.uni-modal__btn[data-v-1d972f61]{font-size:6.33803rem!important}.uni-modal__title[data-v-1d972f61]{padding:8.80282rem 0 3.52113rem;font-size:6.33803rem!important}.commonTopTips[data-v-1d972f61]{padding:2.64085rem 5.28169rem;line-height:7.04225rem}.fixedPopup.tipsPopup .fixedPopup-content-main[data-v-1d972f61]{padding:0 10.56338rem 7.04225rem;line-height:7.04225rem}.fixedPopup.tipsPopup .fixedPopup-content-main>uni-view[data-v-1d972f61]{margin-top:3.52113rem;font-size:6.33803rem;line-height:8.80282rem}.fixedPopup.btnTipsPopup .fixedPopup-content .content[data-v-1d972f61]{font-size:6.33803rem;padding:1.76056rem 0 5.28169rem}.fixedPopup.btnTipsPopup .fixedPopup-content uni-button[data-v-1d972f61]{margin:5.28169rem auto 0;height:15.84507rem;line-height:15.84507rem;font-size:6.33803rem;border-radius:8.09859rem}.fixedPopup.btnTipsPopup .fixedPopup-content .tips[data-v-1d972f61]{margin-top:5.28169rem;font-size:5.28169rem}.fixedPopup .onlyOneButton .btn[data-v-1d972f61]{border-radius:3.52113rem!important}.fixedPopup-content[data-v-1d972f61]{width:105.6338rem;margin-left:-52.8169rem;border-radius:3.52113rem}.fixedPopup-content-title[data-v-1d972f61]{padding:8.80282rem 0 3.52113rem;font-size:6.33803rem!important}.fixedPopup-content-title.vCenter[data-v-1d972f61]{height:17.60563rem;line-height:17.60563rem}.fixedPopup-content .icon_pop_up_cancel[data-v-1d972f61]{top:5.28169rem;right:5.28169rem}.fixedPopup-content-main[data-v-1d972f61]{padding:10.56338rem 10.56338rem 7.04225rem}.fixedPopup-content-btn[data-v-1d972f61]{border-top:%?1?% solid #f5f5f5;border-radius:0 0 3.52113rem 3.52113rem}.fixedPopup-content-btn .btn[data-v-1d972f61]{height:17.60563rem;line-height:17.60563rem;font-size:6.33803rem;border-radius:0 0 3.52113rem 0}.fixedPopup-content-btn .btn[data-v-1d972f61]:first-child{border-right:%?1?% solid #f5f5f5;border-radius:0 0 0 3.52113rem}.fixedPopup.bottom .fixedPopup-content[data-v-1d972f61]{border-radius:5.28169rem 5.28169rem 0 0}.fixedBtm[data-v-1d972f61]{padding:0 5.28169rem}.fixedBtm .btn[data-v-1d972f61]{margin:3.52113rem 0;width:47.53521rem;height:15.84507rem;line-height:15.49296rem;font-size:6.33803rem;border-radius:8.80282rem}.fixedBtm.onlyButton[data-v-1d972f61]{height:26.40845rem;padding:5.28169rem}.fixedBtm.onlyButton uni-button[data-v-1d972f61]{width:70.42254rem;border-radius:8.09859rem}.commonFormBox .title[data-v-1d972f61]{font-size:8.09859rem;margin-bottom:15.84507rem}.commonFormBox uni-label.flex-father uni-input[data-v-1d972f61],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label.flex-father .uni-input-input[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-1d972f61],.commonFormBox uni-label.flex-father .address[data-v-1d972f61] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-1d972f61],.commonFormBox uni-label.flex-father uni-input[data-v-1d972f61],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label.flex-father .uni-input-input[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-1d972f61],.commonFormBox uni-label.flex-father .address[data-v-1d972f61] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-1d972f61]{font-size:5.6338rem!important}.commonFormBox uni-label .labelName[data-v-1d972f61],.commonFormBox uni-label .labelName[data-v-1d972f61]{font-size:5.6338rem!important}.commonFormBox uni-label uni-input[data-v-1d972f61],.commonFormBox uni-label uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label .uni-input-input[data-v-1d972f61],.commonFormBox uni-label .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label .address.picker.flex-child[data-v-1d972f61],.commonFormBox uni-label .address[data-v-1d972f61] .picker,.commonFormBox uni-label uni-input[data-v-1d972f61],.commonFormBox uni-label uni-textarea.address[data-v-1d972f61],.commonFormBox uni-label .uni-input-input[data-v-1d972f61],.commonFormBox uni-label .address.uni-textarea[data-v-1d972f61],.commonFormBox uni-label .address.picker.flex-child[data-v-1d972f61],.commonFormBox uni-label .address[data-v-1d972f61] .picker{font-size:6.33803rem;height:8.80282rem;padding:6.16197rem 0;line-height:8.80282rem}.commonFormBox uni-label .input-placeholder[data-v-1d972f61],.commonFormBox uni-label .input-placeholder[data-v-1d972f61]{font-size:5.6338rem}.commonFormBox uni-label.verifyLabel .verify[data-v-1d972f61],.commonFormBox uni-label.verifyLabel .verify[data-v-1d972f61]{width:38.73239rem;height:14.08451rem;top:3.52113rem;border-radius:7.04225rem;line-height:14.08451rem;font-size:5.6338rem}.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-1d972f61],.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-1d972f61]{border:%?1?% solid #f5f4ff}.commonFormBox uni-label .icon_icon_jump_02[data-v-1d972f61],.commonFormBox uni-label .icon_icon_jump_02[data-v-1d972f61]{font-size:4.22535rem!important;margin-left:1.76056rem!important;top:-.35211rem!important}.commonFormBox .tips[data-v-1d972f61]{margin-top:5.28169rem;font-size:4.22535rem;line-height:6.16197rem}.commonFormBox uni-button[data-v-1d972f61]{margin:15.84507rem auto 0;height:17.60563rem;font-size:6.33803rem;line-height:17.60563rem;border-radius:8.80282rem}.commonFormBox .form-top[data-v-1d972f61]{height:45.77465rem;padding:7.04225rem 10.56338rem}.commonFormBox .form-top-title[data-v-1d972f61]{font-size:8.09859rem}.commonFormBox .form-top-subTitle[data-v-1d972f61]{margin-top:3.52113rem;font-size:5.28169rem}.commonFormBox .form-top[data-v-1d972f61]::after{right:10.56338rem}.commonFormBox .form-content[data-v-1d972f61]{top:-7.04225rem;padding:8.80282rem 10.56338rem;border-radius:7.04225rem 7.04225rem 0 0}.commonFormBox .form-content-title[data-v-1d972f61]{font-size:7.04225rem;margin-bottom:7.04225rem}.commonFormBox .form-content[data-v-1d972f61] .custom-picker{font-size:6.33803rem}.commonFormBox .form-content uni-label[data-v-1d972f61]{margin-bottom:7.04225rem;padding-bottom:5.28169rem}.commonFormBox .form-content uni-label uni-view[data-v-1d972f61]{font-size:6.33803rem}.commonFormBox .form-content .btnBox uni-button[data-v-1d972f61]{margin:0 10.56338rem 5.28169rem;height:17.60563rem;font-size:6.33803rem;line-height:17.60563rem;border-radius:8.80282rem}.commonFormBox .commonPlainFill[data-v-1d972f61]{margin:21.12676rem 0}.commonFormBox .commonPlainFill uni-text[data-v-1d972f61]{font-size:8.4507rem;line-height:17.60563rem}.commonFormBox .commonPlainFill .input[data-v-1d972f61]{width:17.60563rem;height:17.60563rem;line-height:16.90141rem;border-radius:5.28169rem;margin-left:2.11268rem;font-size:8.4507rem;border:.35211rem solid #464650}.commonFormBox .commonPlainFill .hidden_input[data-v-1d972f61]{height:17.60563rem}.commonFormBox .commonPlainFill .hidden_input[data-v-1d972f61] .uni-input-input{height:17.60563rem}.commonFormBox .commonPlainFill .textInput.active[data-v-1d972f61]::after{width:%?1?%}.commonRadioItem[data-v-1d972f61]{min-width:24.64789rem;padding:0 5.28169rem;min-height:14.08451rem;line-height:14.08451rem;border-radius:7.04225rem;font-size:5.6338rem;margin:0 5.28169rem 5.28169rem 0}.commonItemBox[data-v-1d972f61]{font-size:5.6338rem;margin:0 5.28169rem}.commonItemBox .commonTitle[data-v-1d972f61]{font-size:5.6338rem}.commonItemBox .itemBox-content[data-v-1d972f61]{border-radius:5.28169rem;padding:0 5.28169rem 5.28169rem;margin-bottom:3.52113rem}.commonItemBox .itemBox-content>uni-view[data-v-1d972f61]{margin-bottom:3.52113rem}.commonItemBox .itemBox-content>uni-view.userInfo[data-v-1d972f61]{margin:0 5.28169rem 3.52113rem}.commonItemBox .itemBox-content>uni-view.userInfo uni-view[data-v-1d972f61]{margin-top:3.52113rem}.chatDetail .header[data-v-1d972f61]{font-size:6.33803rem}.chatDetail .header-content[data-v-1d972f61]{height:15.49296rem;line-height:15.49296rem}.chatDetail .header-content .iconfont1[data-v-1d972f61]{left:3.52113rem}.chatDetail .header-content .memberBox .symbol[data-v-1d972f61]{margin:0 .88028rem}.chatDetail .header-content .memberBox .dot[data-v-1d972f61]{width:3.87324rem;height:3.87324rem;margin-left:1.76056rem}.chatDetail .content[data-v-1d972f61]{height:calc(100% - 15.49296rem)}.chatDetail .content-top .topTips[data-v-1d972f61]{height:17.60563rem;padding:2.64085rem 5.28169rem;line-height:12.32394rem;border-top:%?1?% solid #f5f5f5}.chatDetail .content-top .topTips uni-image[data-v-1d972f61]{width:12.32394rem;height:12.32394rem;margin-right:3.52113rem}.chatDetail .content-top .topTips uni-button[data-v-1d972f61]{padding:0 5.28169rem;height:11.26761rem;line-height:11.26761rem;border-radius:6.16197rem;font-size:5.6338rem}.chatDetail .content-detail[data-v-1d972f61]{height:calc(100% - 21.12676rem);padding-bottom:5.28169rem}.chatDetail .content-detail .loadMore[data-v-1d972f61]{padding-top:3.52113rem;line-height:7.04225rem}.chatDetail .content-detail .warm-tips[data-v-1d972f61]{padding:3.52113rem 5.28169rem;margin:5.28169rem 5.28169rem 0;line-height:7.92254rem;border-radius:3.52113rem}.chatDetail .content-detail-tips[data-v-1d972f61]{width:105.6338rem;margin:10.56338rem auto 0;border-radius:3.52113rem;border:.35211rem solid hsla(0,0%,100%,.8);padding:4.22535rem 8.80282rem}.chatDetail .content-detail-tips .title[data-v-1d972f61]{font-size:7.04225rem}.chatDetail .content-detail-tips .detail[data-v-1d972f61]{padding:7.04225rem 0;margin-top:3.52113rem;height:47.53521rem}.chatDetail .content-detail-tips .detail .timeBox>uni-view[data-v-1d972f61]{margin:0 2.64085rem;border:.35211rem solid hsla(0,0%,100%,.8);font-size:8.4507rem;line-height:17.60563rem;line-height:17.60563rem;padding:0 .88028rem;min-width:17.60563rem;border-radius:3.52113rem}.chatDetail .content-detail-tips .detail .timeBox>uni-view[data-v-1d972f61]:after{width:1.76056rem;height:7.04225rem;right:-3.52113rem;margin-top:-3.52113rem}.chatDetail .content-detail-tips .detail .tipsBox[data-v-1d972f61]{padding-top:10.56338rem;font-size:5.6338rem}.chatDetail .content-detail-tips .operate[data-v-1d972f61]{width:56.33803rem;height:23.59155rem;line-height:15.49296rem;margin-left:-28.16901rem;bottom:-3.52113rem;font-size:6.33803rem}.chatDetail .content-detail-chat .chat-item[data-v-1d972f61]{margin-top:7.04225rem;padding:0 5.28169rem}.chatDetail .content-detail-chat .chat-item .icon_icon_jump_02[data-v-1d972f61]{margin-left:1.76056rem;font-size:4.22535rem!important}.chatDetail .content-detail-chat .chat-item .chatTime[data-v-1d972f61]{margin-bottom:5.28169rem}.chatDetail .content-detail-chat .chat-item .sending[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .icon-fail[data-v-1d972f61]{top:5.28169rem}.chatDetail .content-detail-chat .chat-item .chatImg[data-v-1d972f61]{width:14.08451rem;height:14.08451rem}.chatDetail .content-detail-chat .chat-item .contentDetail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard[data-v-1d972f61]{border-radius:3.52113rem;line-height:8.4507rem;font-size:5.98592rem;padding:4.22535rem}.chatDetail .content-detail-chat .chat-item .contentDetail .icon_invitation_01[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .icon_invitation_01[data-v-1d972f61]{top:-.70423rem;font-size:4.92958rem}.chatDetail .content-detail-chat .chat-item .contentDetail[data-v-1d972f61]:after,.chatDetail .content-detail-chat .chat-item .systemCard[data-v-1d972f61]:after{top:3.52113rem;height:1.76056rem;border:2.11268rem solid transparent}.chatDetail .content-detail-chat .chat-item .contentDetail .chatImgList img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatImgList img[data-v-1d972f61]{width:49.29577rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport[data-v-1d972f61]{font-size:5.6338rem;width:88.02817rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .topTips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .topTips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .topTips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .topTips[data-v-1d972f61]{margin-top:5.28169rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .state-tips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .state-tips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .state-tips[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .state-tips[data-v-1d972f61]{min-height:6.33803rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .title[data-v-1d972f61]{margin:0 5.28169rem;height:17.60563rem;line-height:17.60563rem;font-size:5.6338rem;border-radius:3.52113rem 3.52113rem 0 0;border-bottom:%?1?% solid #d8d8d8}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail[data-v-1d972f61]{padding:5.28169rem 5.28169rem 0}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail .advise[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .advise[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail .advise[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .advise[data-v-1d972f61]{margin-top:5.28169rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail .text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail .text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .text[data-v-1d972f61]{line-height:7.92254rem;margin-bottom:5.28169rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail.drug[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail.drug[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail.drug[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail.drug[data-v-1d972f61]{padding-bottom:5.28169rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .detail.drug uni-text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail.drug uni-text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .detail.drug uni-text[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail.drug uni-text[data-v-1d972f61]{margin-left:3.52113rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .imgBox img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .imgBox img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .imgBox img[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .imgBox img[data-v-1d972f61]{height:21.12676rem;margin:0 3.3% 3.52113rem 0}.chatDetail .content-detail-chat .chat-item .contentDetail .chatMsgInfo .bottom[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .bottom[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatMsgInfo .bottom[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .bottom[data-v-1d972f61]{margin:5.28169rem 0 0;padding:0 5.28169rem;height:17.60563rem;line-height:17.60563rem;font-size:4.92958rem;border-radius:0 0 3.52113rem 3.52113rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .title[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .title[data-v-1d972f61]{border-bottom:%?1?% solid #f5f5f5}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail[data-v-1d972f61]{padding:5.28169rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .iconfont1[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .iconfont1[data-v-1d972f61]{top:3.52113rem;margin-right:3.52113rem;font-size:17.60563rem}.chatDetail .content-detail-chat .chat-item .contentDetail .chatReport .detail .subTitle[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item .systemCard .chatReport .detail .subTitle[data-v-1d972f61]{font-size:6.33803rem;margin-bottom:1.76056rem}.chatDetail .content-detail-chat .chat-item .contentAudio .chatAudio[data-v-1d972f61]{min-width:17.60563rem}.chatDetail .content-detail-chat .chat-item .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61]{font-size:5.6338rem;width:5.6338rem;height:5.6338rem}.chatDetail .content-detail-chat .chat-item .contentAudio .chatAudio uni-image[data-v-1d972f61]{top:1.05634rem;width:5.6338rem;height:5.6338rem}.chatDetail .content-detail-chat .chat-item.answer .contentDetail[data-v-1d972f61]{margin-right:4.22535rem}.chatDetail .content-detail-chat .chat-item.answer .contentDetail.contentConsultInfo .detail[data-v-1d972f61]{padding-top:3.52113rem!important}.chatDetail .content-detail-chat .chat-item.answer .contentDetail .icon_invitation_01[data-v-1d972f61]{margin-left:3.52113rem}.chatDetail .content-detail-chat .chat-item.answer .contentDetail[data-v-1d972f61]:after{right:-4.92958rem}.chatDetail .content-detail-chat .chat-item.answer .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item.answer .contentAudio .chatAudio uni-image[data-v-1d972f61]{margin-left:3.16901rem}.chatDetail .content-detail-chat .chat-item.reply .contentDetail[data-v-1d972f61]{margin-left:4.22535rem}.chatDetail .content-detail-chat .chat-item.reply .contentDetail .icon_invitation_01[data-v-1d972f61]{margin-right:3.52113rem}.chatDetail .content-detail-chat .chat-item.reply .contentDetail[data-v-1d972f61]::after{left:-4.92958rem}.chatDetail .content-detail-chat .chat-item.reply .contentDetail .chatUserName[data-v-1d972f61]{top:-8.80282rem;left:1.05634rem;line-height:7.04225rem;font-size:4.92958rem}.chatDetail .content-detail-chat .chat-item.reply .groupChat .contentDetail[data-v-1d972f61]{margin-top:7.04225rem}.chatDetail .content-detail-chat .chat-item.reply .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61],.chatDetail .content-detail-chat .chat-item.reply .contentAudio .chatAudio uni-image[data-v-1d972f61]{margin-right:3.16901rem}.chatDetail .content-detail-chat .chat-item.reply .contentAudio .chatAudio .icon_icon_play_the_voice_02[data-v-1d972f61]{top:2.64085rem}.chatDetail .content-bottom[data-v-1d972f61]{padding:1.76056rem 5.28169rem}.chatDetail .content-bottom .tips[data-v-1d972f61]{padding:0 3.52113rem;min-width:31.69014rem;height:14.08451rem;line-height:14.08451rem;border-radius:6.16197rem;font-size:5.6338rem}.chatDetail .content-bottom .tips i[data-v-1d972f61]{margin-left:1.76056rem}.chatDetail .content-bottom uni-button[data-v-1d972f61]{margin-right:5.28169rem;width:24.64789rem;height:12.32394rem;line-height:11.97183rem;border-radius:6.16197rem;font-size:4.92958rem}.chatDetail .content-bottom .status[data-v-1d972f61]{line-height:14.08451rem;height:14.08451rem;font-size:6.33803rem}.chatDetail .content-bottom .textareaBox[data-v-1d972f61]{padding:0 5.28169rem;border-radius:7.74648rem}.chatDetail .content-bottom .textareaBox uni-textarea[data-v-1d972f61]{padding:1.76056rem 0;line-height:7.04225rem;width:calc(100% - 21.12676rem);padding:3.52113rem 0;min-height:14.08451rem}.chatDetail .content-bottom .textareaBox .btn-purple[data-v-1d972f61]{top:.88028rem;width:21.12676rem;height:12.32394rem;line-height:11.97183rem;font-size:5.6338rem;border-radius:6.33803rem}.chatDetail .content-bottom .audioBox[data-v-1d972f61]{height:14.08451rem;line-height:14.08451rem;border-radius:7.74648rem;font-size:5.6338rem}.chatDetail .content-bottom .bottom[data-v-1d972f61]{margin-top:3.52113rem}.chatDetail .content-bottom .bottom .icon[data-v-1d972f61]{margin-right:10.56338rem}.fixedPopup-content-main[data-v-1d972f61]{font-size:7.04225rem;padding:3.52113rem 0 8.80282rem}.fixedPopup-content-btn .btn[data-v-1d972f61]{border-radius:0 0 3.52113rem 3.52113rem!important}.fixedAudioTips[data-v-1d972f61]{width:52.8169rem;height:52.8169rem;padding:8.80282rem 0;border-radius:2.11268rem;margin:-26.40845rem 0 0 -26.40845rem}.fixedAudioTips uni-image[data-v-1d972f61]{width:24.47183rem;height:19.01408rem;margin:3.52113rem auto 0}.fixedAudioTips .tips[data-v-1d972f61]{margin-top:5.28169rem}}',""])},"1da1":function(t,e,a){"use strict";function i(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(i,n)}function n(t){return function(){var e=this,a=arguments;return new Promise((function(n,o){var r=t.apply(e,a);function s(t){i(r,n,o,s,l,"next",t)}function l(t){i(r,n,o,s,l,"throw",t)}s(void 0)}))}}a.r(e),a.d(e,"default",(function(){return n}))},"1eb4":function(t,e,a){"use strict";var i=a("b5fe"),n=a.n(i);n.a},2564:function(t,e,a){var i=a("cb7e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0f907fce",i,!0,{sourceMap:!1,shadowMode:!1})},"26bc":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("v-uni-view",{staticClass:"fixedPopup bottom mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal=!1}}},[a("v-uni-view",{staticClass:"fixedPopup-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("i",{staticClass:"iconfont2 icon_pop_up_cancel",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.showModal=!1}}}),1==t.prescriptionInfo.length?a("v-uni-view",{staticClass:"fz-36 fixedPopup-content-title vCenter"},[t._v("您有1个处方单待确认")]):t._e(),2==t.prescriptionInfo.length?a("v-uni-view",{staticClass:"fz-36 fixedPopup-content-title vCenter"},[t._v("您有2个处方单已审核通过")]):t._e(),a("v-uni-view",{staticClass:"fixedPopup-content-main flex-father"},[a("v-uni-scroll-view",{attrs:{"scroll-with-animation":!0,"scroll-y":!0}},t._l(t.prescriptionInfo,(function(e,i){return a("v-uni-view",{key:i},[a("v-uni-view",{staticClass:"flex-between prescription-top"},[a("v-uni-view",{staticClass:"c-222 fz-36 flex-center-vh"},[a("i",{staticClass:"icon",class:"1"==e.prescription.prescriptionType?"icon-westernMedicine":"icon-chineseMedicine"}),t._v(t._s("1"==e.prescription.prescriptionType?"西":"中")+"药处方单")]),a("v-uni-view",{staticClass:"c-666 fz-28 flex-center-v",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.goMedOrderDetail(e.prescription.id)}}},[t._v("去购药"),a("i",{staticClass:"iconfont1 icon_icon_jump_02"})])],1),"1"==e.prescription.prescriptionType?t._l(e.drugs,(function(e,i){return a("v-uni-view",{key:i,staticClass:"prescription-item"},[a("v-uni-view",{staticClass:"flex-between prescription-item-top"},[a("v-uni-view",{staticClass:"c-222 fz-32"},[t._v(t._s(e.drugName))]),a("v-uni-view",{staticClass:"c-666 fz-28"},[t._v(t._s(e.total+e.unitDispensingName)+"("+t._s(e.norms)+")")])],1),a("v-uni-view",{staticClass:"c-999 fz-28"},[t._v(t._s(e.usageName)+" "+t._s(e.frequencyName)+" 共 "+t._s(e.day)+" 天")])],1)})):[t._l(e.drugs,(function(e,i){return a("v-uni-view",{key:i,staticClass:"flex-between prescription-item-chinese"},[a("v-uni-view",{staticClass:"c-222 fz-32"},[t._v(t._s(e.drugName)+" ("+t._s(e.norms)+")")]),a("v-uni-view",{staticClass:"c-999 fz-28"},[t._v(t._s(e.total+e.unitDispensingName))])],1)})),a("v-uni-view",{staticClass:"flex-center-vh c-222 fz-32",staticStyle:{"margin-top":"20rpx"}},[a("v-uni-view",{staticClass:"dividingLine"}),t._v("sig"),a("v-uni-view",{staticClass:"dividingLine"})],1),a("v-uni-view",{staticClass:"prescription-chinese-bottom"},[a("v-uni-view",{staticClass:"fz-32"},[a("v-uni-text",{staticClass:"c-666"},[t._v("用法：")]),t._v(t._s(e.attach.tcmUsageName))],1),a("v-uni-view",{staticClass:"fz-32"},[a("v-uni-text",{staticClass:"c-666"},[t._v("频次：")]),t._v(t._s(e.attach.tcmFrequecyName))],1),a("v-uni-view",{staticClass:"fz-32"},[a("v-uni-text",{staticClass:"c-666"},[t._v("贴数：")]),t._v(t._s(e.attach.tcmCount))],1)],1)]],2)})),1)],1)],1)],1):t._e()},o=[]},"361e":function(t,e,a){t.exports=a.p+"static/img/recording.fe6e601a.gif"},"390d":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,'.uni-modal[data-v-fbd1fb76]{width:80vw!important;border-radius:2.66667vw!important;max-width:inherit!important}.uni-modal__ft[data-v-fbd1fb76]{height:13.33333vw!important;line-height:13.33333vw!important}.uni-modal__ft[data-v-fbd1fb76]:after{border-color:#f5f5f5!important}.uni-modal__bd[data-v-fbd1fb76]{font-size:4rem!important;padding:0 0 4vw!important;min-height:auto!important}.uni-modal__btn[data-v-fbd1fb76]{font-size:4.8rem!important}.uni-modal__btn[data-v-fbd1fb76]:after{border-color:#f5f5f5!important}.uni-modal__title[data-v-fbd1fb76]{padding:6.66667vw 0 2.66667vw;font-size:4.8rem!important;font-weight:500!important;-webkit-line-clamp:initial!important}.commonTopTips[data-v-fbd1fb76]{padding:2vw 4vw;background:#fffbf7;line-height:5.33333vw;color:#ef7413}.fixedPopup[data-v-fbd1fb76]{position:fixed;top:0;left:0;bottom:0;right:0}.fixedPopup.tipsPopup .fixedPopup-content-main[data-v-fbd1fb76]{padding:0 8vw 5.33333vw;line-height:5.33333vw}.fixedPopup.tipsPopup .fixedPopup-content-main>uni-view[data-v-fbd1fb76]{margin-top:2.66667vw;font-size:4.8rem;line-height:6.66667vw}.fixedPopup.btnTipsPopup[data-v-fbd1fb76]{z-index:2}.fixedPopup.btnTipsPopup .fixedPopup-content .content[data-v-fbd1fb76]{font-size:4.8rem;padding:1.33333vw 0 4vw;text-align:center;font-weight:500}.fixedPopup.btnTipsPopup .fixedPopup-content uni-button[data-v-fbd1fb76]{margin:4vw auto 0;height:12vw;line-height:12vw;font-size:4.8rem;border-radius:6.13333vw}.fixedPopup.btnTipsPopup .fixedPopup-content .tips[data-v-fbd1fb76]{color:#666;margin-top:4vw;font-size:4rem;text-align:center}.fixedPopup .onlyOneButton .btn[data-v-fbd1fb76]{border-radius:2.66667vw!important}.fixedPopup-content[data-v-fbd1fb76]{position:absolute;width:80vw;left:50%;top:50%;margin-left:-40vw;z-index:10!important;background:#fff;border-radius:2.66667vw;transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%)}.fixedPopup-content-title[data-v-fbd1fb76]{padding:6.66667vw 0 2.66667vw;font-size:4.8rem!important;font-weight:500!important;text-align:center}.fixedPopup-content-title.vCenter[data-v-fbd1fb76]{padding:0;height:13.33333vw;line-height:13.33333vw}.fixedPopup-content-tips[data-v-fbd1fb76]{text-align:center;color:#999}.fixedPopup-content .icon_pop_up_cancel[data-v-fbd1fb76]{position:absolute;top:4vw;right:4vw}.fixedPopup-content-main[data-v-fbd1fb76]{padding:8vw 8vw 5.33333vw}.fixedPopup-content-btn[data-v-fbd1fb76]{border-top:%?1?% solid #f5f5f5;border-radius:0 0 2.66667vw 2.66667vw}.fixedPopup-content-btn .btn[data-v-fbd1fb76]{background:#fff;height:13.33333vw;line-height:13.33333vw;font-size:4.8rem;text-align:center;border-radius:0 0 2.66667vw 0}.fixedPopup-content-btn .btn[data-v-fbd1fb76]:first-child{border-right:%?1?% solid #f5f5f5;border-radius:0 0 0 2.66667vw}.fixedPopup.bottom .fixedPopup-content[data-v-fbd1fb76]{border-radius:4vw 4vw 0 0;width:100%;left:0;margin-left:inherit;bottom:0;top:auto;transform:none;-webkit-transform:none}uni-button[data-v-fbd1fb76]:after{border:none!important}#loader-wrapper[data-v-fbd1fb76]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:999999}#loader-wrapper #loader[data-v-fbd1fb76]{display:block;position:relative;left:50%;top:40%;width:50px;height:50px;margin:-25px 0 0 -25px;border-radius:50%;border:2px solid transparent;border-top-color:#846bff;-webkit-animation:spin-data-v-fbd1fb76 2s linear infinite;-ms-animation:spin-data-v-fbd1fb76 2s linear infinite;-moz-animation:spin-data-v-fbd1fb76 2s linear infinite;-o-animation:spin-data-v-fbd1fb76 2s linear infinite;animation:spin-data-v-fbd1fb76 2s linear infinite;z-index:1001}#loader-wrapper #loader[data-v-fbd1fb76]:before{content:"";position:absolute;top:5px;left:5px;right:5px;bottom:5px;border-radius:50%;border:2px solid transparent;border-top-color:#846bff;-webkit-animation:spin-data-v-fbd1fb76 3s linear infinite;-moz-animation:spin-data-v-fbd1fb76 3s linear infinite;-o-animation:spin-data-v-fbd1fb76 3s linear infinite;-ms-animation:spin-data-v-fbd1fb76 3s linear infinite;animation:spin-data-v-fbd1fb76 3s linear infinite}#loader-wrapper #loader[data-v-fbd1fb76]:after{content:"";position:absolute;top:15px;left:15px;right:15px;bottom:15px;border-radius:50%;border:2px solid transparent;border-top-color:#846bff;-moz-animation:spin-data-v-fbd1fb76 1.5s linear infinite;-o-animation:spin-data-v-fbd1fb76 1.5s linear infinite;-ms-animation:spin-data-v-fbd1fb76 1.5s linear infinite;-webkit-animation:spin-data-v-fbd1fb76 1.5s linear infinite;animation:spin-data-v-fbd1fb76 1.5s linear infinite}.fixedBtm[data-v-fbd1fb76]{position:fixed;padding:0 4vw;bottom:0;left:0;right:0;z-index:1;background:#fff;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.fixedBtm .btn[data-v-fbd1fb76]{margin:2.66667vw 0;width:36vw;height:12vw;line-height:11.73333vw;font-size:4.8rem;border-radius:6.66667vw;text-align:center}.fixedBtm.onlyButton[data-v-fbd1fb76]{height:20vw;padding:4vw;background:transparent}.fixedBtm.onlyButton uni-button[data-v-fbd1fb76]{margin:0 auto;width:53.33333vw;border-radius:6.13333vw}.commonFormBox[data-v-fbd1fb76]{font-weight:500}.commonFormBox .title[data-v-fbd1fb76]{font-size:6.13333rem;margin-bottom:12vw}.commonFormBox uni-label[data-v-fbd1fb76],.commonFormBox uni-label[data-v-fbd1fb76]{display:block;border-bottom:1px solid #f4f4f4;font-weight:400}.commonFormBox uni-label.flex-father[data-v-fbd1fb76],.commonFormBox uni-label.flex-father[data-v-fbd1fb76]{display:-webkit-box;display:-ms-flexbox;display:box}.commonFormBox uni-label.flex-father uni-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address[data-v-fbd1fb76] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-fbd1fb76],.commonFormBox uni-label.flex-father uni-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address[data-v-fbd1fb76] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-fbd1fb76]{font-size:4.26667rem!important;text-align:right}.commonFormBox uni-label .labelName[data-v-fbd1fb76],.commonFormBox uni-label .labelName[data-v-fbd1fb76]{font-size:4.26667rem!important;font-weight:400}.commonFormBox uni-label uni-input[data-v-fbd1fb76],.commonFormBox uni-label uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label .address.picker.flex-child[data-v-fbd1fb76],.commonFormBox uni-label .address[data-v-fbd1fb76] .picker,.commonFormBox uni-label uni-input[data-v-fbd1fb76],.commonFormBox uni-label uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label .address.picker.flex-child[data-v-fbd1fb76],.commonFormBox uni-label .address[data-v-fbd1fb76] .picker{font-size:4.8rem;height:6.66667vw;padding:4.66667vw 0;line-height:6.66667vw;box-sizing:initial}.commonFormBox uni-label .input-placeholder[data-v-fbd1fb76],.commonFormBox uni-label .input-placeholder[data-v-fbd1fb76]{font-size:4.26667rem;color:#afb2b9}.commonFormBox uni-label.verifyLabel .verify[data-v-fbd1fb76],.commonFormBox uni-label.verifyLabel .verify[data-v-fbd1fb76]{position:relative;width:29.33333vw;height:10.66667vw;top:2.66667vw;background:#f5f4ff;border-radius:5.33333vw;text-align:center;line-height:10.66667vw;font-size:4.26667rem;color:#846bff}.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-fbd1fb76],.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-fbd1fb76]{background:#fff;border:%?1?% solid #f5f4ff;color:#222}.commonFormBox uni-label .icon_icon_jump_02[data-v-fbd1fb76],.commonFormBox uni-label .icon_icon_jump_02[data-v-fbd1fb76]{position:relative!important;font-size:3.2rem!important;margin-left:1.33333vw!important;top:-.26667vw!important}.commonFormBox .tips[data-v-fbd1fb76]{display:inline-block;margin-top:4vw;font-size:3.2rem;color:#666;line-height:4.66667vw}.commonFormBox uni-button[data-v-fbd1fb76]{margin:12vw auto 0;height:13.33333vw;font-size:4.8rem;line-height:13.33333vw;border-radius:6.66667vw}.commonFormBox .form-top[data-v-fbd1fb76]{position:relative;height:34.66667vw;padding:5.33333vw 8vw;background-color:#f5f4ff}.commonFormBox .form-top-title[data-v-fbd1fb76]{position:relative;font-size:6.13333rem;z-index:1}.commonFormBox .form-top-subTitle[data-v-fbd1fb76]{position:relative;margin-top:2.66667vw;font-size:4rem;color:#666;z-index:1}.commonFormBox .form-top[data-v-fbd1fb76]::after{position:absolute;content:"";right:8vw;top:44%;background-image:url(https://amity-oss.yimed.cn/static/wxappSource/icon2.png?v=6.3);background-size:300px auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.commonFormBox .form-top.relationUserTips[data-v-fbd1fb76]{background:#fff}.commonFormBox .form-content[data-v-fbd1fb76]{position:relative;top:-5.33333vw;padding:6.66667vw 8vw;border-radius:5.33333vw 5.33333vw 0 0;z-index:1;background-color:#fff}.commonFormBox .form-content-title[data-v-fbd1fb76]{font-size:5.33333rem;font-weight:500;margin-bottom:5.33333vw;color:#16171c}.commonFormBox .form-content[data-v-fbd1fb76] .custom-picker{font-size:4.8rem}.commonFormBox .form-content uni-label[data-v-fbd1fb76]{margin-bottom:5.33333vw;padding-bottom:4vw}.commonFormBox .form-content uni-label uni-view[data-v-fbd1fb76]{font-size:4.8rem}.commonFormBox .form-content .btnBox uni-button[data-v-fbd1fb76]{margin:0 8vw 4vw;height:13.33333vw;font-size:4.8rem;line-height:13.33333vw;border-radius:6.66667vw}.commonFormBox .commonPlainFill[data-v-fbd1fb76]{position:relative;margin:16vw 0}.commonFormBox .commonPlainFill uni-text[data-v-fbd1fb76]{float:left;font-size:6.4rem;font-weight:500;line-height:13.33333vw;color:#16171c}.commonFormBox .commonPlainFill .input[data-v-fbd1fb76]{float:left;width:13.33333vw;height:13.33333vw;line-height:12.8vw;border-radius:4vw;margin-left:1.6vw;font-size:6.4rem;font-weight:500;padding:0;margin-bottom:0;border:.26667vw solid #464650;text-align:center}.commonFormBox .commonPlainFill .hidden_input[data-v-fbd1fb76]{position:absolute;width:100%;height:13.33333vw;left:0;right:0;text-align:left;margin:0!important;width:200%;left:-100%;top:0;opacity:0}.commonFormBox .commonPlainFill .hidden_input[data-v-fbd1fb76] .uni-input-wrapper{position:inherit}.commonFormBox .commonPlainFill .hidden_input[data-v-fbd1fb76] .uni-input-input{opacity:0!important;position:absolute;width:100%!important;height:13.33333vw;left:0;right:0;top:0;text-align:left}.commonFormBox .commonPlainFill .hidden_input.focus[data-v-fbd1fb76]{position:fixed;top:-100%;opacity:1}.commonFormBox .commonPlainFill .textInput[data-v-fbd1fb76]{position:relative}.commonFormBox .commonPlainFill .textInput.active[data-v-fbd1fb76]::after{content:"";position:absolute;display:inline-block;height:70%;top:15%;width:%?1?%;background:#313131;animation:1s animate-data-v-fbd1fb76 infinite;-webkit-animation:1s animate-data-v-fbd1fb76 infinite;-moz-animation:1s animate-data-v-fbd1fb76 infinite;-o-animation:1s animate-data-v-fbd1fb76 infinite;-ms-animation:1s animate-data-v-fbd1fb76 infinite}.commonRadioItem[data-v-fbd1fb76]{display:inline-block;min-width:18.66667vw;padding:0 4vw;min-height:10.66667vw;line-height:10.66667vw;background:#f9f9f9;border-radius:5.33333vw;text-align:center;font-size:4.26667rem;margin:0 4vw 4vw 0;color:#666}.commonRadioItem.active[data-v-fbd1fb76]{background:#846bff;color:#f5f4ff;font-weight:500}.commonRadioItem.active uni-text[data-v-fbd1fb76]{font-weight:400;color:#846bff!important}@-webkit-keyframes spin-data-v-fbd1fb76{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes animate-data-v-fbd1fb76{100%{opacity:0}}@keyframes animate-data-v-fbd1fb76{100%{opacity:0}}.commonItemBox[data-v-fbd1fb76]{font-size:4.26667rem;margin:0 4vw}.commonItemBox .commonTitle[data-v-fbd1fb76]{font-size:4.26667rem;font-weight:500}.commonItemBox .itemBox-content[data-v-fbd1fb76]{background-color:#fff;border-radius:4vw;padding:0 4vw 4vw;margin-bottom:2.66667vw}.commonItemBox .itemBox-content>uni-view[data-v-fbd1fb76]{margin-bottom:2.66667vw}.commonItemBox .itemBox-content>uni-view .itemName[data-v-fbd1fb76]{color:#666}.commonItemBox .itemBox-content>uni-view[data-v-fbd1fb76]:last-child{margin-bottom:0}.commonItemBox .itemBox-content>uni-view.userInfo[data-v-fbd1fb76]{margin:0 4vw 2.66667vw;text-align:center}.commonItemBox .itemBox-content>uni-view.userInfo uni-view[data-v-fbd1fb76]{margin-top:2.66667vw}uni-image>img[data-v-fbd1fb76]{opacity:1}@keyframes spin-data-v-fbd1fb76{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(1turn);-ms-transform:rotate(1turn);transform:rotate(1turn)}}.noNavbar[data-v-fbd1fb76]{top:0!important}@media (min-width:500px) and (orientation:landscape){.fullWidth.consultDetail[data-v-fbd1fb76]{left:0!important}}.fixedPopup[data-v-fbd1fb76]{z-index:1}.consultDetail[data-v-fbd1fb76]{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}@media (min-width:500px) and (orientation:landscape){.consultDetail.consultDetail[data-v-fbd1fb76]{position:fixed;top:0;bottom:0;right:0;left:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom);left:34%}}.consultDetail .scrollHeight[data-v-fbd1fb76]{position:absolute;top:%?0?%;bottom:0;right:0;left:0}@media (min-width:500px) and (orientation:landscape){.consultDetail .scrollHeight[data-v-fbd1fb76]{top:14.08451rem!important}}.consultDetail .scrollHeight .orderStatus[data-v-fbd1fb76]{margin:4vw 4vw 2.66667vw 4vw;background:#fff;border-radius:2.66667vw}.consultDetail .scrollHeight .orderStatus-top[data-v-fbd1fb76]{border-radius:2.66667vw 2.66667vw %?0?% %?0?%}.consultDetail .scrollHeight .orderStatus-top-text[data-v-fbd1fb76]{max-width:70%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:3.06667vw 0 3.6vw 9.6vw}.consultDetail .scrollHeight .orderStatus-top-text-title[data-v-fbd1fb76]{margin-bottom:1.33333vw}.consultDetail .scrollHeight .orderStatus-top .iconL[data-v-fbd1fb76]{margin:2vw 14.66667vw 2vw 0}.consultDetail .scrollHeight .orderStatus-bottom[data-v-fbd1fb76]{padding:4vw}.consultDetail .scrollHeight .orderStatus-bottom .waitingInfo span[data-v-fbd1fb76]{margin-left:3.46667vw;padding:0 4.8vw;background-color:#f9f9f9;color:#222}.consultDetail .scrollHeight .orderStatus-bottom .waitingInfo uni-view[data-v-fbd1fb76]{margin-bottom:.8vw}.consultDetail .scroll-bottom[data-v-fbd1fb76]{bottom:18.66667vw!important}.consultDetail .scroll-bottom-h5[data-v-fbd1fb76]{bottom:13.33333vw!important}@media (min-width:500px) and (orientation:landscape){.consultDetail .scroll-bottom-h5.scroll-bottom-h5[data-v-fbd1fb76]{bottom:24.64789rem!important}}.consultDetail .contactItem[data-v-fbd1fb76]{margin:0 4vw 2.66667vw 4vw;background:#fff;border-radius:2.66667vw;padding:0 4vw}.consultDetail .contactItem-title[data-v-fbd1fb76]{padding:3.33333vw 0;font-size:4.8rem;color:#222;font-weight:500}.consultDetail .contactItem-content[data-v-fbd1fb76]{padding:3.33333vw 7.6vw 4.66667vw 7.6vw}.consultDetail .contactItem-content .numTips[data-v-fbd1fb76]{width:4.8vw;height:4.8vw;line-height:4.8vw;background:#f05656;color:#fff;font-size:3.2rem;text-align:center;border-radius:50%;margin-left:1.33333vw}.consultDetail .contactItem-content .borderTrips[data-v-fbd1fb76]{width:%?1?%;height:6.66667vw;background:#dfe3e7}.consultDetail .contactItem .iconfont1[data-v-fbd1fb76]{font-size:5.33333rem;margin-right:2.66667vw}.consultDetail .viewReport[data-v-fbd1fb76]{margin:%?0?% 4vw;margin-bottom:2.66667vw;background:#fff;border-radius:2.66667vw;padding:3.73333vw 4vw}.consultDetail .consultInfoBox[data-v-fbd1fb76]{margin:0 4vw;margin-bottom:2.66667vw;padding:0 4vw;background-color:#fff;border-radius:2.66667vw}.consultDetail .consultInfoBox .title[data-v-fbd1fb76]{padding:3.33333vw 0;font-size:4.8rem;font-weight:500}.consultDetail .consultInfoBox .icon_icon_jump_02[data-v-fbd1fb76]{margin-left:1.33333vw}.consultDetail .consultInfoBox .consultInfoBox-content uni-view[data-v-fbd1fb76]{padding:4vw 0;border-bottom:%?1?% solid #f5f5f5;font-size:3.73333rem;color:#222}.consultDetail .consultInfoBox .consultInfoBox-content uni-view.proofDiagnosis[data-v-fbd1fb76]{padding:2.66667vw 0}.consultDetail .consultInfoBox .imgBox[data-v-fbd1fb76]{padding-bottom:4vw}.consultDetail .consultInfoBox .imgBox .clearfix[data-v-fbd1fb76]{border-bottom:none!important;padding:0}.consultDetail .consultInfoBox .imgBox-title[data-v-fbd1fb76]{padding:4vw 0}.consultDetail .consultInfoBox .imgBox img[data-v-fbd1fb76]{width:24vw;height:24vw;margin-right:2.66667vw;margin-bottom:2.66667vw}.consultDetail .consultInfoBox .line-center[data-v-fbd1fb76]{margin:0 2.13333vw;width:%?1?%;height:2.66667vw;background-color:#999;display:block}.consultDetail .consultInfoBox .box-item[data-v-fbd1fb76]{padding:4vw 0;border-bottom:%?1?% solid #f5f5f5;font-size:3.73333rem;color:#222}.consultDetail .consultInfoBox .commentDetails[data-v-fbd1fb76]{text-align:center;padding:4vw 0;color:#846bff;font-size:4.26667rem}.consultDetail .consultInfoBox .commentDetails .icon_icon_jump_01[data-v-fbd1fb76]{font-size:3.73333rem;margin-left:1.33333vw}.consultDetail .consultInfoBox .prescription[data-v-fbd1fb76]{padding:4vw 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.consultDetail .consultInfoBox .prescription>uni-view[data-v-fbd1fb76]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.consultDetail .consultInfoBox .prescription>uni-view .icon[data-v-fbd1fb76]{margin-right:2.53333vw}.consultDetail .consultInfoBox .bottomLine[data-v-fbd1fb76]{border-bottom:%?1?% solid #f5f5f5}.consultDetail .assessInfoBox .icon_doubt[data-v-fbd1fb76],.consultDetail .assessInfoBox .icon_icon_jump_02[data-v-fbd1fb76]{margin-left:1.33333vw;margin-top:1.06667vw;padding:0!important}.bottom-buttonList[data-v-fbd1fb76]{height:17.33333vw;background-color:#fff;border-top:%?1?% solid #f5f5f5;padding:1.6vw 4vw;position:fixed;bottom:0;left:0;right:0}@media (min-width:500px) and (orientation:landscape){.bottom-buttonList[data-v-fbd1fb76]{position:absolute!important}}.bottom-buttonList .btn-cancel[data-v-fbd1fb76],.bottom-buttonList .btn-orange[data-v-fbd1fb76],.bottom-buttonList .btn-empty[data-v-fbd1fb76]{min-width:31%;height:12vw;line-height:12vw;border-radius:6.66667vw;text-align:center;font-size:4.53333rem;padding:0 4vw}.bottom-buttonList .btn-cancel[data-v-fbd1fb76]{border:%?1?% solid #afb2b9;background:#fff}.bottom-buttonList .btn-empty[data-v-fbd1fb76]{border:%?1?% solid #ff8315;color:#ff8315}.bg-gray[data-v-fbd1fb76]{background:-webkit-linear-gradient(left,#f2f5fa,#e9eefa);background:linear-gradient(90deg,#f2f5fa,#e9eefa)}.bg-orange[data-v-fbd1fb76]{background:-webkit-linear-gradient(right,#ffe5bb,#fff2dd);background:linear-gradient(270deg,#ffe5bb,#fff2dd)}.orange-text[data-v-fbd1fb76]{color:#f08800!important}.assessIntroPopup[data-v-fbd1fb76]{width:76.8vw;background-color:initial;padding-bottom:12.8vw}.assessIntroPopup .assessIntroPopup-main[data-v-fbd1fb76]{background:#fff;border-radius:1.6vw;padding:8vw 4vw;position:relative}.assessIntroPopup .assessIntroPopup-main .figureBox[data-v-fbd1fb76]{text-align:center}.assessIntroPopup .assessIntroPopup-main .figureBox uni-image[data-v-fbd1fb76]{width:13.33333vw;height:13.33333vw;border-radius:50%;margin:0 auto}.assessIntroPopup .assessIntroPopup-main .figureBox-item[data-v-fbd1fb76]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.assessIntroPopup .assessIntroPopup-main .figureBox .icon_load_6[data-v-fbd1fb76]{font-size:4rem;margin:0 2.66667vw;margin-top:4vw}.assessIntroPopup .assessIntroPopup-main .figureBox uni-text[data-v-fbd1fb76]{margin-top:1.33333vw}.assessIntroPopup .assessIntroPopup-main .introBox[data-v-fbd1fb76]{margin-top:4vw;border-radius:1.06667vw;padding:2.66667vw 3.2vw;background:#f5f5f5;line-height:6.4vw;color:#666}.assessIntroPopup .assessIntroPopup-main .icon_pop_up_cancel[data-v-fbd1fb76]{position:absolute;top:1.33333vw;right:1.33333vw}.mask[data-v-fbd1fb76]{background:rgba(0,0,0,.6)}@media (orientation:landscape){.uni-modal[data-v-fbd1fb76]{width:105.6338rem!important;border-radius:3.52113rem!important}.uni-modal__ft[data-v-fbd1fb76]{height:17.60563rem!important;line-height:17.60563rem!important}.uni-modal__bd[data-v-fbd1fb76]{font-size:5.28169rem!important;padding:0 0 5.28169rem!important}.uni-modal__btn[data-v-fbd1fb76]{font-size:6.33803rem!important}.uni-modal__title[data-v-fbd1fb76]{padding:8.80282rem 0 3.52113rem;font-size:6.33803rem!important}.commonTopTips[data-v-fbd1fb76]{padding:2.64085rem 5.28169rem;line-height:7.04225rem}.fixedPopup.tipsPopup .fixedPopup-content-main[data-v-fbd1fb76]{padding:0 10.56338rem 7.04225rem;line-height:7.04225rem}.fixedPopup.tipsPopup .fixedPopup-content-main>uni-view[data-v-fbd1fb76]{margin-top:3.52113rem;font-size:6.33803rem;line-height:8.80282rem}.fixedPopup.btnTipsPopup .fixedPopup-content .content[data-v-fbd1fb76]{font-size:6.33803rem;padding:1.76056rem 0 5.28169rem}.fixedPopup.btnTipsPopup .fixedPopup-content uni-button[data-v-fbd1fb76]{margin:5.28169rem auto 0;height:15.84507rem;line-height:15.84507rem;font-size:6.33803rem;border-radius:8.09859rem}.fixedPopup.btnTipsPopup .fixedPopup-content .tips[data-v-fbd1fb76]{margin-top:5.28169rem;font-size:5.28169rem}.fixedPopup .onlyOneButton .btn[data-v-fbd1fb76]{border-radius:3.52113rem!important}.fixedPopup-content[data-v-fbd1fb76]{width:105.6338rem;margin-left:-52.8169rem;border-radius:3.52113rem}.fixedPopup-content-title[data-v-fbd1fb76]{padding:8.80282rem 0 3.52113rem;font-size:6.33803rem!important}.fixedPopup-content-title.vCenter[data-v-fbd1fb76]{height:17.60563rem;line-height:17.60563rem}.fixedPopup-content .icon_pop_up_cancel[data-v-fbd1fb76]{top:5.28169rem;right:5.28169rem}.fixedPopup-content-main[data-v-fbd1fb76]{padding:10.56338rem 10.56338rem 7.04225rem}.fixedPopup-content-btn[data-v-fbd1fb76]{border-top:%?1?% solid #f5f5f5;border-radius:0 0 3.52113rem 3.52113rem}.fixedPopup-content-btn .btn[data-v-fbd1fb76]{height:17.60563rem;line-height:17.60563rem;font-size:6.33803rem;border-radius:0 0 3.52113rem 0}.fixedPopup-content-btn .btn[data-v-fbd1fb76]:first-child{border-right:%?1?% solid #f5f5f5;border-radius:0 0 0 3.52113rem}.fixedPopup.bottom .fixedPopup-content[data-v-fbd1fb76]{border-radius:5.28169rem 5.28169rem 0 0}.fixedBtm[data-v-fbd1fb76]{padding:0 5.28169rem}.fixedBtm .btn[data-v-fbd1fb76]{margin:3.52113rem 0;width:47.53521rem;height:15.84507rem;line-height:15.49296rem;font-size:6.33803rem;border-radius:8.80282rem}.fixedBtm.onlyButton[data-v-fbd1fb76]{height:26.40845rem;padding:5.28169rem}.fixedBtm.onlyButton uni-button[data-v-fbd1fb76]{width:70.42254rem;border-radius:8.09859rem}.commonFormBox .title[data-v-fbd1fb76]{font-size:8.09859rem;margin-bottom:15.84507rem}.commonFormBox uni-label.flex-father uni-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address[data-v-fbd1fb76] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-fbd1fb76],.commonFormBox uni-label.flex-father uni-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address.picker.flex-child .custom-picker uni-view[data-v-fbd1fb76],.commonFormBox uni-label.flex-father .address[data-v-fbd1fb76] .picker .custom-picker uni-view,.commonFormBox uni-label.flex-father .input-placeholder[data-v-fbd1fb76]{font-size:5.6338rem!important}.commonFormBox uni-label .labelName[data-v-fbd1fb76],.commonFormBox uni-label .labelName[data-v-fbd1fb76]{font-size:5.6338rem!important}.commonFormBox uni-label uni-input[data-v-fbd1fb76],.commonFormBox uni-label uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label .address.picker.flex-child[data-v-fbd1fb76],.commonFormBox uni-label .address[data-v-fbd1fb76] .picker,.commonFormBox uni-label uni-input[data-v-fbd1fb76],.commonFormBox uni-label uni-textarea.address[data-v-fbd1fb76],.commonFormBox uni-label .uni-input-input[data-v-fbd1fb76],.commonFormBox uni-label .address.uni-textarea[data-v-fbd1fb76],.commonFormBox uni-label .address.picker.flex-child[data-v-fbd1fb76],.commonFormBox uni-label .address[data-v-fbd1fb76] .picker{font-size:6.33803rem;height:8.80282rem;padding:6.16197rem 0;line-height:8.80282rem}.commonFormBox uni-label .input-placeholder[data-v-fbd1fb76],.commonFormBox uni-label .input-placeholder[data-v-fbd1fb76]{font-size:5.6338rem}.commonFormBox uni-label.verifyLabel .verify[data-v-fbd1fb76],.commonFormBox uni-label.verifyLabel .verify[data-v-fbd1fb76]{width:38.73239rem;height:14.08451rem;top:3.52113rem;border-radius:7.04225rem;line-height:14.08451rem;font-size:5.6338rem}.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-fbd1fb76],.commonFormBox uni-label.verifyLabel .verify.countDown[data-v-fbd1fb76]{border:%?1?% solid #f5f4ff}.commonFormBox uni-label .icon_icon_jump_02[data-v-fbd1fb76],.commonFormBox uni-label .icon_icon_jump_02[data-v-fbd1fb76]{font-size:4.22535rem!important;margin-left:1.76056rem!important;top:-.35211rem!important}.commonFormBox .tips[data-v-fbd1fb76]{margin-top:5.28169rem;font-size:4.22535rem;line-height:6.16197rem}.commonFormBox uni-button[data-v-fbd1fb76]{margin:15.84507rem auto 0;height:17.60563rem;font-size:6.33803rem;line-height:17.60563rem;border-radius:8.80282rem}.commonFormBox .form-top[data-v-fbd1fb76]{height:45.77465rem;padding:7.04225rem 10.56338rem}.commonFormBox .form-top-title[data-v-fbd1fb76]{font-size:8.09859rem}.commonFormBox .form-top-subTitle[data-v-fbd1fb76]{margin-top:3.52113rem;font-size:5.28169rem}.commonFormBox .form-top[data-v-fbd1fb76]::after{right:10.56338rem}.commonFormBox .form-content[data-v-fbd1fb76]{top:-7.04225rem;padding:8.80282rem 10.56338rem;border-radius:7.04225rem 7.04225rem 0 0}.commonFormBox .form-content-title[data-v-fbd1fb76]{font-size:7.04225rem;margin-bottom:7.04225rem}.commonFormBox .form-content[data-v-fbd1fb76] .custom-picker{font-size:6.33803rem}.commonFormBox .form-content uni-label[data-v-fbd1fb76]{margin-bottom:7.04225rem;padding-bottom:5.28169rem}.commonFormBox .form-content uni-label uni-view[data-v-fbd1fb76]{font-size:6.33803rem}.commonFormBox .form-content .btnBox uni-button[data-v-fbd1fb76]{margin:0 10.56338rem 5.28169rem;height:17.60563rem;font-size:6.33803rem;line-height:17.60563rem;border-radius:8.80282rem}.commonFormBox .commonPlainFill[data-v-fbd1fb76]{margin:21.12676rem 0}.commonFormBox .commonPlainFill uni-text[data-v-fbd1fb76]{font-size:8.4507rem;line-height:17.60563rem}.commonFormBox .commonPlainFill .input[data-v-fbd1fb76]{width:17.60563rem;height:17.60563rem;line-height:16.90141rem;border-radius:5.28169rem;margin-left:2.11268rem;font-size:8.4507rem;border:.35211rem solid #464650}.commonFormBox .commonPlainFill .hidden_input[data-v-fbd1fb76]{height:17.60563rem}.commonFormBox .commonPlainFill .hidden_input[data-v-fbd1fb76] .uni-input-input{height:17.60563rem}.commonFormBox .commonPlainFill .textInput.active[data-v-fbd1fb76]::after{width:%?1?%}.commonRadioItem[data-v-fbd1fb76]{min-width:24.64789rem;padding:0 5.28169rem;min-height:14.08451rem;line-height:14.08451rem;border-radius:7.04225rem;font-size:5.6338rem;margin:0 5.28169rem 5.28169rem 0}.commonItemBox[data-v-fbd1fb76]{font-size:5.6338rem;margin:0 5.28169rem}.commonItemBox .commonTitle[data-v-fbd1fb76]{font-size:5.6338rem}.commonItemBox .itemBox-content[data-v-fbd1fb76]{border-radius:5.28169rem;padding:0 5.28169rem 5.28169rem;margin-bottom:3.52113rem}.commonItemBox .itemBox-content>uni-view[data-v-fbd1fb76]{margin-bottom:3.52113rem}.commonItemBox .itemBox-content>uni-view.userInfo[data-v-fbd1fb76]{margin:0 5.28169rem 3.52113rem}.commonItemBox .itemBox-content>uni-view.userInfo uni-view[data-v-fbd1fb76]{margin-top:3.52113rem}.consultDetail .scrollHeight[data-v-fbd1fb76]{top:%?0?%}.consultDetail .scrollHeight .orderStatus[data-v-fbd1fb76]{margin:5.28169rem 5.28169rem 3.52113rem 5.28169rem;border-radius:3.52113rem}.consultDetail .scrollHeight .orderStatus-top[data-v-fbd1fb76]{border-radius:3.52113rem 3.52113rem %?0?% %?0?%}.consultDetail .scrollHeight .orderStatus-top-text[data-v-fbd1fb76]{padding:4.0493rem 0 4.75352rem 12.67606rem}.consultDetail .scrollHeight .orderStatus-top-text-title[data-v-fbd1fb76]{margin-bottom:1.76056rem}.consultDetail .scrollHeight .orderStatus-top .iconL[data-v-fbd1fb76]{margin:2.64085rem 19.3662rem 2.64085rem 0}.consultDetail .scrollHeight .orderStatus-bottom[data-v-fbd1fb76]{padding:5.28169rem}.consultDetail .scrollHeight .orderStatus-bottom .waitingInfo span[data-v-fbd1fb76]{margin-left:4.57746rem;padding:0 6.33803rem}.consultDetail .scrollHeight .orderStatus-bottom .waitingInfo uni-view[data-v-fbd1fb76]{margin-bottom:1.05634rem}.consultDetail .scroll-bottom[data-v-fbd1fb76]{bottom:24.64789rem!important}.consultDetail .scroll-bottom-h5[data-v-fbd1fb76]{bottom:17.60563rem!important}.consultDetail .contactItem[data-v-fbd1fb76]{margin:0 5.28169rem 3.52113rem 5.28169rem;border-radius:3.52113rem;padding:0 5.28169rem}.consultDetail .contactItem-title[data-v-fbd1fb76]{padding:4.40141rem 0;font-size:6.33803rem}.consultDetail .contactItem-content[data-v-fbd1fb76]{padding:4.40141rem 10.03521rem 6.16197rem 10.03521rem}.consultDetail .contactItem-content .numTips[data-v-fbd1fb76]{width:6.33803rem;height:6.33803rem;line-height:6.33803rem;font-size:4.22535rem;margin-left:1.76056rem}.consultDetail .contactItem-content .borderTrips[data-v-fbd1fb76]{width:%?1?%;height:8.80282rem}.consultDetail .contactItem .iconfont1[data-v-fbd1fb76]{font-size:7.04225rem;margin-right:3.52113rem}.consultDetail .viewReport[data-v-fbd1fb76]{margin:%?0?% 5.28169rem;margin-bottom:3.52113rem;border-radius:3.52113rem;padding:4.92958rem 5.28169rem}.consultDetail .consultInfoBox[data-v-fbd1fb76]{margin:0 5.28169rem;margin-bottom:3.52113rem;padding:0 5.28169rem;border-radius:3.52113rem}.consultDetail .consultInfoBox .title[data-v-fbd1fb76]{padding:4.40141rem 0;font-size:6.33803rem}.consultDetail .consultInfoBox .icon_icon_jump_02[data-v-fbd1fb76]{margin-left:1.76056rem}.consultDetail .consultInfoBox .consultInfoBox-content uni-view[data-v-fbd1fb76]{padding:5.28169rem 0;border-bottom:%?1?% solid #f5f5f5;font-size:4.92958rem}.consultDetail .consultInfoBox .consultInfoBox-content uni-view.proofDiagnosis[data-v-fbd1fb76]{padding:3.52113rem 0}.consultDetail .consultInfoBox .imgBox[data-v-fbd1fb76]{padding-bottom:5.28169rem}.consultDetail .consultInfoBox .imgBox-title[data-v-fbd1fb76]{padding:5.28169rem 0}.consultDetail .consultInfoBox .imgBox img[data-v-fbd1fb76]{width:31.69014rem;height:31.69014rem;margin-right:3.52113rem;margin-bottom:3.52113rem}.consultDetail .consultInfoBox .line-center[data-v-fbd1fb76]{margin:0 2.8169rem;width:%?1?%;height:3.52113rem}.consultDetail .consultInfoBox .box-item[data-v-fbd1fb76]{padding:5.28169rem 0;border-bottom:%?1?% solid #f5f5f5;font-size:4.92958rem}.consultDetail .consultInfoBox .commentDetails[data-v-fbd1fb76]{padding:5.28169rem 0;font-size:5.6338rem}.consultDetail .consultInfoBox .commentDetails .icon_icon_jump_01[data-v-fbd1fb76]{font-size:4.92958rem;margin-left:1.76056rem}.consultDetail .consultInfoBox .prescription[data-v-fbd1fb76]{padding:5.28169rem 0}.consultDetail .consultInfoBox .prescription>uni-view .icon[data-v-fbd1fb76]{margin-right:3.34507rem}.consultDetail .consultInfoBox .bottomLine[data-v-fbd1fb76]{border-bottom:%?1?% solid #f5f5f5}.consultDetail .assessInfoBox .icon_doubt[data-v-fbd1fb76],.consultDetail .assessInfoBox .icon_icon_jump_02[data-v-fbd1fb76]{margin-left:1.76056rem;margin-top:1.40845rem}.bottom-buttonList[data-v-fbd1fb76]{height:22.88732rem;border-top:%?1?% solid #f5f5f5;padding:2.11268rem 5.28169rem}.bottom-buttonList .btn-cancel[data-v-fbd1fb76],.bottom-buttonList .btn-orange[data-v-fbd1fb76],.bottom-buttonList .btn-empty[data-v-fbd1fb76]{height:15.84507rem;line-height:15.84507rem;border-radius:8.80282rem;font-size:5.98592rem;padding:0 5.28169rem}.bottom-buttonList .btn-cancel[data-v-fbd1fb76]{border:%?1?% solid #afb2b9}.bottom-buttonList .btn-empty[data-v-fbd1fb76]{border:%?1?% solid #ff8315}.assessIntroPopup[data-v-fbd1fb76]{width:101.40845rem;padding-bottom:16.90141rem}.assessIntroPopup .assessIntroPopup-main[data-v-fbd1fb76]{border-radius:2.11268rem;padding:10.56338rem 5.28169rem}.assessIntroPopup .assessIntroPopup-main .figureBox uni-image[data-v-fbd1fb76]{width:17.60563rem;height:17.60563rem}.assessIntroPopup .assessIntroPopup-main .figureBox .icon_load_6[data-v-fbd1fb76]{font-size:5.28169rem;margin:0 3.52113rem;margin-top:5.28169rem}.assessIntroPopup .assessIntroPopup-main .figureBox uni-text[data-v-fbd1fb76]{margin-top:1.76056rem}.assessIntroPopup .assessIntroPopup-main .introBox[data-v-fbd1fb76]{margin-top:5.28169rem;border-radius:1.40845rem;padding:3.52113rem 4.22535rem;line-height:8.4507rem}.assessIntroPopup .assessIntroPopup-main .icon_pop_up_cancel[data-v-fbd1fb76]{top:1.76056rem;right:1.76056rem}}',""])},4531:function(t,e,a){"use strict";var i=a("5f8c"),n=a.n(i);n.a},"4b2e":function(t,e,a){"use strict";var i=a("2564"),n=a.n(i);n.a},5070:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("v-uni-view",{staticClass:"consultDetail",class:t.isCognitive?"fullWidth":""},[t.pad?a("nav-bar",{staticClass:"navBar",attrs:{showBack:!t.pad||t.showBack,navTitle:t.titleName,isDetailBack:t.showBack},on:{goBack:function(e){arguments[0]=e=t.$handleEvent(e),t.goChatDetail.apply(void 0,arguments)}}}):t._e(),a("v-uni-scroll-view",{staticClass:"scrollHeight",style:"1"==t.orderDetail.intellectDiag&&("2"==t.getChargeStatus(t.orderDetail.status)&&(0==t.orderDetail.swapping&&4==t.status||5==t.status||2==t.status)&&"3"!=t.getChargeStatus(t.orderDetail.status)||"7"==t.getChargeStatus(t.orderDetail.status))||"0"==t.orderDetail.intellectDiag&&("3"!=t.getChargeStatus(t.orderDetail.status)||"3"==t.getChargeStatus(t.orderDetail.status)&&!t.isPortalApp)?"height:"+t.scrollHeight:"height:"+t.noDataHeight,attrs:{"scroll-y":!0,"refresher-triggered":t.loading,"scroll-top":t.scrollTop,"refresher-enabled":!0},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)},refresherrefresh:function(e){arguments[0]=e=t.$handleEvent(e),t.refresh.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"orderStatus"},[a("v-uni-view",{staticClass:"orderStatus-top flex-between flex-center-v",class:"3"==t.getChargeStatus(t.orderDetail.status)?"bg-gray":"bg-orange"},[a("v-uni-view",{staticClass:"orderStatus-top-text"},[a("v-uni-view",{staticClass:"fz-44 fw-500 orderStatus-top-text-title",class:"3"==t.getChargeStatus(t.orderDetail.status)?"c-222":"c-brown"},[t._v(t._s(t.orderDetail?t.showPackOrderStatus(t.orderDetail):"")),0==t.orderDetail.assessMode&&4==t.status&&0==t.orderDetail.swapping?a("v-uni-text",{staticClass:"fz-32"},[t._v("已到评估时间")]):t._e(),0==t.orderDetail.assessMode&&7==t.status&&0==t.orderDetail.swapping?a("v-uni-text",{staticClass:"fz-32"},[t._v("已到候诊时间")]):t._e()],1),2==t.status&&0==t.orderDetail.swapping&&1==t.orderDetail.assessMode&&"0"==t.orderDetail.intellectDiag?a("v-uni-view",{staticClass:"fz-28 c-brown"},[t._v("预约成功，本次咨询需由线下评估师协助评估")]):t._e(),t.orderDetail.cogrecCoopmode||1!=t.orderDetail.assessMode||5!=t.status?t._e():a("v-uni-view",{staticClass:"fz-28 c-brown"},[t._v("评估师于"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.orderDetail.cogFirstApprTime?t.formatDateChinese(t.orderDetail.cogFirstApprTime.substring(0,10))+" "+t.orderDetail.cogFirstApprTime.substring(11,16):""))]),t._v("开始评估")],1),2==t.status&&0==t.orderDetail.assessMode&&"0"==t.orderDetail.intellectDiag?a("v-uni-view",{staticClass:"fz-28 c-brown"},[t._v("预约成功,医生已邀请评估师协助评估,等待指派评估师")]):t._e(),0==t.orderDetail.assessMode&&1==t.orderDetail.swapping&&1==t.isOverTime()?a("v-uni-view",{staticClass:"fz-28 c-brown"},[t._v("当前评估师繁忙，正在为您指派其他评估师，请耐心等待")]):t._e()],1),a("i",{staticClass:"iconL",class:"3"==t.getChargeStatus(t.orderDetail.status)?"icon-orderDetail-cancel":"icon-orderDetail"})],1),a("v-uni-view",{staticClass:"orderStatus-bottom c-666 fz-28"},[1==t.status?a("v-uni-view",[t._v("剩下"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.payResidueTime))]),t._v("关闭支付")],1):t._e(),2==t.status&&0==t.orderDetail.assessMode&&"1"==t.orderDetail.intellectDiag&&"1"==t.orderDetail.visitCharge.videoType?a("v-uni-view",[t._v("请保持在线状态，系统将根据您上线时间指派评估师")]):t._e(),2==t.status&&0==t.orderDetail.assessMode&&"0"==t.orderDetail.intellectDiag&&t.leftMinu>1800?a("v-uni-view",[t._v("请在预约时间"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.getDateFormat2(t.orderDetail.visitOrder.scheduleDate))+" "+t._s(t.orderDetail.visitOrder.point))]),t._v("前上线，系统将根据您上线时间指派评估师")],1):t._e(),2!=t.status&&3!=t.status||0!=t.orderDetail.swapping||1!=t.orderDetail.assessMode||"0"!=t.orderDetail.intellectDiag?t._e():a("v-uni-view",[t._v("请在"),a("v-uni-text",[t._v(t._s(t.orderDetail.visitOrder.point))]),t._v("到您附近的认知筛查网点进行评估。")],1),4==t.status&&0==t.orderDetail.swapping&&1==t.orderDetail.assessMode&&"0"==t.orderDetail.intellectDiag?a("v-uni-view",[t._v("请前往附近认知筛查网点，由评估师进行评估。")]):t._e(),2!=t.status&&3!=t.status&&4!=t.status||0!=t.orderDetail.swapping||1!=t.orderDetail.assessMode||"1"!=t.orderDetail.intellectDiag?t._e():a("v-uni-view",[t._v("请到您附近的认知筛查网点进行评估")]),3==t.status&&0==t.orderDetail.swapping&&0==t.orderDetail.assessMode?a("v-uni-view",[t._v("预计"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.formatDateChinese(t.orderDetail.assessDate))+" "+t._s(t.orderDetail.assessBeginTime)+"~"+t._s(t.orderDetail.assessEndTime))]),t._v("评估师进行评估")],1):t._e(),0==t.orderDetail.assessMode&&0==t.orderDetail.swapping&&1==t.isOverTime()?a("v-uni-view",[t._v("当前评估师繁忙，正在为您指派其他评估师，请耐心等待")]):t._e(),0==t.orderDetail.assessMode&&1==t.orderDetail.swapping&&1==t.isOverTime()?a("v-uni-view",{staticClass:"orange-text"},[t._v("若当前评估师空闲，将优先为您评估")]):t._e(),0==t.orderDetail.assessMode&&4==t.status&&0==t.orderDetail.swapping?a("v-uni-view",[t._v("您可主动发起评估或等待评估师呼叫")]):t._e(),0==t.orderDetail.assessMode&&2==t.isOverTime()?a("v-uni-view",[t._v("评估时间："),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.getDateFormat2(t.orderDetail.assessDate))+" "+t._s(t.orderDetail.assessBeginTime)+"~"+t._s(t.orderDetail.assessEndTime))]),t._v("（您已过号）")],1):t._e(),t.orderDetail.cogrecCoopmode||1!=t.orderDetail.assessMode||5!=t.status?t._e():a("v-uni-view",[t._v("前往认知筛查网点继续评估")]),0==t.orderDetail.assessMode&&5==t.status?a("v-uni-view",[t._v("评估师于"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.orderDetail.cogFirstApprTime?t.formatDateChinese(t.orderDetail.cogFirstApprTime.substring(0,10))+" "+t.orderDetail.cogFirstApprTime.substring(11,16):""))]),t._v("开始评估")],1):t._e(),6!=t.status&&12!=t.status||t.orderDetail.visitCharge.businessType==t.SERVICECODE.IMGTXTCONSULT?t._e():a("v-uni-view",[t._v("预计"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.formatDateChinese(t.orderDetail.doctorDiagnoseDate))+" "+t._s(t.orderDetail.diagnoseBeginTime))]),t._v("医生接诊，请提前30分钟候诊")],1),6!=t.status&&12!=t.status||t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?t._e():a("v-uni-view",[t._v("剩余接诊时间"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.txtSubstring(t.setFormatTimeStr(t.imgTxtCountDownTime),0,5)))]),t._v("，超时未接诊将自动取消")],1),7==t.status||13==t.status?a("v-uni-view",[t._v("医生将按候诊顺序依次接诊，请以医生实际接诊时间为准")]):t._e(),8!=t.status&&14!=t.status||t.orderDetail.visitCharge.businessType==t.SERVICECODE.IMGTXTCONSULT?t._e():a("v-uni-view",[t._v("您还有"+t._s(t.orderDetail.visitInfo?t.orderDetail.visitInfo.countLimit:"")+"次机会主动发起咨询")]),8!=t.status&&14!=t.status||t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?t._e():a("v-uni-view",[t._v("剩余咨询时间"),a("v-uni-text",{staticClass:"orange-text"},[t._v(t._s(t.txtSubstring(t.setFormatTimeStr(t.imgTxtCountDownTime1),0,5)))]),t._v("，到期自动结束")],1),9==t.status||15==t.status?a("v-uni-view",[t._v("您主动发起咨询次数已用完")]):t._e(),11==t.status||17==t.status?a("v-uni-view",[t._v("本次订单已取消，若有问题请联系客服处理")]):t._e(),10==t.status||16==t.status?a("v-uni-view",[t._v("本次订单已完成，若有问题请联系客服处理")]):t._e(),!t.orderDetail.cogrecCoopmode&&0==t.orderDetail.assessMode&&2==t.status&&t.leftMinu<=1800&&t.onlineMess.therapistOnline>0?a("v-uni-view",{staticClass:"waitingInfo"},[a("v-uni-view",{staticClass:"fz-32 c-666"},[t._v("可指派评估师人数"),a("span",{staticClass:"fz-36"},[t._v(t._s(t.onlineMess.therapistRcvable))])]),a("v-uni-view",{staticClass:"fz-32 c-666"},[t._v("当前排队等待人数"),a("span",{staticClass:"fz-36"},[t._v(t._s(t.onlineMess.waitingLength))])])],1):t._e(),!t.orderDetail.cogrecCoopmode&&0==t.orderDetail.assessMode&&2==t.status&&t.leftMinu<=1800&&t.onlineMess.therapistOnline>0?a("v-uni-view",{staticStyle:{"margin-top":"36rpx"}},[t.onlineMess.therapistRcvable>t.onlineMess.waitingLength?a("v-uni-view",[t._v("预计"),a("v-uni-text",{staticClass:"orange-text"},[t._v("1分钟内")]),t._v("为您派单，请留意短信提醒"),a("v-uni-text",{staticClass:"orange-text"},[t._v("(请勿退出程序，否则将重新排队)。")])],1):t._e(),t.onlineMess.therapistRcvable<t.onlineMess.waitingLength?a("v-uni-view",[t._v("正在调度更多评估师，加快指派中，请留意短信提醒"),a("v-uni-text",{staticClass:"orange-text"},[t._v("(请勿退出程序，否则将重新排队)")])],1):t._e()],1):t._e(),!t.orderDetail.cogrecCoopmode&&0==t.orderDetail.assessMode&&2==t.status&&t.leftMinu>1800&&0==t.onlineMess.therapistOnline?a("v-uni-view",{staticClass:"orange-text"},[t._v("当前暂无值班评估师，预计"+t._s(t.orderDetail.visitOrder.point)+"指派评估师。")]):t._e()],1)],1),a("v-uni-view",{staticClass:"contactItem"},[a("v-uni-view",{staticClass:"contactItem-title"},[t._v("联系Ta")]),a("v-uni-view",{staticClass:"contactItem-content flex-around"},[t.orderDetail.imDialogDto&&1!=t.status?a("v-uni-view",{staticClass:"flex-center-v fz-32 c-222",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goChatDetail.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont1 icon_icon_customer_service_little"}),t._v(t._s("0"==t.orderDetail.intellectDiag?"医生":"评估师")),t.orderDetail.imDialogDto&&t.orderDetail.imDialogDto.unReadNum>0?a("v-uni-view",{staticClass:"numTips"},[t._v(t._s(t.orderDetail.imDialogDto.unReadNum>99?"99+":t.orderDetail.imDialogDto.unReadNum))]):t._e()],1):t._e(),t.orderDetail.imDialogDto&&1!=t.status?a("v-uni-view",{staticClass:"borderTrips"}):t._e(),a("v-uni-view",{staticClass:"flex-center-v fz-32 c-222",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getServiceInfo.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont1 icon_icon_customer_service_little1"}),t._v("客服")])],1)],1),t.prescriptionList.length?a("v-uni-view",{staticClass:"consultInfoBox"},t._l(t.prescriptionList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"prescription",class:t.prescriptionList.length>1&&0==i?"bottomLine":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.getPrescriptionPopup(e)}}},[a("v-uni-view",{staticClass:"c-222 fz-32"},[a("i",{staticClass:"icon",class:"1"==e.prescriptionType?"icon-westernMedicine":"icon-chineseMedicine"}),t._v(t._s("1"==e.prescriptionType?"西":"中")+"药处方")]),a("v-uni-view",{staticClass:"c-666 fz-28"},[t._v(t._s(4==e.medPrescriptionStatus?"已审核":"审核中")),a("i",{staticClass:"iconfont1 icon_icon_jump_02"})])],1)})),1):t._e(),""!=t.orderDetail&&t.orderDetail.visitCharge.businessType==t.SERVICECODE.READ?a("v-uni-view",{staticClass:"viewReport flex-center-v flex-between fz-32 c-purple",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getReportPage(t.orderDetail.id)}}},[t._v("查看评估报告"),a("i",{staticClass:"iconfont1 icon_icon_jump_02"})]):t._e(),t.orderDetail.visitCharge.businessType==t.SERVICECODE.CONSULT?a("v-uni-view",{staticClass:"consultInfoBox assessInfoBox"},[a("v-uni-view",{staticClass:"title"},[t._v("评估信息")]),a("v-uni-view",{staticClass:"consultInfoBox-content"},[a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("评估方式")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.cogrecCoopmode?"医生自评":"评估师协助评估"))]),"0"==t.orderDetail.intellectDiag?a("i",{staticClass:"iconfont1 icon_doubt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showAssessIntro=!0}}}):t._e()],1),a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("评估模式")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s("1"==t.orderDetail.assessMode?"线下评估":"线上评估"))])],1),a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("评估状态")]),a("v-uni-text",{staticClass:"c-orange fz-30"},[t._v(t._s(t.assessStatusTxt(t.orderDetail.cogApprStatus)))])],1),!t.orderDetail.cogrecCoopmode&&t.orderDetail.therapistId&&1!=t.status?a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("评估时间")]),"00"==t.orderDetail.cogApprStatus?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.getDateFormat2(t.orderDetail.assessDate))+" "+t._s(t.orderDetail.assessBeginTime)+"~"+t._s(t.orderDetail.assessEndTime))]):t.orderDetail.cogFirstApprTime?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.cogFirstApprTime.substring(0,16)))]):t._e()],1):t._e(),0==t.orderDetail.cogrecCoopmode&&"01"==t.orderDetail.cogApprStatus||1==t.orderDetail.cogrecCoopmode&&"00"!=t.orderDetail.cogApprStatus&&3!=t.status?a("v-uni-view",{staticClass:"flex-father",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.getReportPage(t.orderDetail.id)}}},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("评估报告单")]),"0"==t.orderDetail.intellectDiag?a("v-uni-text",{staticClass:"c-666 fz-30",class:t.orderDetail.cogDiagnosis||t.orderDetail.cogAdvice?"c-shallow-orange":""},[t._v(t._s(t.orderDetail.cogDiagnosis||t.orderDetail.cogAdvice?"已出具初诊结论":"未下结论"))]):t._e(),a("i",{staticClass:"iconfont1 icon_icon_jump_02"})],1):t._e()],1)],1):t._e(),t.orderDetail.visitCharge.businessType==t.SERVICECODE.CONSULT&&"0"==t.orderDetail.intellectDiag&&t.orderDetail.cognitionAssessScale&&"1"==t.orderDetail.cognitionAssessScale.state?a("v-uni-view",{staticClass:"consultInfoBox"},[a("v-uni-view",{staticClass:"title"},[t._v("诊疗信息")]),a("v-uni-view",{staticClass:"consultInfoBox-content"},[a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("初步结论")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.cognitionAssessScale.diagnosis))])],1),a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("医生建议")]),a("v-uni-text",{staticClass:"c-666 tr fz-30",staticStyle:{width:"70%"}},[t._v(t._s(t.orderDetail.cognitionAssessScale.advice||"暂无"))])],1),a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("出具时间")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.cognitionAssessScale.diagnosedTime.substring(0,16)))])],1)],1)],1):t._e(),t.orderDetail.visitCharge.businessType!=t.SERVICECODE.VIDEOCONSULT&&t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT||14!=t.status&&15!=t.status&&16!=t.status||!t.orderDetail.visitInfo.diagnosis&&!t.orderDetail.visitInfo.advice?t._e():a("v-uni-view",{staticClass:"consultInfoBox"},[a("v-uni-view",{staticClass:"title"},[t._v("诊疗意见")]),a("v-uni-view",{staticClass:"consultInfoBox-content"},[a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("初步诊断")]),a("v-uni-text",{staticClass:"c-666 tr fz-30",staticStyle:{width:"70%"}},[t._v(t._s(t.orderDetail.visitInfo.diagnosis||"暂未确诊"))])],1),a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("医生建议")]),a("v-uni-text",{staticClass:"c-666 tr fz-30",staticStyle:{width:"70%"}},[t._v(t._s(t.orderDetail.visitInfo.advice||"暂无"))])],1),t.orderDetail.visitInfo.diagnosis?a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("诊断时间")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.visitInfo.diagnosedTime?t.orderDetail.visitInfo.diagnosedTime.substring(0,16):""))])],1):t._e()],1),a("v-uni-view",{staticClass:"commentDetails flex-center-vh",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goAdvicePage(t.orderDetail.visitCharge.businessId)}}},[t._v("查看诊疗意见详情"),a("i",{staticClass:"iconfont1 icon_icon_jump_01"})])],1),"1"!=t.orderDetail.intellectDiag?a("v-uni-view",{staticClass:"consultInfoBox"},[a("v-uni-view",{staticClass:"title c-222"},[t._v("咨询信息")]),a("v-uni-view",{staticClass:"consultInfoBox-content"},[t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("预约号源")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.orderPoint)+" "+t._s(t.orderDetail.visitOrder?t.orderDetail.visitOrder.sourceNo:""))])],1):t._e(),t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT||t.orderDetail.visitCharge.businessType==t.SERVICECODE.IMGTXTCONSULT&&(14==t.status||16==t.status)?a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("咨询时间")]),t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.getDateFormat2(t.orderDetail.orderDate))+" "+t._s(t.orderDetail.orderPoint))]):a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.visitCharge.beginTime.substring(0,16)))])],1):t._e(),t.orderDetail.visitCharge.businessType!=t.SERVICECODE.VIDEOCONSULT&&t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("咨询描述")]),a("v-uni-text",{staticClass:"c-666 tr fz-30",staticStyle:{width:"70%","word-break":"break-all"}},[t._v(t._s(t.orderDetail.visitSignInfo&&t.orderDetail.visitSignInfo.remark?t.orderDetail.visitSignInfo.remark:"暂无"))])],1):t._e(),a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("就诊医生")]),t.orderDetail.visitOrder?a("v-uni-text",{staticClass:"c-666 tr fz-30",staticStyle:{width:"70%"}},[t._v(t._s(t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?t.orderDetail.visitOrder.hospName:t.orderDetail.doctorHosName)+" "+t._s(t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?t.orderDetail.visitOrder.doctorName:t.orderDetail.orgDoctorName)+" "+t._s(t.orderDetail.doctorLevelName))]):t._e()],1),t.orderDetail.visitCharge.businessType==t.SERVICECODE.VIDEOCONSULT||t.orderDetail.visitCharge.businessType==t.SERVICECODE.IMGTXTCONSULT?[a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("是否开药")]),t.orderDetail.visitOrder?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.extension&&t.orderDetail.extension.prescribes?"是":"否"))]):t._e()],1),t.orderDetail.subsequent?[t.orderDetail.subsequent.patientCardNumber?a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("就诊卡")]),t.orderDetail.visitOrder?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.subsequent.patientCardNumber))]):t._e()],1):t._e(),t.orderDetail.visitOrder?a("v-uni-view",{staticClass:"flex-father flex-center proofDiagnosis"},[a("v-uni-text",{staticClass:"fz-32"},[t._v("续方凭证")]),a("v-uni-text",{staticClass:"flex-child tr fz-30",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goSubsequentCertificatePage.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"c-666"},[t._v(t._s(t.orderDetail.subsequent.proofDiagnosisName))]),a("v-uni-text",{staticClass:"c-666",staticStyle:{display:"block"}},[t._v(t._s(t.orderDetail.subsequent.proofBusinessTime))])],1),a("i",{staticClass:"iconfont1 icon_icon_jump_02"})],1):t._e()]:t._e(),t.orderDetail.extension?a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"fz-32"},[t._v("问诊类型")]),a("v-uni-text",{staticClass:"flex-child c-666 tr fz-30"},[t._v(t._s(t.orderDetail.extension.labelNames.replace(/,/g,"、")))])],1):t._e(),a("v-uni-view",{staticClass:"flex-father flex-between"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("问诊描述")]),a("v-uni-text",{staticClass:"c-666 tr fz-30",staticStyle:{width:"70%","word-break":"break-all"}},[t._v(t._s(t.orderDetail.visitSignInfo&&t.orderDetail.visitSignInfo.remark?t.orderDetail.visitSignInfo.remark:"暂无"))])],1)]:t._e(),t.inquiryFileList.length?t._e():a("v-uni-view",{staticClass:"flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("图片附件")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v("暂无")])],1)],2),t.inquiryFileList.length?a("v-uni-view",{staticClass:"imgBox"},[a("v-uni-view",{staticClass:"c-666 fz-32 imgBox-title"},[t._v("图片附件")]),a("v-uni-view",{staticClass:"clearfix"},t._l(t.inquiryFileList,(function(t,e){return a("img",{attrs:{src:t.fileContent,mode:"widthFix",preview:"chatImg"}})})),0)],1):t._e()],1):t._e(),a("v-uni-view",{staticClass:"consultInfoBox"},[a("v-uni-view",{staticClass:"title"},[t._v("订单信息")]),a("v-uni-view",[a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("创建时间")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.visitCharge.createTime?t.orderDetail.visitCharge.createTime.substring(0,16):""))]):t._e()],1),a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("咨询费用")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.unitChangeMoney(t.orderDetail.visitCharge.originalPrice))+"元")]):t._e()],1),t.orderDetail.visitCharge.originalPrice>0?a("v-uni-view",[t.orderDetail.couponMoney?a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("优惠券")]),t.orderDetail.couponMoney?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v("-"+t._s(t.unitChangeMoney(t.orderDetail.couponMoney)||0)+"元")]):t._e()],1):t._e(),a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("支付金额")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.unitChangeMoney(t.orderDetail.visitCharge.price))+"元")]):t._e()],1),a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("支付方式")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v("在线支付")])],1),a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("支付状态")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.getPayStatusName(t.orderDetail.visitCharge.payStatus)))]):t._e()],1),t.orderDetail.visitCharge&&"10"!=t.orderDetail.visitCharge.payStatus?a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("支付时间")]),a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.visitCharge.tranTime?t.orderDetail.visitCharge.tranTime.substring(0,16):""))])],1):t._e()],1):t._e(),0==t.orderDetail.visitCharge.intellectDiag?a("v-uni-view",[1!=t.orderDetail.chargeStatus&&2!=t.orderDetail.chargeStatus&&3!=t.orderDetail.chargeStatus||3==t.orderDetail.chargeStatus&&"1205"==t.orderDetail.visitCharge.status?a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("接诊时间")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.visitCharge.beginTime?t.orderDetail.visitCharge.beginTime.substring(0,16):""))]):t._e()],1):t._e(),6==t.orderDetail.chargeStatus||7==t.orderDetail.chargeStatus?a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("结诊时间")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.visitCharge.closedTime?t.orderDetail.visitCharge.closedTime.substring(0,16):""))]):t._e()],1):t._e()],1):t._e(),3==t.orderDetail.chargeStatus?a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("取消时间")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30"},[t._v(t._s(t.orderDetail.visitCharge.cancelTime?t.orderDetail.visitCharge.cancelTime.substring(0,16):""))]):t._e()],1):t._e(),3==t.orderDetail.chargeStatus?a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("取消原因")]),t.orderDetail.visitCharge?a("v-uni-text",{staticClass:"c-666 fz-30",staticStyle:{width:"70%"}},[t._v(t._s(t.orderDetail.visitCharge.cancelReason))]):t._e()],1):t._e(),a("v-uni-view",{staticClass:"box-item flex-father"},[a("v-uni-text",{staticClass:"flex-child fz-32"},[t._v("订单编号")]),t.orderDetail.visitCharge?a("v-uni-view",{staticClass:"flex-center-v fz-30"},[a("v-uni-text",{staticClass:"c-666"},[t._v(t._s(t.orderDetail.visitCharge.id))]),a("v-uni-text",{staticClass:"line-center"}),a("v-uni-text",{staticClass:"fz-28 c-222",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyOrderNum(t.orderDetail.visitCharge.id)}}},[t._v("复制")])],1):t._e()],1)],1)],1)],1),t.showAssessIntro?a("v-uni-view",{staticClass:"fixedPopup mask"},[a("v-uni-view",{staticClass:"fixedPopup-content assessIntroPopup"},[a("v-uni-view",{staticClass:"fixedPopup-content-main assessIntroPopup-main"},[a("i",{staticClass:"iconfont2 icon_pop_up_cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showAssessIntro=!1}}}),a("v-uni-view",{staticClass:"figureBox"},[a("v-uni-view",{staticClass:"flex-center-h"},[t.orderDetail.cogrecCoopmode?t._e():a("v-uni-view",{staticClass:"figureBox-item"},[a("v-uni-image",{attrs:{src:t.orderDetail.therapistIcon},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.imageError(e,t.orderDetail.therapistSex)}}}),a("v-uni-text",{staticClass:"fz-32 c-222"},[t._v("评估师")]),a("v-uni-text",{staticClass:"c-666"},[t._v("深度评估")])],1),t.orderDetail.cogrecCoopmode?t._e():a("i",{staticClass:"iconfont2 icon_load_6"}),a("v-uni-view",{staticClass:"figureBox-item"},[a("v-uni-image",{attrs:{src:t.orderDetail.doctorIcon},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.imageHistoryError(e,t.orderDetail.doctorSex)}}}),a("v-uni-text",{staticClass:"fz-32 c-222"},[t._v("医生")]),a("v-uni-text",{staticClass:"c-666"},[t._v(t._s(t.orderDetail.cogrecCoopmode?"深度评估 + 出具结论":"出具结论"))])],1)],1)],1),a("v-uni-view",{staticClass:"introBox"},[t.orderDetail.cogrecCoopmode?a("p",[t._v("在选择的咨询时间内，医生对用户进行深度评估并出具认知功能障碍初步结论")]):a("p",[t._v("医生接诊前，评估师通过视频先对用户进行深度评估，完成评估后再转接医生，由医生出具认知障碍初步结论。评估师接单后，您可与评估师重新约定评估时间。")])])],1)],1)],1):t._e(),a("CustomerServicePopup",{ref:"myCustomerServicePopup"}),"1"==t.orderDetail.intellectDiag&&("2"==t.getChargeStatus(t.orderDetail.status)&&(0==t.orderDetail.swapping&&4==t.status||5==t.status||2==t.status)&&"3"!=t.getChargeStatus(t.orderDetail.status)||"7"==t.getChargeStatus(t.orderDetail.status))||"0"==t.orderDetail.intellectDiag&&("3"!=t.getChargeStatus(t.orderDetail.status)||"3"==t.getChargeStatus(t.orderDetail.status)&&!t.isPortalApp)?a("v-uni-view",{staticClass:"bottom-buttonList flex-center-v flex-around"},[0==t.orderDetail.assessMode&&2==t.isOverTime()||2==t.status||3==t.status||6==t.status||12==t.status||13==t.status?a("v-uni-view",{staticClass:"btn-cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrder.apply(void 0,arguments)}}},[t._v("取消订单")]):t._e(),1==t.status?a("v-uni-view",{staticClass:"flex-between",staticStyle:{width:"100%"}},[a("v-uni-view",[a("v-uni-view",{staticClass:"c-orange fz-48"},[a("v-uni-text",{staticClass:"fz-36"},[t._v("¥")]),t._v(t._s(t.unitChangeMoney(t.orderDetail.visitCharge.price)))],1),a("v-uni-view",{staticClass:"c-666 fz-28"},[t._v("已优惠：¥"+t._s(t.unitChangeMoney(t.orderDetail.couponMoney)||0))])],1),t.isPortalApp?t._e():a("v-uni-view",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPay(t.orderDetail.visitCharge.id)}}},[t._v("立即支付")])],1):t._e(),(2==t.status&&(t.orderDetail.diffDays>0||"0"==t.orderDetail.visitInfo.cogrecAssessMode)||1!=t.status&&2!=t.status&&10!=t.status&&11!=t.status&&16!=t.status&&17!=t.status)&&"0"==t.orderDetail.intellectDiag?a("v-uni-view",{staticClass:"btn-empty",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goUpdateConsultPage(t.chargeId)}}},[t._v("补充咨询信息")]):t._e(),t.orderDetail.cogrecCoopmode||2!=t.status&&3!=t.status&&4!=t.status&&5!=t.status||1!=t.orderDetail.assessMode?t._e():a("v-uni-view",{staticClass:"btn-empty",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBelongUnitPage()}}},[t._v("查找网点")]),7==t.status||13==t.status?a("v-uni-view",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goConsult.apply(void 0,arguments)}}},[t._v("立即候诊")]):t._e(),10!=t.status&&11!=t.status&&16!=t.status&&17!=t.status||"0"!=t.orderDetail.intellectDiag||t.isPortalApp?t._e():a("v-uni-view",{staticClass:"btn-empty",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDoctorDetailPage()}}},[t._v("再次咨询")]),10!=t.status&&16!=t.status||t.orderDetail.evaluateFlag?t._e():a("v-uni-view",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goEvaluate()}}},[t._v("评价")]),10!=t.status&&16!=t.status||!t.orderDetail.evaluateFlag?t._e():a("v-uni-view",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goEvaluate("viewEval")}}},[t._v("查看评价")]),8==t.status||14==t.status?a("v-uni-view",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goConsult.apply(void 0,arguments)}}},[t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT?a("i",{staticClass:"icon icon-continue"}):t._e(),t._v("继续咨询")]):t._e(),(4==t.status&&0==t.orderDetail.swapping||5==t.status)&&0==t.orderDetail.assessMode?a("v-uni-view",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goComVideoAssess.apply(void 0,arguments)}}},[t._v(t._s("20"==t.orderDetail.cogApprStatus?"继续评估":"立即评估"))]):t._e(),t.orderDetail.cogrecCoopmode||2!=t.status&&4!=t.status&&5!=t.status||1!=t.orderDetail.assessMode||0!=t.orderDetail.diffDays?t._e():a("v-uni-view",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openOfflineAssess.apply(void 0,arguments)}}},[t._v(t._s("20"==t.orderDetail.cogApprStatus?"继续评估":"立即评估"))])],1):t._e(),a("PrescriptionPopup",{ref:"myPrescriptionPopup"}),a("CustomModal",{ref:"myCustomModal"})],1):t._e()},o=[]},"5f8c":function(t,e,a){var i=a("390d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("784ad1b0",i,!0,{sourceMap:!1,shadowMode:!1})},"63e2":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("28a5"),a("a481"),a("ac6a");var n=a("b379"),o=a("3de1"),r=a("ca00"),s=a("fef2"),l=i(a("f121")),c=i(a("4b4e")),d=a("1f01"),f=a("f8b7"),m=a("0aa3"),u=a("cf45"),h=i(a("e2cc"));a("68d3"),a("c51a");var v=uni.createInnerAudioContext(),p=a("0507"),_=a("9f4b"),g=a("361e"),b=uni.getRecorderManager(),w={data:function(){return{isInWx:l.default.isInWx,isWxAPP:l.default.isWxAPP,isPortalApp:l.default.isPortalApp,audioGif:p,fileUrl:l.default.fileUrl,CHATTYPE:n.CHATTYPE,CHATCONTENTTYPE:n.CHATCONTENTTYPE,REPORTTYPE:n.REPORTTYPE,CONSULTCODE:n.CONSULTCODE,PACKSTATUS:n.PACKSTATUS,SERVICECODE:n.SERVICECODE,COGAPPRSTATUS:n.COGAPPRSTATUS,chatDetail:{},orderDetail:{},srvContact:{},cognitionServicePack:{},userId:"",memberList:[],chargeStatus:"",dialogList:[],loading:!0,loadMoreText:"下拉加载更多",msgParams:{pageNum:1,pageSize:10},scrollTop:"",groupChatFlag:!1,contentDetailHeight:0,isShowTimeCard:!1,modalContent:"",assessTimeout:"",isConsultTimeOut:!1,timeList:[],isLeftTime:!1,textareaHeight:60,isVoice:!1,loadingImg:_,recording:g,isRecording:!1,isRecordSlide:!1,isRecordShotTips:!1,sendMsgList:[],textareaVal:"",statusBarHeight:0,contentHeight:0,imgTextTimeCountDown:"",imgTextTimeInterval:"",unChatFlag:!1}},props:["chargeId","dialogId","isCognitive"],created:function(){var t=this;this.isCognitive&&(this.pad=!1),this.$nextTick((function(){var e=uni.createSelectorQuery().in(t),a=(uni.getSystemInfoSync().safeAreaInsets.bottom,uni.getSystemInfoSync().safeArea.height);console.log("uni.getSystemInfoSync()",uni.getSystemInfoSync()),e.select(".js-header").boundingClientRect(),e.exec((function(e){e&&e[0]?t.contentHeight=a-e[0].height:t.contentHeight=a}))}))},mounted:function(){this.getDialogDetail(),this.userId=(0,r.getUserId)(),this.recorderInit(),document.oncontextmenu=function(t){return!1}},computed:{scaleFontSize:function(){return this.$store.state.scaleFontSize},isShowCall:function(){return this.$store.state.app.isShowCall},isShowLine:function(){return this.$store.state.app.isShowLine}},components:{CustomModal:c.default},methods:{goRecipeDetailPage:function(t){var e={id:t.cusData.id};o.native.go("/pages/personal/subsequent/recipeDetail/recipeDetail","/recipeDetail",e)},goDrugDetailPage:function(t){var e={prescriptionId:t.cusData.id};(0,m.recipeRelevantDrug)(e).then((function(e){if("000"==e.errorCode){var a={};e.entity.currentOrderId?a.orderId=e.entity.currentOrderId:a.prescriptionId=t.cusData.id,o.native.go("/pages/drugOrderDetail/orderDetail/orderDetail","/orderDetail",a)}}))},getRrcipeStatusName:function(t){return(0,n.RECIPESTATUSNAME)(t)},previewImg:function(t){var e=this,a=[],i=this.dialogList[t],o=i.content;o=i.isPushMsg?o:this.fileUrl+o,this.dialogList.forEach((function(t){if(t.contentType==n.CHATCONTENTTYPE.IMG){var i=t.isPushMsg?t.content:e.fileUrl+t.content;a.push(i)}})),uni.previewImage({current:o,urls:a})},previewConsultImg:function(t,e){var a=this,i=[];e.forEach((function(t){i.push(a.fileUrl+t.filePath)}));var n=i[t];uni.previewImage({current:n,urls:i})},setTextareaHeight:function(t){if(console.log("event",t),t.detail.lineCount>1&&t.detail.lineCount<5){var e=40*t.detail.lineCount+20;this.textareaHeight=e}else 1==t.detail.lineCount&&(this.textareaHeight=60);this.scrollBottom()},receiveSocketMsg:function(t){var e=this,a=t.content;if(console.log("chatDetail接收socket",t),t.code==n.SOCKETCODE.MESSAGE){this.isShowCall||this.isShowLine||(0,d.playMsgMp3)();var i=a.imMsgSingleDto?a.imMsgSingleDto:a.imMsgGroupDto,o=i.dialogId;this.dialogId==o&&(i.cusCode=i.extend?JSON.parse(i.extend).cusCode:"",i.cusData=i.extend?JSON.parse(i.extend).cusData:"",this.dialogList.push(i),this.setMessageDetailInfo(this.dialogList[this.dialogList.length-1]),setTimeout((function(){e.setMsgReadCallback()}),100),this.scrollBottom())}else t.code==n.SOCKETCODE.ORDER_CHANGE?a.visitCharge&&a.visitCharge.businessId==this.orderDetail.visitCharge.businessId&&this.getDialogDetail():t.code==n.SOCKETCODE.THERAPIST_OFFLINE||t.code==n.SOCKETCODE.THERAPIST_ONLINE?a.therapistId==this.chatDetail.therapistId&&this.memberList.forEach((function(e){e.id==a.therapistId&&(t.code==n.SOCKETCODE.THERAPIST_OFFLINE?e.dotClass="red":e.dotClass="green")})):t.code==n.SOCKETCODE.CHANGE_ASSESS_TIME&&a.orgVideoChargeId&&a.orgVideoChargeId==this.orderDetail.visitCharge.id&&this.getDialogDetail()},goback:function(){o.native.goback()},imageError:function(t){var e;console.log("头像错误"),"DOCTOR"==t?e=this.chatDetail.docSex:"PATIENT"==t?e=this.chatDetail.patientSex:e=this.chatDetail.therapistSex;var a=(0,o.getDefaultIcon)(e,t);return a},getDefaultIcon:function(t,e,a){var i=this.imageError(t);return this.dialogList[e][a]=i,a&&this.$set(this.dialogList,e,this.dialogList[e]),i},leftTime:function(){var t=this.cognitionServicePack;return t.businessType=this.orderDetail.visitCharge.businessType,(0,o.leftTime)(t,1)},getTimeRuleDialog:function(t){return(0,o.getTimeRuleDialog)(t)},getMessageCon:function(t){return(0,n.getMessageCon)(t)},chatTextFormat:function(t){return t=t.replace(/\n/g,"</br>"),t=t.replace(/\r/g,"</br>"),t=t.replace(/↵d↵/g,"</br>"),t},getIsReport:function(t){var e=!1,a=t.cusCode;for(var i in n.REPORTTYPE)if("COG1"!=i&&"COG2"!=i&&"INQ1"!=i&&"INQ2"!=i&&n.REPORTTYPE[i]==a){e=!0;break}return e},getDialogDetail:function(){var t=this;o.native.showLoading();var e={chargeId:this.chargeId,dialogIds:this.dialogId};(0,s.getDialogDetail)(e).then((function(e){if("000"==e.errorCode){t.orderDetail=e.entity.chargeDetail,t.orderDetail.visitOrder&&(t.orderDetail.visitOrder.doctorDiagnoseDate=t.orderDetail.visitOrder.scheduleDate,t.orderDetail.visitOrder.diagnoseBeginTime=t.orderDetail.visitOrder.point),t.cognitionServicePack=t.orderDetail.cognitionServicePack||t.orderDetail.visitOrder||t.orderDetail.visitCharge,t.chatDetail=e.entity.dialogs[t.dialogId],t.srvContact=e.entity.srvContact,t.memberList=t.chatDetail.groupMembers.length?t.chatDetail.groupMembers:t.chatDetail.singleMembers,t.chargeStatus=t.orderDetail.visitCharge.status.substring(0,2),t.groupChatFlag=t.chatDetail.imDialogInfo.dialogType;var a=[];t.orderDetail.visitCharge.businessType==n.SERVICECODE.IMGTXTCONSULT?t.judgeShowImgTextTimeOut():t.judgeShowTimeOut(),t.memberList.forEach((function(e){e.userOnline=t.getOnlineStatus(e),t.getMemberInfo(e),t.userId!=e.userId&&a.push(e.userName)})),setTimeout((function(){var t=a.join("、");o.native.setNavTitle(t)}),100),t.msgParams.pageNum=1,t.loadMoreText="下拉加载更多",t.getMessageList()}else o.native.toast(e.message)})).finally((function(){o.native.hideLoading()}))},judgeShowImgTextTimeOut:function(){var t=this,e=this.orderDetail,a=(this.cognitionServicePack,(0,r.getServiceTime)()),i=0;if(this.unChatFlag=!1,this.chargeStatus==n.CONSULTCODE.WAIT){var s=(0,o.getTimeCount)(e.visitCharge.createTime,a);i=60*e.visitCharge.receiveExpiryTimes-s,0==e.visitInfo.replyLimitUnRcv&&(this.unChatFlag=!0)}else if(this.chargeStatus==n.CONSULTCODE.NOTDONE){s=(0,o.getTimeCount)(e.visitCharge.beginTime,a);i=60*e.visitCharge.serviceTimes-s,0==e.visitInfo.countLimit&&(this.unChatFlag=!0)}clearInterval(this.imgTextTimeInterval),i>0&&(this.imgTextTimeInterval=setInterval((function(){i>0?(i--,t.imgTextTimeCountDown=(0,o.setFormatTimeStr)(i)):(t.getDialogDetail(),clearInterval(t.imgTextTimeInterval))}),1e3))},judgeShowTimeOut:function(){var t=this,e=this.orderDetail,a=this.cognitionServicePack,i=(0,r.getServiceTime)(),s=0;this.isLeftTime=!1,this.isShowTimeCard=!1,this.isConsultTimeOut=!1,a.cogApprStatus!=n.COGAPPRSTATUS.NOT||a.packStatus!=n.PACKSTATUS.GOING||e.visitInfo.cogrecCoopmode||a.assessMode?((e.visitInfo.cogrecCoopmode||a.cogApprStatus!=n.COGAPPRSTATUS.DONE)&&!e.visitInfo.cogrecCoopmode||a.packStatus!=n.PACKSTATUS.GOING)&&e.visitCharge.businessType!=n.SERVICECODE.READ&&e.visitCharge.businessType!=n.SERVICECODE.VIDEOCONSULT||this.chargeStatus!=n.CONSULTCODE.WAIT||e.visitCharge.intellectDiag?this.isShowTimeCard=!1:(this.leftTime()?this.isLeftTime=!0:s=(0,o.getTimeCount)(i,a.doctorDiagnoseDate+" "+a.diagnoseBeginTime),this.isConsultTimeOut=!0,this.isShowTimeCard=!0):(this.leftTime()?this.isLeftTime=!0:s=(0,o.getTimeCount)(i,a.assessDate+" "+a.assessBeginTime),this.isShowTimeCard=!0),console.log("time",s),s&&(this.timeList=(0,o.setFormatTimeStr)(s).split(":"),clearInterval(this.assessTimeout),this.assessTimeout=setInterval((function(){s--,s>0?t.timeList=(0,o.setFormatTimeStr)(s).split(":"):(t.isLeftTime=!0,clearInterval(t.assessTimeout))}),1e3))},beginVideo:function(){this.isLeftTime?this.isConsultTimeOut?this.patientCallDoctor():this.goVideoAssess():o.native.modal({title:"未到"+(this.isConsultTimeOut?"候诊":"评估")+"时间",cancelText:"",confirmText:"知道了",content:"",showCancel:!1})},getMessageList:function(){var t=this;this.msgParams.dialogId=this.dialogId,1==this.groupChatFlag?(0,s.getPageGroupMsg)(this.msgParams).then((function(e){t.getMessageListCallback(e)})).finally((function(e){1==t.msgParams.pageNum&&t.scrollBottom()})):(0,s.getPageSingleMsg)(this.msgParams).then((function(e){t.getMessageListCallback(e)})).finally((function(e){1==t.msgParams.pageNum&&t.scrollBottom()}))},getMessageListCallback:function(t){var e=this;this.loading=!1,"000"==t.errorCode?(this.msgParams.totalPages=t.entity.pages,1==this.msgParams.pageNum?this.dialogList=t.entity.records:this.dialogList=t.entity.records.concat(this.dialogList),this.msgParams.totalPages==this.msgParams.pageNum&&(this.loadMoreText="已加载全部"),this.dialogList.forEach((function(t){t.cusCode=t.extend?JSON.parse(t.extend).cusCode:"",t.cusData=t.extend?JSON.parse(t.extend).cusData:"",e.setMessageDetailInfo(t)})),1==this.msgParams.pageNum&&this.setMsgReadCallback()):o.native.toast(t.message)},setMessageDetailInfo:function(t){this.getShowTime(t),this.getMessageMemberInfo(t)},scrollBottom:function(){var t=this;setTimeout((function(){var e=uni.createSelectorQuery().in(t);e.select(".js-contentDetailChat").boundingClientRect(),e.select(".js-content").boundingClientRect(),e.select(".js-contentTop").boundingClientRect(),e.select(".js-contentBottom").boundingClientRect(),e.exec((function(e){t.scrollTop=e[0].height+3e8;var a=e[1].height,i=e[2].height,n=e[3].height;t.contentDetailHeight=a-i-n+"px"}))}),100)},setMsgReadCallback:function(){var t={memberId:this.chatDetail.pMemberId,lastAckId:this.dialogList[this.dialogList.length-1].id};1==this.groupChatFlag?(0,s.setGroupDialogLastAckId)(t).then((function(t){"000"!=t.errorCode&&o.native.toast(t.message)})):(0,s.setSingleDialogLastAckId)(t).then((function(t){"000"!=t.errorCode&&o.native.toast(t.message)}))},audioChatPlay:function(t,e){var a=this;if(t.contentUnpackFlag=t.contentUnpackFlag?t.contentUnpackFlag:"",t.fromUserId!=this.userId&&t.contentUnpackFlag.indexOf(this.chatDetail.pMemberId)<0){var i={msgId:t.id,memberId:this.chatDetail.pMemberId};this.groupChatFlag?(0,s.setGroupDialogMsgContentUnpackFlag)(i).then((function(e){"000"==e.errorCode?a.setAudioMsgReadCallback(t):o.native.toast(e.message)})):(0,s.setSingleDialogMsgContentUnpackFlag)(i).then((function(e){"000"==e.errorCode?a.setAudioMsgReadCallback(t):o.native.toast(e.message)}))}if(t.isPlay)return t.isPlay=!1,v.stop(),void this.$set(this.dialogList,e,t);v.src=t.isPushMsg?t.content:this.fileUrl+t.content,v.play(),this.dialogList.forEach((function(t,a){a==e?t.isPlay=!0:t.isPlay&&(t.isPlay=!1)}));var n=JSON.parse(JSON.stringify(this.dialogList));this.dialogList=n,v.onEnded((function(){t.isPlay=!1,a.$set(a.dialogList,e,t)}))},setAudioMsgReadCallback:function(t){t.contentUnpackFlag=t.contentUnpackFlag?t.contentUnpackFlag+","+this.chatDetail.pMemberId:this.chatDetail.pMemberId,this.dialogList=JSON.parse(JSON.stringify(this.dialogList))},goReportPage:function(t){if(t.extend&&t.cusCode==n.REPORTTYPE.INQ5){var e={visitId:this.orderDetail.visitInfo.id};o.native.go("/pages/adviceDetail/adviceDetail","/adviceDetail",e)}else{var a=this.orderDetail.visitCharge.businessType==n.SERVICECODE.READ?"SER":this.orderDetail.visitCharge.intellectDiag?"GLR":"SSR";e={packOrderId:this.cognitionServicePack.id,type:a,chargeId:this.orderDetail.visitCharge.id};o.native.go("/pages/assessReport/report/report","/assessReport",e)}},goEvalutePage:function(t){var e={chargeId:this.orderDetail.visitCharge.id,type:t};o.native.go("/pages/doctor/evaluate/evaluate","/evaluate",e)},goDoctorDetailPage:function(){console.log("this.orderDetail",this.orderDetail);var t={serviceType:this.orderDetail.visitCharge.businessType,showSchedule:!0,doctorId:this.orderDetail.visitCharge.doctorId};o.native.go("/pages/doctor/detail/detail","/doctorDetail",t)},getShowTime:function(t){if(this.lastShowTime){var e=t.timestamp,a=(0,o.getDifferHours)(this.lastShowTime,e),i=60*a;Math.abs(i)>2&&(this.lastShowTime=t.timestamp,t.showTime=!0)}else this.lastShowTime=t.timestamp,t.showTime=!0;return t.showTime},patientCallDoctor:function(){console.log("this.$refs['CustomModal']",this.$refs["CustomModal"]),this.$refs["myCustomModal"].patientCallDoctor({chargeId:this.orderDetail.visitCharge.id,chargeStatus:this.orderDetail.visitCharge.status,visitId:this.orderDetail.visitInfo.id})},goVideoAssess:function(){var t=this,e={chargeId:this.orderDetail.visitCharge.id};o.native.showLoading(),(0,f.getChargeDetail)(e).then((function(e){if("000"==e.errorCode){for(var a in e.entity)if(e.entity[a]){t.orderDetail=e.entity[a];break}t.cognitionServicePack=t.orderDetail.cognitionServicePack||t.orderDetail.visitOrder,t.cognitionServicePack.swapping?(o.native.toast("对方繁忙"),setTimeout((function(){t.getDialogDetail(!1)}),2e3)):t.$refs["myCustomModal"].goVideoAssess(t.orderDetail.visitCharge.id)}else o.native.toast(e.message)})).finally((function(){o.native.hideLoading()}))},goOrderDetailPage:function(){if(this.pad){var t={type:"orderDetail",id:this.orderDetail.visitCharge.id,showBack:!0};this.$emit("changeStatus",t)}else{var e={type:"orderDetail",id:this.orderDetail.visitCharge.id};o.native.go("/pages/myConsult/myConsult","/myConsult",e)}},scollTopNextPage:function(t){var e=this;this.loading=!0,console.log("this.msgParams.totalPages",this.msgParams.totalPages,this.msgParams.pageNum),this.msgParams.totalPages>this.msgParams.pageNum?(this.msgParams.pageNum++,this.loading=!0,this.getMessageList()):(this.loadMoreText="已加载全部",setTimeout((function(){e.loading=!1}),100))},getMemberInfo:function(t,e){2==t.userRole?5==t.userType||7==t.userType?(this.chatDetail.therapistId=t.userId,this.chatDetail.tMemberId=t.id,this.chatDetail.therapistSex=t.userSex,this.chatDetail.therapistName=t.userName,this.chatDetail.therapistIcon=t.userIcon):(this.chatDetail.docId=t.userId,this.chatDetail.dMemberId=t.id,this.chatDetail.docSex=t.userSex,this.chatDetail.docName=t.userName,this.chatDetail.docIcon=t.userIcon):(this.chatDetail.patientId=t.userId,this.chatDetail.pMemberId=t.id,this.chatDetail.patientSex=t.userSex,this.chatDetail.patientName=t.userName,this.chatDetail.patientIcon=t.userIcon)},getOnlineStatus:function(t){var e=0;return t.stateSocketIO?e=1:t.stateThirdPushChannel?e=2:t.stateThirdPushChannel||(e=0),e},getMessageMemberInfo:function(t){var e,a,i;t.fromUserId==this.chatDetail.docId?(e=this.chatDetail.docIcon,i=this.chatDetail.docName,a="DOCTOR"):t.fromUserId==this.chatDetail.patientId?(e=this.chatDetail.patientIcon,i=this.chatDetail.patientName,a="PATIENT"):t.fromUserId==this.chatDetail.therapistId&&(e=this.chatDetail.therapistIcon,i=this.chatDetail.therapistName,a="THERAPIST"),t.userTypeName=a,t.userName=i,t.icon=e?this.fileUrl+e:this.imageError(t.userTypeName);for(var n=0;n<this.memberList.length;n++)if(t.fromUserId==this.memberList[n].userId){t.userOnline=this.memberList[n].userOnline;break}},getShowDot:function(t,e){var a=this.chargeStatus,i=!1;1==t.userOnline?t.dotClass="green":2==t.userOnline?t.dotClass="red":0==t.userOnline&&(t.dotClass="gray");var o=this.cognitionServicePack,r=o?o.cogApprStatus:"";return this.orderDetail.visitInfo.cogrecCoopmode||this.orderDetail.visitCharge.intellectDiag||this.orderDetail.visitCharge.businessType!=n.SERVICECODE.CONSULT?i=this.orderDetail.visitCharge.intellectDiag?"5"==t.userType&&o.packStatus!=n.PACKSTATUS.WAIT&&a!=n.CONSULTCODE.CANCEL&&a!=n.CONSULTCODE.OVER&&a!=n.CONSULTCODE.DONE:!(!this.srvContact.patientContact||o.packStatus==n.PACKSTATUS.DONE||o.packStatus==n.PACKSTATUS.CANCEL):"4"==t.userType?(this.srvContact.patientContact&&o.packStatus==n.PACKSTATUS.WAIT&&(i=!0),o.packStatus!=n.PACKSTATUS.WAIT&&r!=n.COGAPPRSTATUS.DONE&&(t.dotClass="gray",i=!0),r==n.COGAPPRSTATUS.DONE&&o.packStatus!=n.PACKSTATUS.WAIT&&a!=n.CONSULTCODE.CANCEL&&a!=n.CONSULTCODE.OVER&&a!=n.CONSULTCODE.DONE&&(i=!0)):o.packStatus!=n.PACKSTATUS.WAIT&&a!=n.CONSULTCODE.CANCEL&&a!=n.CONSULTCODE.OVER&&a!=n.CONSULTCODE.DONE&&(i=!0),i},recorderInit:function(){var t=this;b=(0,h.default)({type:"mp3",sampleRate:16e3,bitRate:16,onProcess:function(t,e,a,i,n,o){}}),b.open((function(){t.isUserNotAllow=!1}),(function(e,a){t.isUserNotAllow=!0}))},voiceStart:function(t){console.log("手指点击录音"),this.voiceStartTime=(new Date).getTime(),this.isVoiceStart=!0,this.isMoveCancelSend=!1,t.preventDefault(),this.isUserNotAllow?o.native.modal({title:"提示",content:"您未授权录音，功能将无法使用",showCancel:!1}):this.voiceStartSuccess(t,"")},voiceStartSuccess:function(t,e){var a=this;this.isRecording=!0,this.startPoint=t.touches[0],b.start(e),clearInterval(this.voiceTimeInterval),this.voiceTimeCount=0,this.voiceTimeInterval=setInterval((function(){console.log("recorder",b),a.voiceTimeCount>59&&(a.voiceTimeCount=0,clearInterval(a.voiceTimeInterval),a.voiceEnd(),o.native.toast("语音时间过长")),a.voiceTimeCount++}),1e3)},voiceEnd:function(){var t=this;if(clearInterval(this.voiceTimeInterval),console.log("手指松开录音isVoiceStart",this.isVoiceStart),this.isRecording=!1,this.isMoveCancelSend)this.isRecordSlide=!1,this.isVoiceStart=!1,clearInterval(this.voiceTimeInterval),b.stop((function(e,a){t.recorderStop(e,a)}));else if(this.isVoiceStart){console.log("手指松开录音"),this.isVoiceStart=!1;var e=(new Date).getTime()-this.voiceStartTime;console.log("voiceTime",e),e<500?(console.log("录音停止，说话小于0.5秒！"),this.isRecordShotTips=!0,setTimeout((function(){t.isRecordShotTips=!1}),1e3),b.stop((function(e,a){t.recorderStop(e,a)}))):b.stop((function(e,a){t.recorderStop(e,a)}))}else this.isVoice&&(b.stop((function(e,a){t.recorderStop(e,a)})),console.log("取消发送"))},recorderStop:function(t,e){var a=(window.URL||webkitURL).createObjectURL(t),i=new File([t],"audio.mp3",{type:"audio/mp3",lastModified:Date.now()});this.uploadFileFun([a],1,e,[i])},voiceMove:function(t){console.log("松开手指,取消发送,isRecording",this.isVoice,this.isRecording),this.startPoint&&Math.abs(t.touches[t.touches.length-1].clientY-this.startPoint.clientY)>25?(this.isRecordSlide=!0,this.isRecording=!1,this.isMoveCancelSend=!0):this.isVoice&&this.isMoveCancelSend&&(this.isRecordSlide=!1,this.isRecording=!0,this.isMoveCancelSend=!1)},presignedObjectPutUrl:function(t,e,a,i){var o=this,r={fileName:t,usePost:1,file:a.file},s=a.dialogIndex;(0,u.presignedObjectPutUrlFun)(r,(function(t,r){if("success"==t){if(a.contentType==n.CHATCONTENTTYPE.IMG){var l={content:r.entity.path,contentType:n.CHATCONTENTTYPE.IMG};o.sendMessage(l,"img",(function(t){o.setMsgSendSchedule(s,t),i&&i()}))}else if(a.contentType==n.CHATCONTENTTYPE.AUDIO){var c=Math.ceil(e/1e3);c=c>60?60:c;l={contentType:n.CHATCONTENTTYPE.AUDIO,content:r.entity.path,contentLength:c};o.sendMessage(l,"audio",(function(t){console.log("sendSchedule",t),o.setMsgSendSchedule(s,t),i&&i()}))}}else o.setMsgSendSchedule(s,"fail"),i&&i()}))},uploadFileFun:function(t,e,a,i){for(var o=this.dialogList.length,s=0;s<t.length;s++){console.log("tempFilePaths",t,t[s]);var l={contentType:1==e?n.CHATCONTENTTYPE.AUDIO:n.CHATCONTENTTYPE.IMG,content:t[s],file:i?i[s]:{},fromUserRole:1,fromUserId:this.userId,time:a};if(a){var c=Math.ceil(a/1e3);c=c>60?60:c,l.contentLength=c}console.log("sendItem",l),l.dialogIndex=o+s,l.timestamp=(0,r.getServiceTime)(),this.sendMsgList.push(l),this.sendMsgPushList(l)}this.sendMsgList.length&&this.uploadFileLoop(0)},sendMsgPushList:function(t){t.sendSchedule="sending",t.extend="",t.isPushMsg=!0,t.icon=this.chatDetail.patientIcon?this.fileUrl+this.chatDetail.patientIcon:this.imageError("PATIENT"),this.dialogList.push(t),this.setMessageDetailInfo(this.dialogList[this.dialogList.length-1]),this.scrollBottom()},uploadFileNext:function(t,e){void 0!=t&&(t<this.sendMsgList.length-1?(t++,this.uploadFileLoop(t)):this.sendMsgList=[],e&&e())},uploadFileLoop:function(t){var e=this,a=this.sendMsgList[t];this.presignedObjectPutUrl(a.content,a.time,a,(function(){e.uploadFileNext(t)}))},choosePic:function(t){var e=this;this.isChoosepicClick=!0,uni.chooseImage({sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var a=t.tempFilePaths,i=t.tempFiles;e.uploadFileFun(a,2,t,i)},fail:function(){console.log("fail")}})},setMsgSendSchedule:function(t,e){console.log("设置会话发送进度状态",e),this.dialogList[t].sendSchedule=e,this.$set(this.dialogList,t,this.dialogList[t])},sendMessageAgain:function(t){var e=this,a=this.dialogList[t];if(a.dialogIndex=t,this.setMsgSendSchedule(t,"againSending"),this.sendAgainFlag)this.setMsgSendSchedule(t,"fail");else if(this.sendAgainFlag=!0,a.contentType==n.CHATCONTENTTYPE.TEXT){var i={content:a.content,contentType:a.contentType};this.sendMessageNext(i,"",(function(a){e.setMsgSendSchedule(t,a),e.sendAgainFlag=!1}))}else this.presignedObjectPutUrl(a.content,a.time,a,(function(){e.sendAgainFlag=!1}))},sendMessage:function(t,e,a){var i=this;if(""!=this.textareaVal||e){if(!e){var s={content:this.textareaVal,contentType:n.CHATCONTENTTYPE.TEXT,fromUserRole:1,fromUserId:this.userId,timestamp:(0,r.getServiceTime)(),dialogIndex:this.dialogList.length};this.sendMsgPushList(s),t={content:this.textareaVal,contentType:n.CHATCONTENTTYPE.TEXT},this.textareaVal=""}this.sendMessageNext(t,e,(function(t){e?a&&a(t):i.setMsgSendSchedule(s.dialogIndex,t)}))}else o.native.toast("不能发送空白消息")},sendMessageNext:function(t,e,a){var i=this;if(e)o=t;else var o={content:this.textareaVal,contentType:n.CHATCONTENTTYPE.TEXT};o=t;if(o.dialogId=this.dialogId,o.fromUserId=this.userId,console.log("this.groupChatFlag",this.groupChatFlag),this.groupChatFlag)var r=this.chatDetail.groupMembers;else r=this.chatDetail.singleMembers;console.log("membersList",this.chatDetail);for(var l=0;l<r.length;l++){var c=r[l];if(this.groupChatFlag&&c.userId==o.fromUserId){o.fromUserRole=c.userRole,o.memberId=c.id;break}this.groupChatFlag||(c.userId==o.fromUserId?(o.fromUserRole=c.userRole,o.memberId=c.id):(o.toUserId=c.userId,o.toUserRole=c.userRole))}this.orderDetail.visitCharge.businessType==n.SERVICECODE.IMGTXTCONSULT?(o.chargeId=this.orderDetail.visitCharge.id,(0,s.sendImgTextMsgDialog)(o).then((function(t){i.sendMessageCallback(t,e,a)})).catch((function(){a&&a("fail")}))):this.groupChatFlag?(0,s.sendGroupMsgDialog)(o).then((function(t){i.sendMessageCallback(t,e,a)})).catch((function(){a&&a("fail")})):(0,s.sendSingleMsgDialog)(o).then((function(t){i.sendMessageCallback(t,e,a)})).catch((function(){a&&a("fail")}))},sendMessageCallback:function(t,e,a){"000"==t.errorCode?(this.textareaVal="",a&&a("success"),this.orderDetail.visitCharge.businessType==n.SERVICECODE.IMGTXTCONSULT&&(e&&"audio"!=e||(this.chargeStatus==n.CONSULTCODE.WAIT&&this.orderDetail.visitInfo.replyLimitUnRcv>0?this.orderDetail.visitInfo.replyLimitUnRcv--:this.chargeStatus==n.CONSULTCODE.NOTDONE&&this.orderDetail.visitInfo.countLimit>0&&this.orderDetail.visitInfo.countLimit--,(this.chargeStatus==n.CONSULTCODE.WAIT&&0===this.orderDetail.visitInfo.replyLimitUnRcv||this.chargeStatus==n.CONSULTCODE.NOTDONE&&0===this.orderDetail.visitInfo.countLimit)&&(this.unChatFlag=!0),console.log("this.orderDetail",this.orderDetail),this.orderDetail=JSON.parse(JSON.stringify(this.orderDetail))))):(o.native.toast(t.message),a&&a("fail"))}},beforeDestroy:function(){clearInterval(this.assessTimeout),clearInterval(this.imgTextTimeInterval)}};e.default=w},"649d":function(t,e,a){"use strict";a.r(e);var i=a("741f"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"68d3":function(t,e){(function(){"use strict";var t;Recorder.prototype.enc_mp3={stable:!0,testmsg:"采样率范围48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000"},Recorder.prototype.mp3=function(t,e,a){var o=this,r=o.set,s=t.length,l=o.mp3_start(r);if(l)return o.mp3_encode(l,t),void o.mp3_complete(l,e,a,1);var c=new Recorder.lamejs.Mp3Encoder(1,r.sampleRate,r.bitRate),d=57600,f=[],m=0,u=0,h=function(){if(m<s){var a=c.encodeBuffer(t.subarray(m,m+d));a.length>0&&(u+=a.buffer.byteLength,f.push(a.buffer)),m+=d,setTimeout(h)}else{a=c.flush();a.length>0&&(u+=a.buffer.byteLength,f.push(a.buffer));var o=i.fn(f,u,s,r.sampleRate);n(o,r),e(new Blob(f,{type:"audio/mp3"}))}};h()},Recorder.BindDestroy("mp3Worker",(function(){Recorder.CLog("mp3Worker Destroy"),t&&t.terminate(),t=null})),Recorder.prototype.mp3_envCheck=function(t,e){var i="";return e.takeoffEncodeChunk&&(t.canProcess?a()||(i="当前浏览器版本太低，无法实时处理"):i=t.envName+"环境不支持实时处理"),i},Recorder.prototype.mp3_start=function(t){return a(t)};var e={id:0},a=function(a){var n=t;try{if(!n){var o=function(t){var e=t.data,a=wk_ctxs[e.id];if("init"==e.action)wk_ctxs[e.id]={sampleRate:e.sampleRate,bitRate:e.bitRate,takeoff:e.takeoff,mp3Size:0,pcmSize:0,encArr:[],encObj:new wk_lame.Mp3Encoder(1,e.sampleRate,e.bitRate)};else if(!a)return;switch(e.action){case"stop":a.encObj=null,delete wk_ctxs[e.id];break;case"encode":a.pcmSize+=e.pcm.length;var i=a.encObj.encodeBuffer(e.pcm);i.length>0&&(a.takeoff?self.postMessage({action:"takeoff",id:e.id,chunk:i}):(a.mp3Size+=i.buffer.byteLength,a.encArr.push(i.buffer)));break;case"complete":i=a.encObj.flush();i.length>0&&(a.takeoff?self.postMessage({action:"takeoff",id:e.id,chunk:i}):(a.mp3Size+=i.buffer.byteLength,a.encArr.push(i.buffer)));var n=wk_mp3TrimFix.fn(a.encArr,a.mp3Size,a.pcmSize,a.sampleRate);self.postMessage({action:e.action,id:e.id,blob:new Blob(a.encArr,{type:"audio/mp3"}),meta:n});break}},r=");wk_lame();var wk_ctxs={};self.onmessage="+o;r+=";var wk_mp3TrimFix={rm:"+i.rm+",fn:"+i.fn+"}";var s=Recorder.lamejs.toString(),l=(window.URL||webkitURL).createObjectURL(new Blob(["var wk_lame=(",s,r],{type:"text/javascript"}));n=new Worker(l),setTimeout((function(){(window.URL||webkitURL).revokeObjectURL(l)}),1e4),n.onmessage=function(t){var a=t.data,i=e[a.id];i&&("takeoff"==a.action?i.set.takeoffEncodeChunk(new Uint8Array(a.chunk.buffer)):(i.call&&i.call(a),i.call=null))}}var c={worker:n,set:a,takeoffQueue:[]};return a?(c.id=++e.id,e[c.id]=c,n.postMessage({action:"init",id:c.id,sampleRate:a.sampleRate,bitRate:a.bitRate,takeoff:!!a.takeoffEncodeChunk,x:new Int16Array(5)})):n.postMessage({x:new Int16Array(5)}),t=n,c}catch(d){return n&&n.terminate(),console.error(d),null}};Recorder.prototype.mp3_stop=function(t){if(t&&t.worker){t.worker.postMessage({action:"stop",id:t.id}),t.worker=null,delete e[t.id];var a=-1;for(var i in e)a++;a&&Recorder.CLog("mp3 worker剩"+a+"个在串行等待",3)}},Recorder.prototype.mp3_encode=function(t,e){t&&t.worker&&t.worker.postMessage({action:"encode",id:t.id,pcm:e})},Recorder.prototype.mp3_complete=function(t,e,a,i){var o=this;t&&t.worker?(t.call=function(a){n(a.meta,t.set),e(a.blob),i&&o.mp3_stop(t)},t.worker.postMessage({action:"complete",id:t.id})):a("mp3编码器未打开")},Recorder.mp3ReadMeta=function(t,e){var a="object"==typeof window?window.parseInt:self.parseInt,i=new Uint8Array(t[0]||[]);if(i.length<4)return null;var n=function(t,e){return("0000000"+((e||i)[t]||0).toString(2)).substr(-8)},o=n(0)+n(1),r=n(2)+n(3);if(!/^1{11}/.test(o))return null;var s={"00":2.5,10:2,11:1}[o.substr(11,2)],l={"01":3}[o.substr(13,2)],c={1:[44100,48e3,32e3],2:[22050,24e3,16e3],2.5:[11025,12e3,8e3]}[s];c&&(c=c[a(r.substr(4,2),2)]);var d=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]][1==s?1:0][a(r.substr(0,4),2)];if(!s||!l||!d||!c)return null;for(var f=Math.round(8*e/d),m=1==l?384:2==l||1==s?1152:576,u=m/c*1e3,h=Math.floor(m*d/8/c*1e3),v=0,p=0,_=0;_<t.length;_++){var g=t[_];if(p+=g.byteLength,p>=h+3){var b=new Uint8Array(g),w=g.byteLength-(p-(h+3)+1),x=n(w,b);v="1"==x.charAt(6);break}}return v&&h++,{version:s,layer:l,sampleRate:c,bitRate:d,duration:f,size:e,hasPadding:v,frameSize:h,frameDurationFloat:u}};var i={rm:Recorder.mp3ReadMeta,fn:function(t,e,a,i){var n=this.rm(t,e);if(!n)return{err:"mp3非预定格式"};var o=Math.round(a/i*1e3),r=Math.floor((n.duration-o)/n.frameDurationFloat);if(r>0){var s=r*n.frameSize-(n.hasPadding?1:0);e-=s;for(var l=0,c=[],d=0;d<t.length;d++){var f=t[d];if(s<=0)break;s>=f.byteLength?(s-=f.byteLength,c.push(f),t.splice(d,1),d--):(t[d]=f.slice(s),l=f,s=0)}var m=this.rm(t,e);if(!m){l&&(t[0]=l);for(d=0;d<c.length;d++)t.splice(d,0,c[d]);n.err="fix后数据错误，已还原，错误原因不明"}var u=n.trimFix={};u.remove=r,u.removeDuration=Math.round(r*n.frameDurationFloat),u.duration=Math.round(8*e/n.bitRate)}return n}},n=function(t,e){var a="MP3信息 ";(t.sampleRate&&t.sampleRate!=e.sampleRate||t.bitRate&&t.bitRate!=e.bitRate)&&(Recorder.CLog(a+"和设置的不匹配set:"+e.bitRate+"kbps "+e.sampleRate+"hz，已更新set:"+t.bitRate+"kbps "+t.sampleRate+"hz",3,e),e.sampleRate=t.sampleRate,e.bitRate=t.bitRate);var i=t.trimFix;i?(a+="Fix移除"+i.remove+"帧"+i.removeDuration+"ms -> "+i.duration+"ms",i.remove>2&&(t.err=(t.err?t.err+", ":"")+"移除帧数过多")):a+=(t.duration||"-")+"ms",t.err?Recorder.CLog(a,1,t.err,t):Recorder.CLog(a,t)}})()},"70a4":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.listHistory=e.getVisitOrderByOrder=e.getVideoChargeList=e.getIntellectDiagDoctor=e.countUnreadNumWithDialogIds=void 0;var n=i(a("b775")),o=function(t){var e=t.id,a=t.serviceTypes;return(0,n.default)({url:"/api/inquiry/charge/patient/visit/listOngoing?patientId="+e+"&supplyImDialog=true&serviceTypes="+a,method:"get"})};e.getVideoChargeList=o;var r=function(t){var e=t.patientId,a=t.pageSize,i=t.pageNum,o=t.serviceTypes;return(0,n.default)({url:"/api/inquiry/charge/patient/visit/listHistory?supplyImDialog=true&patientId="+e+"&pageSize="+a+"&pageNum="+i+"&serviceTypes="+o,method:"get"})};e.listHistory=r;var s=function(t){return(0,n.default)({url:"/api/im/countUnreadNumWithDialogIds",data:t,method:"post"})};e.countUnreadNumWithDialogIds=s;var l=function(t){return(0,n.default)({url:"/api/inquiry/video/getVisitOrderByOrder",data:t,method:"post"})};e.getVisitOrderByOrder=l;var c=function(){return(0,n.default)({url:"/api/inquiry/doctor/getIntellectDiagDoctor",method:"get"})};e.getIntellectDiagDoctor=c},"741f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("0aa3"),n=a("3de1"),o={data:function(){return{showModal:!1,prescriptionInfo:[]}},methods:{getPresciptionInfo:function(t){var e=this;(0,i.prescriptionDetailMulti)(t).then((function(t){"000"==t.errorCode&&(e.prescriptionInfo=t.entity)})).finally((function(){e.showModal=!0}))},goMedOrderDetail:function(t){var e={prescriptionId:t};n.native.go("/pages/drugOrderDetail/orderDetail/orderDetail","/orderDetail",e)}}};e.default=o},"775d":function(t,e,a){"use strict";a.r(e);var i=a("ded9"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"794a":function(t,e,a){"use strict";a.r(e);var i=a("e813c"),n=a("e8f6");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("1eb4");var r,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"1d972f61",null,!1,i["a"],r);e["default"]=l.exports},8433:function(t,e,a){t.exports=a.p+"static/img/button.7d2c0542.png"},8911:function(t,e,a){var i=a("f498");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("2481d4b4",i,!0,{sourceMap:!1,shadowMode:!1})},"930a":function(t,e,a){"use strict";a.r(e);var i=a("9b68"),n=a("775d");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("4b2e");var r,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4c35cd1b",null,!1,i["a"],r);e["default"]=l.exports},"96cf":function(t,e){!function(e){"use strict";var a,i=Object.prototype,n=i.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"===typeof t,d=e.regeneratorRuntime;if(d)c&&(t.exports=d);else{d=e.regeneratorRuntime=c?t.exports:{},d.wrap=w;var f="suspendedStart",m="suspendedYield",u="executing",h="completed",v={},p={};p[r]=function(){return this};var _=Object.getPrototypeOf,g=_&&_(_(E([])));g&&g!==i&&n.call(g,r)&&(p=g);var b=T.prototype=D.prototype=Object.create(p);C.prototype=b.constructor=T,T.constructor=C,T[l]=C.displayName="GeneratorFunction",d.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},d.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(b),t},d.awrap=function(t){return{__await:t}},S(y.prototype),y.prototype[s]=function(){return this},d.AsyncIterator=y,d.async=function(t,e,a,i){var n=new y(w(t,e,a,i));return d.isGeneratorFunction(e)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},S(b),b[l]="Generator",b[r]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){while(e.length){var i=e.pop();if(i in t)return a.value=i,a.done=!1,a}return a.done=!0,a}},d.values=E,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return s.type="throw",s.arg=t,e.next=i,n&&(e.method="next",e.arg=a),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),M(a),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var n=i.arg;M(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:E(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=a),v}}}function w(t,e,a,i){var n=e&&e.prototype instanceof D?e:D,o=Object.create(n.prototype),r=new P(i||[]);return o._invoke=I(t,a,r),o}function x(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(i){return{type:"throw",arg:i}}}function D(){}function C(){}function T(){}function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){function e(a,i,o,r){var s=x(t[a],t,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"===typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,r)}),(function(t){e("throw",t,o,r)})):Promise.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,r)}))}r(s.arg)}var a;function i(t,i){function n(){return new Promise((function(a,n){e(t,i,a,n)}))}return a=a?a.then(n,n):n()}this._invoke=i}function I(t,e,a){var i=f;return function(n,o){if(i===u)throw new Error("Generator is already running");if(i===h){if("throw"===n)throw o;return A()}a.method=n,a.arg=o;while(1){var r=a.delegate;if(r){var s=k(r,a);if(s){if(s===v)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===f)throw i=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=u;var l=x(t,e,a);if("normal"===l.type){if(i=a.done?h:m,l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(i=h,a.method="throw",a.arg=l.arg)}}}function k(t,e){var i=t.iterator[e.method];if(i===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=a,k(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=x(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=a),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function E(t){if(t){var e=t[r];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){while(++i<t.length)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=a,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:a,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"9b68":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showService?a("v-uni-view",{staticClass:"fixedPopup servicePopup"},[a("v-uni-view",{staticClass:"fixedPopup-content"},[a("v-uni-view",{staticClass:"consult-image"},[a("i",{staticClass:"icon-service"}),a("i",{staticClass:"iconfont2 icon_pop_up_cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showService=!1}}})]),a("v-uni-view",{staticClass:"service"},[a("v-uni-view",{staticClass:"service-content"},[t.kfInfo.kfurlVar?a("v-uni-view",{class:t.kfInfo.showKfPhone?"":"noBorder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCustomerService.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"flex-between flex-center-v"},[a("v-uni-view",{staticClass:"flex-center-v"},[a("i",{staticClass:"iconfont1 icon_icon_customer_service_little1"}),a("v-uni-view",{staticClass:"fz-32 c-222"},[t._v("在线客服")])],1),a("i",{staticClass:"iconfont1 icon_icon_jump_02 fz-24"})],1)],1):t._e(),t.kfInfo.showKfPhone?a("v-uni-view",{staticClass:"noBorder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.callPhone(t.kfInfo.kfPhone)}}},[a("v-uni-view",{staticClass:"flex-between flex-center-v"},[a("v-uni-view",{staticClass:"flex-center-v"},[a("i",{staticClass:"iconfont3 icon_offline_telephone"}),a("v-uni-view",{staticClass:"fz-32 c-222"},[t._v(t._s(t.kfInfo.kfPhone))])],1),a("i",{staticClass:"iconfont1 icon_icon_jump_02 fz-24"})],1),a("v-uni-view",{staticClass:"workTime"},[a("v-uni-view",{staticClass:"fz-32 c-222"},[a("v-uni-text",{staticClass:"fz-32 c-666"},[t._v("工作时间：")]),t._v(t._s(t.kfInfo.kfWorkTime))],1)],1)],1):t._e()],1)],1)],1)],1):t._e()},o=[]},"9cb6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAoCAYAAADHVmuAAAAAAXNSR0IArs4c6QAAAJhJREFUOE9jZICC/20iPgyMDIUMDIymEKH/pxn+M/QzVr3ZAuIxgoXahFsZmJgqGf5D+HDAyPCf4d+/dsaqt9WMYJOYGDdhKIKpBiv+78f4v11kLwMDoxOKSRic//sY/7eLfmJgYODFr5DhMykKibWaWM8QHTwkBTgBH4OlUWMCj45RhXiDczR4hk/wjJZmmHEJKkgHrDQDAEUnf02pQlbmAAAAAElFTkSuQmCC"},"9f4b":function(t,e,a){t.exports=a.p+"static/img/loading.d3398771.gif"},a7d0:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6"),a("20d6"),a("6b54"),a("ac6a"),a("a481"),a("3b2b"),a("96cf");var n=i(a("1da1")),o=i(a("268c")),r=i(a("4b4e")),s=a("ca00"),l=a("b379"),c=i(a("f121")),d=a("7f95"),f=a("0aa3"),m=a("3de1"),u=a("70a4"),h=a("f8b7"),v=i(a("930a")),p=i(a("00b5")),_={data:function(){return{isInWx:c.default.isInWx,isPortalApp:c.default.isPortalApp,isWxAPP:c.default.isWxAPP,SERVICECODE:l.SERVICECODE,show:!1,loading:!0,loadScroll:!1,scrollTop:"",orderDetail:"",status:"",timePayInterval:"",payResidueTime:"",imgTxtInterval:null,imgTxtCountDownTime:null,imgTxtInterval1:null,imgTxtCountDownTime1:null,inquiryFileList:[],leftMinu:0,fileUrl:c.default.fileUrl,onlineMess:{},imgList:[],showAssessIntro:!1,titleName:"订单详情",prescriptionList:[],firstComing:!0,scrollHeight:0,noDataHeight:0}},components:{CustomModal:r.default,navBar:o.default,CustomerServicePopup:v.default,PrescriptionPopup:p.default},props:{chargeId:"",showBack:Boolean,isCognitive:!1},created:function(){this.scrollTop=0,this.firstComing&&this.getOrderDetail(this.chargeId)},mounted:function(){this.firstComing||this.getOrderDetail(this.chargeId)},methods:{txtSubstring:function(t,e,a){return(0,m.txtSubstring)(t,e,a)},setFormatTimeStr:function(t){return(0,m.setFormatTimeStr)(t)},receiveSocketMsg:function(t){var e=t.content;console.log("订单详情接收socket",t),t.code==l.SOCKETCODE.MESSAGE&&this.orderDetail.visitCharge.imDialogId==t.content.dialogId?this.orderDetail.imDialogDto.unReadNum=this.orderDetail.imDialogDto.unReadNum+1:(t.code==l.SOCKETCODE.ORDER_CHANGE&&this.chargeId==t.content.visitCharge.id||t.code==l.SOCKETCODE.CHANGE_ASSESS_TIME&&e.orgVideoChargeId&&e.orgVideoChargeId==this.chargeId)&&this.getOrderDetail(this.chargeId)},goSubsequentCertificatePage:function(){var t={id:this.orderDetail.subsequent.proofBusinessId};m.native.go("/pages/personal/subsequent/certificate/certificate","/certificate",t)},imageError:function(t,e){this.orderDetail.therapistIcon=(0,m.getDefaultIcon)(e,"")},imageHistoryError:function(t,e){this.orderDetail.doctorIcon=(0,m.getDefaultIcon)(e,"DOCTOR")},refresh:function(t){this.loadScroll=!0,this.loading=!0,this.getOrderDetail(this.chargeId)},scroll:function(){},getChargeStatus:function(t){return(0,m.getChargeStatus)(t)},unitChangeMoney:function(t){return(0,m.unitChangeMoney)(t)},showPackOrderStatus:function(t,e){return(0,m.showPackOrderStatus)(t,e)},getPayStatusName:function(t){return(0,m.getPayStatusName)(t)},assessStatusTxt:function(t){return(0,m.assessStatusTxt)(t)},previewImg:function(t,e){var a=e.map((function(t){return t.fileContent}));uni.previewImage({current:t,urls:a,success:function(t){}})},isOverTime:function(){var t=0;return"03"==this.orderDetail.packStatus&&"00"==this.orderDetail.cogApprStatus&&2==this.orderDetail.chargeStatus&&1==this.orderDetail.swapping&&(t=this.countSchudeuleLeftTime()<0?1:2),t},getServiceInfo:function(){this.$refs.myCustomerServicePopup.getServiceInfo()},relevantOrder:function(t){var e=new Promise((function(e,a){(0,f.recipeRelevantDrug)({prescriptionId:t}).then((function(t){if("000"==t.errorCode){var a=!t.entity.ordered;e(a)}}))}));return e},getPrescriptionPopup:function(t){var e={id:t.medPrescriptionId};m.native.go("/pages/personal/subsequent/recipeDetail/recipeDetail","/recipeDetail",e)},goBelongUnitPage:function(){var t={type:"getWebsite"};m.native.go("/pages/shareScreen/belongUnit/belongUnit","/belongUnit",t)},callPhone:function(t){uni.makePhoneCall({phoneNumber:t})},getReportPage:function(t){var e=this.orderDetail.visitCharge.businessType==l.SERVICECODE.READ?"SER":"0"==this.orderDetail.intellectDiag?"SSR":"GLR",a={packOrderId:t,type:e,chargeId:this.chargeId};m.native.go("/pages/assessReport/report/report","/assessReport",a)},goEvaluate:function(t){var e={chargeId:this.chargeId,type:t};m.native.go("/pages/doctor/evaluate/evaluate","/evaluate",e)},goDoctorDetailPage:function(){var t={serviceType:this.orderDetail.visitCharge.businessType,showSchedule:!0,doctorId:this.orderDetail.doctor.uid};m.native.go("/pages/doctor/detail/detail","/doctorDetail",t)},openOfflineAssess:function(){this.orderDetail.id,this.orderDetail.visitCharge.id},toPay:function(t){var e=this,a={chargeId:t};(0,u.getVisitOrderByOrder)(a).then((function(i){if("000"==i.errorCode){var n=i.entity.status;2==n?(m.native.toast("支付失败，号源已失效"),e.getOrderDetail(t)):6==n?(0,h.isPaid)(a).then((function(a){if("SUCCESS"==a.entity)m.native.toast("该订单已完成支付"),e.getOrderDetail(t);else if("FAIL"==a.entity)m.native.toast("订单支付失败");else{var i={chargeId:t,type:"consultOrder"};i.h5ReturnUrl=c.default.currentApps.ymUrl+"/payBack?chargeId="+t,(0,d.h5Pay)(i,(function(t,e){"success"==t&&(setStorage("couponUseItem",""),window.location.href=e+"&showNav=false")}))}})):(m.native.toast("当前订单状态已变化"),e.getOrderDetail(t))}else m.native.toast(i.message)}))},cancelOrder:function(){var t={operationType:1,visitId:this.orderDetail.visitOrder.visitId},e=this,a=uni.getStorageSync("wxWaitBackChargeId");a!=this.orderDetail.orgVideoChargeId?m.native.getLiningInfo(t,a)&&m.native.modal({title:"确定取消订单？",showCancel:!0,cancelText:"不取消",confirmText:"确定",content:"",success:function(t){var a={chargeId:e.orderDetail.visitCharge.id};e.cancelVisitForFreeChargeCall(a)}}):m.native.toast("当前正在候诊，请先取消候诊")},cancelVisitForFreeChargeCall:function(t){var e=this;(0,h.patientCancel)(t).then((function(t){"000"==t.errorCode?(m.native.toast(t.message),e.getOrderDetail(e.chargeId)):"030"==t.errorCode?(m.native.toast("订单状态已改变"),e.getOrderDetail(e.chargeId)):m.native.toast(t.message)}))},goVideoAssess:function(){this.$refs["myCustomModal"].goVideoAssess(this.chargeId)},goComVideoAssess:function(){var t=this;(0,h.getChargeDetail)({chargeId:this.chargeId}).then((function(e){if("000"==e.errorCode){var a={};for(var i in e.entity)if(e.entity[i]){a=e.entity[i];break}var n=a.cognitionServicePack||{};n&&a.cognitionServicePack.swapping?(m.native.toast("对方繁忙"),t.getOrderDetail(t.chargeId)):t.goVideoAssess()}}))},goAdvicePage:function(t){m.native.go("/pages/adviceDetail/adviceDetail","/adviceDetail",{visitId:t})},countLeftTime:function(){return(0,m.getTimeCount)((0,s.getServiceTime)(),this.orderDetail.orderDate+" "+this.orderDetail.orderPoint)},countSchudeuleLeftTime:function(){return(0,m.getTimeCount)(this.orderDetail.doctorDiagnoseDate+" "+this.orderDetail.diagnoseScheduleEndTime,(0,s.getServiceTime)())},goConsult:function(){if(this.orderDetail.visitCharge.businessType==l.SERVICECODE.IMGTXTCONSULT)this.goChatDetail();else{var t={visitId:this.orderDetail.visitOrder.visitId,chargeId:this.chargeId,chargeStatus:this.orderDetail.status};this.$refs["myCustomModal"].patientCallDoctor(t)}},setIntervalFun:function(){var t=this;t.leftMinu=t.countLeftTime(),null!=t.waitingInfoInter&&(clearInterval(t.waitingInfoInter),t.waitingInfoInter=null),2==t.status&&t.countLeftTime()<=1800?(t.patientAssessWaitingInfo(),t.waitingInfoInter=setInterval((function(){t.patientAssessWaitingInfo()}),3e4)):2==t.status&&t.countLeftTime()>1800&&(t.timeInder=setInterval((function(){t.countLeftTime()<=1800&&(clearInterval(t.timeInder),t.timeInder=null,t.patientAssessWaitingInfo(),t.waitingInfoInter=setInterval((function(){t.patientAssessWaitingInfo()}),3e4)),t.leftMinu=t.countLeftTime()}),6e4))},getOrderDetail:function(t){var e=this,a={chargeId:t};(0,h.getChargeDetail)(a).then(function(){var a=(0,n.default)(regeneratorRuntime.mark((function a(i){var n,o,r,c,d,f,u,h,v,p,_,g,b,w,x,D,C;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(m.native.showLoading(),n=e,"000"!=i.errorCode){a.next=79;break}e.loadScroll&&(e.loading=!1,e.loadScroll=!1,e.scrollTop=0),o={},a.t0=regeneratorRuntime.keys(i.entity);case 6:if((a.t1=a.t0()).done){a.next=13;break}if(r=a.t1.value,!i.entity[r]){a.next=11;break}return o=i.entity[r],a.abrupt("break",13);case 11:a.next=6;break;case 13:if(c=o.visitInfo,d=o.visitOrder||{},f=o.visitCharge,u=o.visitSignInfo,h=o.cognitionServicePack||{},h.doctor=o.doctor||{},o.diagnosises&&(v=[],o.diagnosises.map((function(t){t.doubt?v.push(t.diagnosisName+"(疑诊)"):v.push(t.diagnosisName)})),c.diagnosis=v.toString()),p=o.doctor||{},_=o.patient,g=o.therapist||{},h.cognitionAssessScale=o.cognitionAssessScale,h.evaluateFlag=f.isEvaluate,h.countLimit=c.countLimit,h.status=f.status,h.chargeStatus=(0,m.getChargeStatus)(f.status),h.visitOrder=d,h.visitSignInfo=u,h.visitCharge=f,h.visitInfo=c,h.doctorIcon=p.icon?e.fileUrl+p.icon:"undefined",h.doctorLevelName=p.jobLevelName,f.businessType==l.SERVICECODE.IMGTXTCONSULT?h.doctorHosName=p.hospitalName:(h.orderDate=d.scheduleDate,h.orderPoint=d.point),h.doctorSex=p.sex,h.coupon=o.paymentInfo,h.couponMoney=o.paymentInfo.couponDiscountAmount?o.paymentInfo.couponDiscountAmount:0,h.patientIcon=_.icon,h.patientSex=_.sex,h.patientAge=_.age,h.patientName=_.name,h.therapistName=g.name,h.therapistIcon=g.icon?e.fileUrl+g.icon:"undefined",h.therapistSex=g.sex,h.doctorDiagnoseDate=d.scheduleDate||h.doctorDiagnoseDate,h.diagnoseBeginTime=d.point||h.diagnoseBeginTime,h.orgDoctorName=p.name,h.patientId=_.uid,h.id=o.cognitionAssessExplain?o.cognitionAssessExplain.id:h.id,h.intellectDiag=f.intellectDiag,h.cogrecCoopmode=c.cogrecCoopmode,h.orgVideoChargeId=f.id,h.subsequent=o.subsequent,h.extension=o.extension,!f.imDialogId){a.next=59;break}return a.next=58,e.countUnreadNum(_.uid,1,f.imDialogId).then((function(t){return t}));case 58:h.imDialogDto=a.sent;case 59:b=(0,s.getServiceTime)().substring(0,10),h.diffDays=(0,m.getDifferDays)(b,h.doctorDiagnoseDate),e.orderDetail=h,e.status=(0,m.getPackOrderStatus)(e.orderDetail,h.chargeStatus),e.getInquiryFileList(o.fileList),e.setIntervalFun(),o.cognitionServicePack||(e.orderDetail.cogApprStatus="00"),clearInterval(n.timePayInterval),e.payResidueTime="",w=new RegExp("-","g"),x=Date.parse(new Date((new Date).Format("yyyy-MM-dd hh:mm:ss").replace(w,"/"))),D=null,1==e.status&&(D=Date.parse(new Date(f.createTime.replace(w,"/")))+9e5,C=e.timeCalculation(x,D),n.timePayInterval=setInterval((function(){if(C>0){C--;var t=Math.floor(C/60),e=C%60;t=t>=10?t:"0"+t,e=e>=10?e:"0"+e,n.payResidueTime=t+"分"+e+"秒"}else n.payResidueTime="0秒",clearInterval(n.timePayInterval)}),1e3)),12==e.status&&f.businessType==l.SERVICECODE.IMGTXTCONSULT&&(D=-1==f.receiveExpiryTimes?Date.parse(new Date(f.createTime.replace(w,"/")))+864e5:Date.parse(new Date(f.createTime.replace(w,"/")))+60*f.receiveExpiryTimes*1e3,n.imgTxtCountDownTime=e.timeCalculation(x,D),n.imgTxtInterval=setInterval((function(){n.imgTxtCountDownTime--,n.imgTxtCountDownTime<=0&&clearInterval(n.imgTxtInterval)}),1e3)),14==e.status&&f.businessType==l.SERVICECODE.IMGTXTCONSULT&&(D=Date.parse(new Date(f.operTime.substring(0,19).replace(w,"/")))+60*f.serviceTimes*1e3,n.imgTxtCountDownTime1=e.timeCalculation(x,D),n.imgTxtInterval1=setInterval((function(){n.imgTxtCountDownTime1--,n.imgTxtCountDownTime1<=0&&clearInterval(n.imgTxtInterval1)}),1e3)),f.businessType!=l.SERVICECODE.VIDEOCONSULT&&f.businessType!=l.SERVICECODE.IMGTXTCONSULT||10!=e.status&&16!=e.status||!e.firstComing?m.native.hideLoading():(e.getListPrescription(t),e.firstComing=!1),e.$nextTick((function(){setTimeout((function(){var t=uni.createSelectorQuery().in(e);t.select(".bottom-buttonList").boundingClientRect(),t.select(".navBar").boundingClientRect(),t.exec((function(t){if(t[0])if(e.isInWx)e.isInWx&&!e.isWxAPP?e.scrollHeight=uni.getWindowInfo().windowHeight-t[0].height+"px":e.scrollHeight=uni.getWindowInfo().windowHeight-t[0].height-88+"px";else{var a=document.getElementsByClassName("navBar-content"),i=a[0].clientHeight;e.scrollHeight=e.pad?document.body.scrollHeight-t[0].height-t[1].height+"px":document.body.scrollHeight-t[0].height-i+"px"}else if(!e.isInWx){var n=document.getElementsByClassName("navBar-content"),o=n[0].clientHeight;e.noDataHeight=e.pad?document.body.scrollHeight-t[1].height+"px":document.body.scrollHeight-o+"px"}}))}))})),e.show=!0,a.next=81;break;case 79:m.native.toast(i.message),m.native.hideLoading();case 81:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},timeCalculation:function(t,e){var a=e-t;return a/=1e3,a},getListPrescription:function(t){var e=this;(0,h.listPrescription)(t).then(function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(a){var i,n,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("000"!=a.errorCode){t.next=16;break}if(e.prescriptionList=a.entity,-1==a.entity.findIndex((function(t){return 4==t.medPrescriptionStatus}))){t.next=16;break}i=[],a.entity.map((function(t){4==t.medPrescriptionStatus&&i.push(t.medPrescriptionId)})),n=!1,o=e.prescriptionList.filter((function(t){return 4==t.medPrescriptionStatus})),r=0;case 8:if(!(r<i.length)){t.next=15;break}return t.next=11,e.relevantOrder(o[r].medPrescriptionId);case 11:n=t.sent;case 12:r++,t.next=8;break;case 15:n&&e.$refs.myPrescriptionPopup.getPresciptionInfo(i.toString());case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){m.native.hideLoading()}))},countUnreadNum:function(t,e,a){var i=new Promise((function(i,n){var o={userId:t,userRole:e,dialogIds:a};(0,u.countUnreadNumWithDialogIds)(o).then((function(t){if("000"==t.errorCode){var e=a,n=t.entity[e];i({unReadNum:n})}}))}));return i},patientAssessWaitingInfo:function(){var t=this,e={packOrderId:this.orderDetail.id};(0,h.getPatientAssessWaitingInfo)(e).then((function(e){"000"==e.errorCode&&(t.onlineMess=e.entity)}))},getInquiryFileList:function(t){var e=this;e.inquiryFileList=[],e.imgList=[],t.forEach((function(t){var a={id:t.id,fileContent:e.fileUrl+t.filePath};e.imgList.push(a.fileContent),e.inquiryFileList.push(a)}))},goUpdateConsultPage:function(t){m.native.go("/pages/updateConsult/updateConsult","/updateConsult",{chargeId:t,refreshPage:!0})},getDateFormat2:function(t){if(t){var e=t.substring(0,4)+"年"+Number(t.substring(5,7))+"月"+Number(t.substring(8,10))+"日";return e}},copyOrderNum:function(t){uni.setClipboardData({data:t,showToast:!1,success:function(){m.native.toast("已复制")}})},formatDateChinese:function(t){return t=new Date(t.replace(/-/g,"/")).getTime(),(0,m.formatDateChinese)(t)},goChatDetail:function(){var t={type:"chatDetail",id:this.chargeId,dialogId:this.orderDetail.visitCharge.imDialogId};m.native.go("/pages/myConsult/myConsult","/myConsult",t)}}};e.default=_},b5fe:function(t,e,a){var i=a("0e11");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("75f23274",i,!0,{sourceMap:!1,shadowMode:!1})},bd6b:function(t,e,a){"use strict";a.r(e);var i=a("5070"),n=a("dbb7");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("4531");var r,s=a("f0c5"),l=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"fbd1fb76",null,!1,i["a"],r);e["default"]=l.exports},c51a:function(t,e){(function(){"use strict";function t(){var e=function(t){return Math.log(t)/Math.log(10)};function a(t){return new Int8Array(t)}function i(t){return new Int16Array(t)}function n(t){return new Int32Array(t)}function o(t){return new Float32Array(t)}function r(t){return new Float64Array(t)}function s(t){if(1==t.length)return o(t[0]);var e=t[0];t=t.slice(1);for(var a=[],i=0;i<e;i++)a.push(s(t));return a}function l(t){if(1==t.length)return n(t[0]);var e=t[0];t=t.slice(1);for(var a=[],i=0;i<e;i++)a.push(l(t));return a}function c(t){if(1==t.length)return i(t[0]);var e=t[0];t=t.slice(1);for(var a=[],n=0;n<e;n++)a.push(c(t));return a}function d(t){if(1==t.length)return new Array(t[0]);var e=t[0];t=t.slice(1);for(var a=[],i=0;i<e;i++)a.push(d(t));return a}var f={fill:function(t,e,a,i){if(2==arguments.length)for(var n=0;n<t.length;n++)t[n]=arguments[1];else for(n=e;n<a;n++)t[n]=i}},m={arraycopy:function(t,e,a,i,n){var o=e+n;while(e<o)a[i++]=t[e++]}},u={};function h(t){this.ordinal=t}u.SQRT2=1.4142135623730951,u.FAST_LOG10=function(t){return e(t)},u.FAST_LOG10_X=function(t,a){return e(t)*a},h.short_block_allowed=new h(0),h.short_block_coupled=new h(1),h.short_block_dispensed=new h(2),h.short_block_forced=new h(3);var v={};function p(t){this.ordinal=t}v.MAX_VALUE=34028235e31,p.vbr_off=new p(0),p.vbr_mt=new p(1),p.vbr_rh=new p(2),p.vbr_abr=new p(3),p.vbr_mtrh=new p(4),p.vbr_default=p.vbr_mtrh;function _(t){var e=t;this.ordinal=function(){return e}}function g(){var t="http://www.mp3dev.org/",e=3,a=98,i=4,n=0,o=93;this.getLameVersion=function(){return e+"."+a+"."+i},this.getLameShortVersion=function(){return e+"."+a+"."+i},this.getLameVeryShortVersion=function(){return"LAME"+e+"."+a+"r"},this.getPsyVersion=function(){return n+"."+o},this.getLameUrl=function(){return t},this.getLameOsBitness=function(){return"32bits"}}function b(){var t=null;function e(t){this.bits=0|t}this.qupvt=null,this.setModules=function(e){this.qupvt=e,t=e};var a=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function i(t,e,a,i,n,o){var r=.5946/e;t>>=1;while(0!=t--)n[o++]=r>a[i++]?0:1,n[o++]=r>a[i++]?0:1}function o(e,a,i,n,o,r){e>>=1;var s=e%2;e>>=1;while(0!=e--){var l,c,d,f,m,u,h,v;l=i[n++]*a,c=i[n++]*a,m=0|l,d=i[n++]*a,u=0|c,f=i[n++]*a,h=0|d,l+=t.adj43[m],v=0|f,c+=t.adj43[u],o[r++]=0|l,d+=t.adj43[h],o[r++]=0|c,f+=t.adj43[v],o[r++]=0|d,o[r++]=0|f}0!=s&&(l=i[n++]*a,c=i[n++]*a,m=0|l,u=0|c,l+=t.adj43[m],c+=t.adj43[u],o[r++]=0|l,o[r++]=0|c)}function r(e,a,n,r,s){var l,c,d,m=0,u=0,h=0,v=0,p=a,_=0,g=p,b=0,w=e,x=0;for(d=null!=s&&r.global_gain==s.global_gain,c=r.block_type==U.SHORT_TYPE?38:21,l=0;l<=c;l++){var D=-1;if((d||r.block_type==U.NORM_TYPE)&&(D=r.global_gain-(r.scalefac[l]+(0!=r.preflag?t.pretab[l]:0)<<r.scalefac_scale+1)-8*r.subblock_gain[r.window[l]]),d&&s.step[l]==D)0!=u&&(o(u,n,w,x,g,b),u=0),0!=h&&(i(h,n,w,x,g,b),h=0);else{var C,T=r.width[l];if(m+r.width[l]>r.max_nonzero_coeff)C=r.max_nonzero_coeff-m+1,f.fill(a,r.max_nonzero_coeff,576,0),T=C,T<0&&(T=0),l=c+1;if(0==u&&0==h&&(g=p,b=_,w=e,x=v),null!=s&&s.sfb_count1>0&&l>=s.sfb_count1&&s.step[l]>0&&D>=s.step[l]?(0!=u&&(o(u,n,w,x,g,b),u=0,g=p,b=_,w=e,x=v),h+=T):(0!=h&&(i(h,n,w,x,g,b),h=0,g=p,b=_,w=e,x=v),u+=T),T<=0){0!=h&&(i(h,n,w,x,g,b),h=0),0!=u&&(o(u,n,w,x,g,b),u=0);break}}l<=c&&(_+=r.width[l],v+=r.width[l],m+=r.width[l])}0!=u&&(o(u,n,w,x,g,b),u=0),0!=h&&(i(h,n,w,x,g,b),h=0)}function s(t,e,a){var i=0,n=0;do{var o=t[e++],r=t[e++];i<o&&(i=o),n<r&&(n=r)}while(e<a);return i<n&&(i=n),i}function l(t,e,a,i,n,o){var r,s=65536*y.ht[i].xlen+y.ht[n].xlen,l=0;do{var c=t[e++],d=t[e++];0!=c&&(c>14&&(c=15,l+=s),c*=16),0!=d&&(d>14&&(d=15,l+=s),c+=d),l+=y.largetbl[c]}while(e<a);return r=65535&l,l>>=16,l>r&&(l=r,i=n),o.bits+=l,i}function c(t,e,a,i){var n=0,o=y.ht[1].hlen;do{var r=2*t[e+0]+t[e+1];e+=2,n+=o[r]}while(e<a);return i.bits+=n,1}function d(t,e,a,i,n){var o,r,s=0,l=y.ht[i].xlen;r=2==i?y.table23:y.table56;do{var c=t[e+0]*l+t[e+1];e+=2,s+=r[c]}while(e<a);return o=65535&s,s>>=16,s>o&&(s=o,i++),n.bits+=s,i}function u(t,e,a,i,n){var o=0,r=0,s=0,l=y.ht[i].xlen,c=y.ht[i].hlen,d=y.ht[i+1].hlen,f=y.ht[i+2].hlen;do{var m=t[e+0]*l+t[e+1];e+=2,o+=c[m],r+=d[m],s+=f[m]}while(e<a);var u=i;return o>r&&(o=r,u++),o>s&&(o=s,u=i+2),n.bits+=o,u}var h=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function v(t,e,a,i){var n=s(t,e,a);switch(n){case 0:return n;case 1:return c(t,e,a,i);case 2:case 3:return d(t,e,a,h[n-1],i);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return u(t,e,a,h[n-1],i);default:if(n>O.IXMAX_VAL)return i.bits=O.LARGE_BITS,-1;var o,r;for(n-=15,o=24;o<32;o++)if(y.ht[o].linmax>=n)break;for(r=o-8;r<24;r++)if(y.ht[r].linmax>=n)break;return l(t,e,a,r,o,i)}}function p(t,a,i,n,o,r,s){for(var l=a.big_values,c=0;c<=22;c++)n[c]=O.LARGE_BITS;for(c=0;c<16;c++){var d=t.scalefac_band.l[c+1];if(d>=l)break;var f=0,m=new e(f),u=v(i,0,d,m);f=m.bits;for(var h=0;h<8;h++){var p=t.scalefac_band.l[c+h+2];if(p>=l)break;var _=f;m=new e(_);var g=v(i,d,p,m);_=m.bits,n[c+h]>_&&(n[c+h]=_,o[c+h]=c,r[c+h]=u,s[c+h]=g)}}}function _(t,a,i,n,o,r,s,l){for(var c=a.big_values,d=2;d<U.SBMAX_l+1;d++){var f=t.scalefac_band.l[d];if(f>=c)break;var m=o[d-2]+a.count1bits;if(i.part2_3_length<=m)break;var u=new e(m),h=v(n,f,c,u);m=u.bits,i.part2_3_length<=m||(i.assign(a),i.part2_3_length=m,i.region0_count=r[d-2],i.region1_count=d-2-r[d-2],i.table_select[0]=s[d-2],i.table_select[1]=l[d-2],i.table_select[2]=h)}}this.noquant_count_bits=function(t,a,i){var n=a.l3_enc,o=Math.min(576,a.max_nonzero_coeff+2>>1<<1);for(null!=i&&(i.sfb_count1=0);o>1;o-=2)if(0!=(n[o-1]|n[o-2]))break;a.count1=o;for(var r=0,s=0;o>3;o-=4){var l;if((2147483647&(n[o-1]|n[o-2]|n[o-3]|n[o-4]))>1)break;l=2*(2*(2*n[o-4]+n[o-3])+n[o-2])+n[o-1],r+=y.t32l[l],s+=y.t33l[l]}var c=r;if(a.count1table_select=0,r>s&&(c=s,a.count1table_select=1),a.count1bits=c,a.big_values=o,0==o)return c;if(a.block_type==U.SHORT_TYPE)r=3*t.scalefac_band.s[3],r>a.big_values&&(r=a.big_values),s=a.big_values;else if(a.block_type==U.NORM_TYPE){if(r=a.region0_count=t.bv_scf[o-2],s=a.region1_count=t.bv_scf[o-1],s=t.scalefac_band.l[r+s+2],r=t.scalefac_band.l[r+1],s<o){var d=new e(c);a.table_select[2]=v(n,s,o,d),c=d.bits}}else a.region0_count=7,a.region1_count=U.SBMAX_l-1-7-1,r=t.scalefac_band.l[8],s=o,r>s&&(r=s);if(r=Math.min(r,o),s=Math.min(s,o),0<r){d=new e(c);a.table_select[0]=v(n,0,r,d),c=d.bits}if(r<s){d=new e(c);a.table_select[1]=v(n,r,s,d),c=d.bits}if(2==t.use_best_huffman&&(a.part2_3_length=c,best_huffman_divide(t,a),c=a.part2_3_length),null!=i&&a.block_type==U.NORM_TYPE){var f=0;while(t.scalefac_band.l[f]<a.big_values)f++;i.sfb_count1=f}return c},this.count_bits=function(e,a,i,n){var o=i.l3_enc,s=O.IXMAX_VAL/t.IPOW20(i.global_gain);if(i.xrpow_max>s)return O.LARGE_BITS;if(r(a,o,t.IPOW20(i.global_gain),i,n),0!=(2&e.substep_shaping))for(var l=0,c=i.global_gain+i.scalefac_scale,d=.634521682242439/t.IPOW20(c),f=0;f<i.sfbmax;f++){var m,u=i.width[f];if(0==e.pseudohalf[f])l+=u;else for(m=l,l+=u;m<l;++m)o[m]=a[m]>=d?o[m]:0}return this.noquant_count_bits(e,i,n)},this.best_huffman_divide=function(t,a){var i=new N,o=a.l3_enc,r=n(23),s=n(23),l=n(23),c=n(23);if(a.block_type!=U.SHORT_TYPE||1!=t.mode_gr){i.assign(a),a.block_type==U.NORM_TYPE&&(p(t,a,o,r,s,l,c),_(t,i,a,o,r,s,l,c));var d=i.big_values;if(!(0==d||(o[d-2]|o[d-1])>1)&&(d=a.count1+2,!(d>576))){i.assign(a),i.count1=d;for(var f=0,m=0;d>i.big_values;d-=4){var u=2*(2*(2*o[d-4]+o[d-3])+o[d-2])+o[d-1];f+=y.t32l[u],m+=y.t33l[u]}if(i.big_values=d,i.count1table_select=0,f>m&&(f=m,i.count1table_select=1),i.count1bits=f,i.block_type==U.NORM_TYPE)_(t,i,a,o,r,s,l,c);else{if(i.part2_3_length=f,f=t.scalefac_band.l[8],f>d&&(f=d),f>0){var h=new e(i.part2_3_length);i.table_select[0]=v(o,0,f,h),i.part2_3_length=h.bits}if(d>f){h=new e(i.part2_3_length);i.table_select[1]=v(o,f,d,h),i.part2_3_length=h.bits}a.part2_3_length>i.part2_3_length&&a.assign(i)}}}};var g=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],w=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],x=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],D=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];function C(t,e){for(var a,i=e.tt[1][t],n=e.tt[0][t],o=0;o<y.scfsi_band.length-1;o++){for(a=y.scfsi_band[o];a<y.scfsi_band[o+1];a++)if(n.scalefac[a]!=i.scalefac[a]&&i.scalefac[a]>=0)break;if(a==y.scfsi_band[o+1]){for(a=y.scfsi_band[o];a<y.scfsi_band[o+1];a++)i.scalefac[a]=-1;e.scfsi[t][o]=1}}var r=0,s=0;for(a=0;a<11;a++)-1!=i.scalefac[a]&&(s++,r<i.scalefac[a]&&(r=i.scalefac[a]));for(var l=0,c=0;a<U.SBPSY_l;a++)-1!=i.scalefac[a]&&(c++,l<i.scalefac[a]&&(l=i.scalefac[a]));for(o=0;o<16;o++)if(r<g[o]&&l<w[o]){var d=x[o]*s+D[o]*c;i.part2_length>d&&(i.part2_length=d,i.scalefac_compress=o)}}b.slen1_tab=x,b.slen2_tab=D,this.best_scalefac_store=function(e,a,i,n){var o,r,s,l,c=n.tt[a][i],d=0;for(s=0,o=0;o<c.sfbmax;o++){var f=c.width[o];for(s+=f,l=-f;l<0;l++)if(0!=c.l3_enc[l+s])break;0==l&&(c.scalefac[o]=d=-2)}if(0==c.scalefac_scale&&0==c.preflag){var m=0;for(o=0;o<c.sfbmax;o++)c.scalefac[o]>0&&(m|=c.scalefac[o]);if(0==(1&m)&&0!=m){for(o=0;o<c.sfbmax;o++)c.scalefac[o]>0&&(c.scalefac[o]>>=1);c.scalefac_scale=d=1}}if(0==c.preflag&&c.block_type!=U.SHORT_TYPE&&2==e.mode_gr){for(o=11;o<U.SBPSY_l;o++)if(c.scalefac[o]<t.pretab[o]&&-2!=c.scalefac[o])break;if(o==U.SBPSY_l){for(o=11;o<U.SBPSY_l;o++)c.scalefac[o]>0&&(c.scalefac[o]-=t.pretab[o]);c.preflag=d=1}}for(r=0;r<4;r++)n.scfsi[i][r]=0;for(2==e.mode_gr&&1==a&&n.tt[0][i].block_type!=U.SHORT_TYPE&&n.tt[1][i].block_type!=U.SHORT_TYPE&&(C(i,n),d=0),o=0;o<c.sfbmax;o++)-2==c.scalefac[o]&&(c.scalefac[o]=0);0!=d&&(2==e.mode_gr?this.scale_bitcount(c):this.scale_bitcount_lsf(e,c))};var T=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],S=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],I=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(e){var a,i,n,o=0,r=0,s=e.scalefac;if(e.block_type==U.SHORT_TYPE)n=T,0!=e.mixed_block_flag&&(n=S);else if(n=I,0==e.preflag){for(i=11;i<U.SBPSY_l;i++)if(s[i]<t.pretab[i])break;if(i==U.SBPSY_l)for(e.preflag=1,i=11;i<U.SBPSY_l;i++)s[i]-=t.pretab[i]}for(i=0;i<e.sfbdivide;i++)o<s[i]&&(o=s[i]);for(;i<e.sfbmax;i++)r<s[i]&&(r=s[i]);for(e.part2_length=O.LARGE_BITS,a=0;a<16;a++)o<g[a]&&r<w[a]&&e.part2_length>n[a]&&(e.part2_length=n[a],e.scalefac_compress=a);return e.part2_length==O.LARGE_BITS};var k=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(e,a){var i,o,r,s,l,c,d,f,u=n(4),h=a.scalefac;for(i=0!=a.preflag?2:0,d=0;d<4;d++)u[d]=0;if(a.block_type==U.SHORT_TYPE){o=1;var v=t.nr_of_sfb_block[i][o];for(f=0,r=0;r<4;r++)for(s=v[r]/3,d=0;d<s;d++,f++)for(l=0;l<3;l++)h[3*f+l]>u[r]&&(u[r]=h[3*f+l])}else{o=0;v=t.nr_of_sfb_block[i][o];for(f=0,r=0;r<4;r++)for(s=v[r],d=0;d<s;d++,f++)h[f]>u[r]&&(u[r]=h[f])}for(c=!1,r=0;r<4;r++)u[r]>k[i][r]&&(c=!0);if(!c){var p,_,g,b;for(a.sfb_partition_table=t.nr_of_sfb_block[i][o],r=0;r<4;r++)a.slen[r]=B[u[r]];switch(p=a.slen[0],_=a.slen[1],g=a.slen[2],b=a.slen[3],i){case 0:a.scalefac_compress=(5*p+_<<4)+(g<<2)+b;break;case 1:a.scalefac_compress=400+(5*p+_<<2)+g;break;case 2:a.scalefac_compress=500+3*p+_;break;default:m.err.printf("intensity stereo not implemented yet\n");break}}if(!c)for(a.part2_length=0,r=0;r<4;r++)a.part2_length+=a.slen[r]*a.sfb_partition_table[r];return c};var B=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(t){for(var e=2;e<=576;e+=2){var i,n=0;while(t.scalefac_band.l[++n]<e);i=a[n][0];while(t.scalefac_band.l[i+1]>e)i--;i<0&&(i=a[n][0]),t.bv_scf[e-2]=i,i=a[n][1];while(t.scalefac_band.l[i+t.bv_scf[e-2]+2]>e)i--;i<0&&(i=a[n][1]),t.bv_scf[e-1]=i}}}function w(){}function x(){function t(t,e,a,i,n,o,r,s,l,c,d,f,m,u,h){this.vbr_q=t,this.quant_comp=e,this.quant_comp_s=a,this.expY=i,this.st_lrm=n,this.st_s=o,this.masking_adj=r,this.masking_adj_short=s,this.ath_lower=l,this.ath_curve=c,this.ath_sensitivity=d,this.interch=f,this.safejoint=m,this.sfb21mod=u,this.msfix=h}function e(t,e,a,i,n,o,r,s,l,c,d,f,m,u){this.quant_comp=e,this.quant_comp_s=a,this.safejoint=i,this.nsmsfix=n,this.st_lrm=o,this.st_s=r,this.nsbass=s,this.scale=l,this.masking_adj=c,this.ath_lower=d,this.ath_curve=f,this.interch=m,this.sfscale=u}var a;this.setModules=function(t){a=t};var i=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],n=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(t,e,a){var o=t.VBR==p.vbr_rh?i:n,r=t.VBR_q_frac,s=o[e],c=o[e+1],d=s;s.st_lrm=s.st_lrm+r*(c.st_lrm-s.st_lrm),s.st_s=s.st_s+r*(c.st_s-s.st_s),s.masking_adj=s.masking_adj+r*(c.masking_adj-s.masking_adj),s.masking_adj_short=s.masking_adj_short+r*(c.masking_adj_short-s.masking_adj_short),s.ath_lower=s.ath_lower+r*(c.ath_lower-s.ath_lower),s.ath_curve=s.ath_curve+r*(c.ath_curve-s.ath_curve),s.ath_sensitivity=s.ath_sensitivity+r*(c.ath_sensitivity-s.ath_sensitivity),s.interch=s.interch+r*(c.interch-s.interch),s.msfix=s.msfix+r*(c.msfix-s.msfix),l(t,d.vbr_q),0!=a?t.quant_comp=d.quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=d.quant_comp),0!=a?t.quant_comp_short=d.quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=d.quant_comp_s),0!=d.expY&&(t.experimentalY=0!=d.expY),0!=a?t.internal_flags.nsPsy.attackthre=d.st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=d.st_lrm),0!=a?t.internal_flags.nsPsy.attackthre_s=d.st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=d.st_s),0!=a?t.maskingadjust=d.masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=d.masking_adj),0!=a?t.maskingadjust_short=d.masking_adj_short:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=d.masking_adj_short),0!=a?t.ATHlower=-d.ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-d.ath_lower/10),0!=a?t.ATHcurve=d.ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=d.ath_curve),0!=a?t.athaa_sensitivity=d.ath_sensitivity:Math.abs(t.athaa_sensitivity- -1)>0||(t.athaa_sensitivity=d.ath_sensitivity),d.interch>0&&(0!=a?t.interChRatio=d.interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=d.interch)),d.safejoint>0&&(t.exp_nspsytune=t.exp_nspsytune|d.safejoint),d.sfb21mod>0&&(t.exp_nspsytune=t.exp_nspsytune|d.sfb21mod<<20),0!=a?t.msfix=d.msfix:Math.abs(t.msfix- -1)>0||(t.msfix=d.msfix),0==a&&(t.VBR_q=e,t.VBR_q_frac=r)}var r=[new e(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new e(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new e(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new e(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new e(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new e(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new e(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new e(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new e(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new e(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new e(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new e(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new e(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new e(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new e(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new e(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function s(t,e,i){var n=e,o=a.nearestBitrateFullIndex(e);if(t.VBR=p.vbr_abr,t.VBR_mean_bitrate_kbps=n,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,t.VBR_mean_bitrate_kbps>320&&(t.disable_reservoir=!0),r[o].safejoint>0&&(t.exp_nspsytune=2|t.exp_nspsytune),r[o].sfscale>0&&(t.internal_flags.noise_shaping=2),Math.abs(r[o].nsbass)>0){var s=int(4*r[o].nsbass);s<0&&(s+=64),t.exp_nspsytune=t.exp_nspsytune|s<<2}return 0!=i?t.quant_comp=r[o].quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=r[o].quant_comp),0!=i?t.quant_comp_short=r[o].quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=r[o].quant_comp_s),0!=i?t.msfix=r[o].nsmsfix:Math.abs(t.msfix- -1)>0||(t.msfix=r[o].nsmsfix),0!=i?t.internal_flags.nsPsy.attackthre=r[o].st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=r[o].st_lrm),0!=i?t.internal_flags.nsPsy.attackthre_s=r[o].st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=r[o].st_s),0!=i?t.scale=r[o].scale:Math.abs(t.scale- -1)>0||(t.scale=r[o].scale),0!=i?t.maskingadjust=r[o].masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=r[o].masking_adj),r[o].masking_adj>0?0!=i?t.maskingadjust_short=.9*r[o].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=.9*r[o].masking_adj):0!=i?t.maskingadjust_short=1.1*r[o].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=1.1*r[o].masking_adj),0!=i?t.ATHlower=-r[o].ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-r[o].ath_lower/10),0!=i?t.ATHcurve=r[o].ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=r[o].ath_curve),0!=i?t.interChRatio=r[o].interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=r[o].interch),e}function l(t,e){var a=0;return 0>e&&(a=-1,e=0),9<e&&(a=-1,e=9),t.VBR_q=e,t.VBR_q_frac=0,a}this.apply_preset=function(t,e,a){switch(e){case Z.R3MIX:e=Z.V3,t.VBR=p.vbr_mtrh;break;case Z.MEDIUM:e=Z.V4,t.VBR=p.vbr_rh;break;case Z.MEDIUM_FAST:e=Z.V4,t.VBR=p.vbr_mtrh;break;case Z.STANDARD:e=Z.V2,t.VBR=p.vbr_rh;break;case Z.STANDARD_FAST:e=Z.V2,t.VBR=p.vbr_mtrh;break;case Z.EXTREME:e=Z.V0,t.VBR=p.vbr_rh;break;case Z.EXTREME_FAST:e=Z.V0,t.VBR=p.vbr_mtrh;break;case Z.INSANE:return e=320,t.preset=e,s(t,e,a),t.VBR=p.vbr_off,e}switch(t.preset=e,e){case Z.V9:return o(t,9,a),e;case Z.V8:return o(t,8,a),e;case Z.V7:return o(t,7,a),e;case Z.V6:return o(t,6,a),e;case Z.V5:return o(t,5,a),e;case Z.V4:return o(t,4,a),e;case Z.V3:return o(t,3,a),e;case Z.V2:return o(t,2,a),e;case Z.V1:return o(t,1,a),e;case Z.V0:return o(t,0,a),e;default:break}return 8<=e&&e<=320?s(t,e,a):(t.preset=0,e)}}function D(){var t;this.setModules=function(e){t=e},this.ResvFrameBegin=function(e,a){var i,n=e.internal_flags,o=n.l3_side,r=t.getframebits(e);a.bits=(r-8*n.sideinfo_len)/n.mode_gr;var s=2048*n.mode_gr-8;e.brate>320?i=8*int(1e3*e.brate/(e.out_samplerate/1152)/8+.5):(i=11520,e.strict_ISO&&(i=8*int(32e4/(e.out_samplerate/1152)/8+.5))),n.ResvMax=i-r,n.ResvMax>s&&(n.ResvMax=s),(n.ResvMax<0||e.disable_reservoir)&&(n.ResvMax=0);var l=a.bits*n.mode_gr+Math.min(n.ResvSize,n.ResvMax);return l>i&&(l=i),o.resvDrain_pre=0,null!=n.pinfo&&(n.pinfo.mean_bits=a.bits/2,n.pinfo.resvsize=n.ResvSize),l},this.ResvMaxBits=function(t,e,a,i){var n,o=t.internal_flags,r=o.ResvSize,s=o.ResvMax;0!=i&&(r+=e),0!=(1&o.substep_shaping)&&(s*=.9),a.bits=e,10*r>9*s?(n=r-9*s/10,a.bits+=n,o.substep_shaping|=128):(n=0,o.substep_shaping&=127,t.disable_reservoir||0!=(1&o.substep_shaping)||(a.bits-=.1*e));var l=r<6*o.ResvMax/10?r:6*o.ResvMax/10;return l-=n,l<0&&(l=0),l},this.ResvAdjust=function(t,e){t.ResvSize-=e.part2_3_length+e.part2_length},this.ResvFrameEnd=function(t,e){var a,i=t.l3_side;t.ResvSize+=e*t.mode_gr;var n=0;i.resvDrain_post=0,i.resvDrain_pre=0,0!=(a=t.ResvSize%8)&&(n+=a),a=t.ResvSize-n-t.ResvMax,a>0&&(n+=a);var o=Math.min(8*i.main_data_begin,n)/8;i.resvDrain_pre+=8*o,n-=8*o,t.ResvSize-=8*o,i.main_data_begin-=o,i.resvDrain_post+=n,t.ResvSize-=n}}function C(){this.setModules=function(t,e,a){t,e,a};var t=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function e(e,a){var i=a^e;return a=a>>8^t[255&i],a}this.updateMusicCRC=function(t,a,i,n){for(var o=0;o<n;++o)t[0]=e(a[i+o],t[0])}}function T(){var t=this,i=32773,o=null,r=null,l=null,c=null;this.setModules=function(t,e,a,i){o=t,r=e,l=a,c=i};var d=null,u=0,h=0,v=0;function p(t){m.arraycopy(t.header[t.w_ptr].buf,0,d,h,t.sideinfo_len),h+=t.sideinfo_len,u+=8*t.sideinfo_len,t.w_ptr=t.w_ptr+1&q.MAX_HEADER_BUF-1}function _(t,e,a){while(a>0){var i;0==v&&(v=8,h++,t.header[t.w_ptr].write_timing==u&&p(t),d[h]=0),i=Math.min(a,v),a-=i,v-=i,d[h]|=e>>a<<v,u+=i}}function g(t,e,a){while(a>0){var i;0==v&&(v=8,h++,d[h]=0),i=Math.min(a,v),a-=i,v-=i,d[h]|=e>>a<<v,u+=i}}function x(t,e){var a,i=t.internal_flags;if(e>=8&&(_(i,76,8),e-=8),e>=8&&(_(i,65,8),e-=8),e>=8&&(_(i,77,8),e-=8),e>=8&&(_(i,69,8),e-=8),e>=32){var n=l.getLameShortVersion();if(e>=32)for(a=0;a<n.length&&e>=8;++a)e-=8,_(i,n.charCodeAt(a),8)}for(;e>=1;e-=1)_(i,i.ancillary_flag,1),i.ancillary_flag^=t.disable_reservoir?0:1}function D(t,e,a){var i=t.header[t.h_ptr].ptr;while(a>0){var n=Math.min(a,8-(7&i));a-=n,t.header[t.h_ptr].buf[i>>3]|=e>>a<<8-(7&i)-n,i+=n}t.header[t.h_ptr].ptr=i}function C(t,e){t<<=8;for(var a=0;a<8;a++)t<<=1,e<<=1,0!=(65536&(e^t))&&(e^=i);return e}function T(t,e){var a,i,n,o=t.internal_flags;if(a=o.l3_side,o.header[o.h_ptr].ptr=0,f.fill(o.header[o.h_ptr].buf,0,o.sideinfo_len,0),t.out_samplerate<16e3?D(o,4094,12):D(o,4095,12),D(o,t.version,1),D(o,1,2),D(o,t.error_protection?0:1,1),D(o,o.bitrate_index,4),D(o,o.samplerate_index,2),D(o,o.padding,1),D(o,t.extension,1),D(o,t.mode.ordinal(),2),D(o,o.mode_ext,2),D(o,t.copyright,1),D(o,t.original,1),D(o,t.emphasis,2),t.error_protection&&D(o,0,16),1==t.version){for(D(o,a.main_data_begin,9),2==o.channels_out?D(o,a.private_bits,3):D(o,a.private_bits,5),n=0;n<o.channels_out;n++){var r;for(r=0;r<4;r++)D(o,a.scfsi[n][r],1)}for(i=0;i<2;i++)for(n=0;n<o.channels_out;n++){var s=a.tt[i][n];D(o,s.part2_3_length+s.part2_length,12),D(o,s.big_values/2,9),D(o,s.global_gain,8),D(o,s.scalefac_compress,4),s.block_type!=U.NORM_TYPE?(D(o,1,1),D(o,s.block_type,2),D(o,s.mixed_block_flag,1),14==s.table_select[0]&&(s.table_select[0]=16),D(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),D(o,s.table_select[1],5),D(o,s.subblock_gain[0],3),D(o,s.subblock_gain[1],3),D(o,s.subblock_gain[2],3)):(D(o,0,1),14==s.table_select[0]&&(s.table_select[0]=16),D(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),D(o,s.table_select[1],5),14==s.table_select[2]&&(s.table_select[2]=16),D(o,s.table_select[2],5),D(o,s.region0_count,4),D(o,s.region1_count,3)),D(o,s.preflag,1),D(o,s.scalefac_scale,1),D(o,s.count1table_select,1)}}else for(D(o,a.main_data_begin,8),D(o,a.private_bits,o.channels_out),i=0,n=0;n<o.channels_out;n++){s=a.tt[i][n];D(o,s.part2_3_length+s.part2_length,12),D(o,s.big_values/2,9),D(o,s.global_gain,8),D(o,s.scalefac_compress,9),s.block_type!=U.NORM_TYPE?(D(o,1,1),D(o,s.block_type,2),D(o,s.mixed_block_flag,1),14==s.table_select[0]&&(s.table_select[0]=16),D(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),D(o,s.table_select[1],5),D(o,s.subblock_gain[0],3),D(o,s.subblock_gain[1],3),D(o,s.subblock_gain[2],3)):(D(o,0,1),14==s.table_select[0]&&(s.table_select[0]=16),D(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),D(o,s.table_select[1],5),14==s.table_select[2]&&(s.table_select[2]=16),D(o,s.table_select[2],5),D(o,s.region0_count,4),D(o,s.region1_count,3)),D(o,s.scalefac_scale,1),D(o,s.count1table_select,1)}t.error_protection&&CRC_writeheader(o,o.header[o.h_ptr].buf);var l=o.h_ptr;o.h_ptr=l+1&q.MAX_HEADER_BUF-1,o.header[o.h_ptr].write_timing=o.header[l].write_timing+e,o.h_ptr==o.w_ptr&&m.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}function S(t,e){var a,i=y.ht[e.count1table_select+32],n=0,o=e.big_values,r=e.big_values;for(a=(e.count1-e.big_values)/4;a>0;--a){var s,l=0,c=0;s=e.l3_enc[o+0],0!=s&&(c+=8,e.xr[r+0]<0&&l++),s=e.l3_enc[o+1],0!=s&&(c+=4,l*=2,e.xr[r+1]<0&&l++),s=e.l3_enc[o+2],0!=s&&(c+=2,l*=2,e.xr[r+2]<0&&l++),s=e.l3_enc[o+3],0!=s&&(c++,l*=2,e.xr[r+3]<0&&l++),o+=4,r+=4,_(t,l+i.table[c],i.hlen[c]),n+=i.hlen[c]}return n}function I(t,e,a,i,n){var o=y.ht[e],r=0;if(0==e)return r;for(var s=a;s<i;s+=2){var l=0,c=0,d=o.xlen,f=o.xlen,m=0,u=n.l3_enc[s],h=n.l3_enc[s+1];if(0!=u&&(n.xr[s]<0&&m++,l--),e>15){if(u>14){var v=u-15;m|=v<<1,c=d,u=15}if(h>14){var p=h-15;m<<=d,m|=p,c+=d,h=15}f=16}0!=h&&(m<<=1,n.xr[s+1]<0&&m++,l--),u=u*f+h,c-=l,l+=o.hlen[u],_(t,o.table[u],l),_(t,m,c),r+=l+c}return r}function k(t,e){var a=3*t.scalefac_band.s[3];a>e.big_values&&(a=e.big_values);var i=I(t,e.table_select[0],0,a,e);return i+=I(t,e.table_select[1],a,e.big_values,e),i}function B(t,e){var a,i,n,o;a=e.big_values;var r=e.region0_count+1;return n=t.scalefac_band.l[r],r+=e.region1_count+1,o=t.scalefac_band.l[r],n>a&&(n=a),o>a&&(o=a),i=I(t,e.table_select[0],0,n,e),i+=I(t,e.table_select[1],n,o,e),i+=I(t,e.table_select[2],o,a,e),i}function M(t){var e,a,i,n,o=0,r=t.internal_flags,s=r.l3_side;if(1==t.version)for(e=0;e<2;e++)for(a=0;a<r.channels_out;a++){var l=s.tt[e][a],c=b.slen1_tab[l.scalefac_compress],d=b.slen2_tab[l.scalefac_compress];for(n=0,i=0;i<l.sfbdivide;i++)-1!=l.scalefac[i]&&(_(r,l.scalefac[i],c),n+=c);for(;i<l.sfbmax;i++)-1!=l.scalefac[i]&&(_(r,l.scalefac[i],d),n+=d);l.block_type==U.SHORT_TYPE?n+=k(r,l):n+=B(r,l),n+=S(r,l),o+=n}else for(e=0,a=0;a<r.channels_out;a++){l=s.tt[e][a];var f,m,u=0;if(n=0,i=0,m=0,l.block_type==U.SHORT_TYPE){for(;m<4;m++){var h=l.sfb_partition_table[m]/3,v=l.slen[m];for(f=0;f<h;f++,i++)_(r,Math.max(l.scalefac[3*i+0],0),v),_(r,Math.max(l.scalefac[3*i+1],0),v),_(r,Math.max(l.scalefac[3*i+2],0),v),u+=3*v}n+=k(r,l)}else{for(;m<4;m++){h=l.sfb_partition_table[m],v=l.slen[m];for(f=0;f<h;f++,i++)_(r,Math.max(l.scalefac[i],0),v),u+=v}n+=B(r,l)}n+=S(r,l),o+=u+n}return o}function P(){this.total=0}function E(e,a){var i,n,o,r,s,l=e.internal_flags;return s=l.w_ptr,r=l.h_ptr-1,-1==r&&(r=q.MAX_HEADER_BUF-1),i=l.header[r].write_timing-u,a.total=i,i>=0&&(n=1+r-s,r<s&&(n=1+r-s+q.MAX_HEADER_BUF),i-=8*n*l.sideinfo_len),o=t.getframebits(e),i+=o,a.total+=o,a.total%8!=0?a.total=1+a.total/8:a.total=a.total/8,a.total+=h+1,i<0&&m.err.println("strange error flushing buffer ... \n"),i}this.getframebits=function(t){var e,a=t.internal_flags;e=0!=a.bitrate_index?y.bitrate_table[t.version][a.bitrate_index]:t.brate;var i=0|72e3*(t.version+1)*e/t.out_samplerate+a.padding;return 8*i},this.CRC_writeheader=function(t,e){var a=65535;a=C(255&e[2],a),a=C(255&e[3],a);for(var i=6;i<t.sideinfo_len;i++)a=C(255&e[i],a);e[4]=byte(a>>8),e[5]=byte(255&a)},this.flush_bitstream=function(t){var a,i,n=t.internal_flags,r=n.h_ptr-1;if(-1==r&&(r=q.MAX_HEADER_BUF-1),a=n.l3_side,!((i=E(t,new P))<0)){if(x(t,i),n.ResvSize=0,a.main_data_begin=0,n.findReplayGain){var s=o.GetTitleGain(n.rgdata);n.RadioGain=0|Math.floor(10*s+.5)}n.findPeakSample&&(n.noclipGainChange=0|Math.ceil(20*e(n.PeakSample/32767)*10),n.noclipGainChange>0&&(EQ(t.scale,1)||EQ(t.scale,0))?n.noclipScale=Math.floor(32767/n.PeakSample*100)/100:n.noclipScale=-1)}},this.add_dummy_byte=function(t,e,a){var i,n=t.internal_flags;while(a-- >0)for(g(n,e,8),i=0;i<q.MAX_HEADER_BUF;++i)n.header[i].write_timing+=8},this.format_bitstream=function(t){var e,a=t.internal_flags;e=a.l3_side;var i=this.getframebits(t);x(t,e.resvDrain_pre),T(t,i);var n=8*a.sideinfo_len;if(n+=M(t),x(t,e.resvDrain_post),n+=e.resvDrain_post,e.main_data_begin+=(i-n)/8,E(t,new P)!=a.ResvSize&&m.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*e.main_data_begin!=a.ResvSize&&(m.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*e.main_data_begin,a.ResvSize,e.resvDrain_post,e.resvDrain_pre,8*a.sideinfo_len,n-e.resvDrain_post-8*a.sideinfo_len,n,n%8,i),m.err.println("This is a fatal error.  It has several possible causes:"),m.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),m.err.println(" 9%%  Your system is overclocked"),m.err.println(" 1%%  bug in LAME encoding library"),a.ResvSize=8*e.main_data_begin),u>1e9){var o;for(o=0;o<q.MAX_HEADER_BUF;++o)a.header[o].write_timing-=u;u=0}return 0},this.copy_buffer=function(t,e,a,i,l){var f=h+1;if(f<=0)return 0;if(0!=i&&f>i)return-1;if(m.arraycopy(d,0,e,a,f),h=-1,v=0,0!=l){var u=n(1);if(u[0]=t.nMusicCRC,c.updateMusicCRC(u,e,a,f),t.nMusicCRC=u[0],f>0&&(t.VBR_seek_table.nBytesWritten+=f),t.decode_on_the_fly){var p,_=s([2,1152]),g=f,b=-1;while(0!=b)if(b=r.hip_decode1_unclipped(t.hip,e,a,g,_[0],_[1]),g=0,-1==b&&(b=0),b>0){if(t.findPeakSample){for(p=0;p<b;p++)_[0][p]>t.PeakSample?t.PeakSample=_[0][p]:-_[0][p]>t.PeakSample&&(t.PeakSample=-_[0][p]);if(t.channels_out>1)for(p=0;p<b;p++)_[1][p]>t.PeakSample?t.PeakSample=_[1][p]:-_[1][p]>t.PeakSample&&(t.PeakSample=-_[1][p])}if(t.findReplayGain&&o.AnalyzeSamples(t.rgdata,_[0],0,_[1],0,b,t.channels_out)==w.GAIN_ANALYSIS_ERROR)return-6}}}return f},this.init_bit_stream_w=function(t){d=a(Z.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,h=-1,v=0,u=0}}function S(t,e,a,i){this.xlen=t,this.linmax=e,this.table=a,this.hlen=i}_.STEREO=new _(0),_.JOINT_STEREO=new _(1),_.DUAL_CHANNEL=new _(2),_.MONO=new _(3),_.NOT_SET=new _(4),w.STEPS_per_dB=100,w.MAX_dB=120,w.GAIN_NOT_ENOUGH_SAMPLES=-24601,w.GAIN_ANALYSIS_ERROR=0,w.GAIN_ANALYSIS_OK=1,w.INIT_GAIN_ANALYSIS_ERROR=0,w.INIT_GAIN_ANALYSIS_OK=1,w.YULE_ORDER=10,w.MAX_ORDER=w.YULE_ORDER,w.MAX_SAMP_FREQ=48e3,w.RMS_WINDOW_TIME_NUMERATOR=1,w.RMS_WINDOW_TIME_DENOMINATOR=20,w.MAX_SAMPLES_PER_WINDOW=w.MAX_SAMP_FREQ*w.RMS_WINDOW_TIME_NUMERATOR/w.RMS_WINDOW_TIME_DENOMINATOR+1,C.NUMTOCENTRIES=100,C.MAXFRAMESIZE=2880,T.EQ=function(t,e){return Math.abs(t)>Math.abs(e)?Math.abs(t-e)<=1e-6*Math.abs(t):Math.abs(t-e)<=1e-6*Math.abs(e)},T.NEQ=function(t,e){return!T.EQ(t,e)};var y={};function I(t){this.bits=t}function k(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function B(){this.setModules=function(t,e){t,e}}function M(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=o(U.SBMAX_l),this.s=o(U.SBMAX_s),this.psfb21=o(U.PSFB21),this.psfb12=o(U.PSFB12),this.cb_l=o(U.CBANDS),this.cb_s=o(U.CBANDS),this.eql_w=o(U.BLKSIZE/2)}function P(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=_.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function E(t){var e=t;this.quantize=e,this.iteration_loop=function(t,e,a,i){var r,s=t.internal_flags,l=o(F.SFBMAX),c=o(576),d=n(2),f=0,m=s.l3_side,u=new I(f);this.quantize.rv.ResvFrameBegin(t,u),f=u.bits;for(var h=0;h<s.mode_gr;h++){r=this.quantize.qupvt.on_pe(t,e,d,f,h,h),s.mode_ext==U.MPG_MD_MS_LR&&(this.quantize.ms_convert(s.l3_side,h),this.quantize.qupvt.reduce_side(d,a[h],f,r));for(var v=0;v<s.channels_out;v++){var p,_,g=m.tt[h][v];g.block_type!=U.SHORT_TYPE?(p=0,_=s.PSY.mask_adjust-p):(p=0,_=s.PSY.mask_adjust_short-p),s.masking_lower=Math.pow(10,.1*_),this.quantize.init_outer_loop(s,g),this.quantize.init_xrpow(s,g,c)&&(this.quantize.qupvt.calc_xmin(t,i[h][v],g,l),this.quantize.outer_loop(t,g,l,c,v,d[v])),this.quantize.iteration_finish_one(s,h,v)}}this.quantize.rv.ResvFrameEnd(s,f)}}function A(){}function R(t,e,a,i){this.l=n(1+U.SBMAX_l),this.s=n(1+U.SBMAX_s),this.psfb21=n(1+U.PSFB21),this.psfb12=n(1+U.PSFB12);var o=this.l,r=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],m.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),m.arraycopy(this.arrS,0,r,0,Math.min(this.arrS.length,this.s.length)),m.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),m.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}function O(){var t=null,a=null,i=null;function r(t){return _[t+O.Q_MAX2]}this.setModules=function(e,n,o){t=e,a=n,i=o},this.IPOW20=function(t){return g[t]};var s=2220446049250313e-31,l=O.IXMAX_VAL,c=l+2,d=O.Q_MAX,f=O.Q_MAX2,m=(O.LARGE_BITS,100);this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var h=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=h,this.sfBandIndex=[new R([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new R([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var _=o(d+f+1),g=o(d),b=o(c),w=o(c);function x(t,e){var a=i.ATHformula(e,t);return a-=m,a=Math.pow(10,a/10+t.ATHlower),a}function D(t){for(var a=t.internal_flags.ATH.l,i=t.internal_flags.ATH.psfb21,n=t.internal_flags.ATH.s,o=t.internal_flags.ATH.psfb12,r=t.internal_flags,s=t.out_samplerate,l=0;l<U.SBMAX_l;l++){var c=r.scalefac_band.l[l],d=r.scalefac_band.l[l+1];a[l]=v.MAX_VALUE;for(var f=c;f<d;f++){var m=f*s/1152,u=x(t,m);a[l]=Math.min(a[l],u)}}for(l=0;l<U.PSFB21;l++){c=r.scalefac_band.psfb21[l],d=r.scalefac_band.psfb21[l+1];i[l]=v.MAX_VALUE;for(f=c;f<d;f++){m=f*s/1152,u=x(t,m);i[l]=Math.min(i[l],u)}}for(l=0;l<U.SBMAX_s;l++){c=r.scalefac_band.s[l],d=r.scalefac_band.s[l+1];n[l]=v.MAX_VALUE;for(f=c;f<d;f++){m=f*s/384,u=x(t,m);n[l]=Math.min(n[l],u)}n[l]*=r.scalefac_band.s[l+1]-r.scalefac_band.s[l]}for(l=0;l<U.PSFB12;l++){c=r.scalefac_band.psfb12[l],d=r.scalefac_band.psfb12[l+1];o[l]=v.MAX_VALUE;for(f=c;f<d;f++){m=f*s/384,u=x(t,m);o[l]=Math.min(o[l],u)}o[l]*=r.scalefac_band.s[13]-r.scalefac_band.s[12]}if(t.noATH){for(l=0;l<U.SBMAX_l;l++)a[l]=1e-20;for(l=0;l<U.PSFB21;l++)i[l]=1e-20;for(l=0;l<U.SBMAX_s;l++)n[l]=1e-20;for(l=0;l<U.PSFB12;l++)o[l]=1e-20}r.ATH.floor=10*e(x(t,-1))}function C(t){this.s=t}this.adj43=w,this.iteration_init=function(e){var a,i=e.internal_flags,n=i.l3_side;if(0==i.iteration_init_init){for(i.iteration_init_init=1,n.main_data_begin=0,D(e),b[0]=0,a=1;a<c;a++)b[a]=Math.pow(a,4/3);for(a=0;a<c-1;a++)w[a]=a+1-Math.pow(.5*(b[a]+b[a+1]),.75);for(w[a]=.5,a=0;a<d;a++)g[a]=Math.pow(2,-.1875*(a-210));for(a=0;a<=d+f;a++)_[a]=Math.pow(2,.25*(a-210-f));var o,r,s,l;for(t.huffman_init(i),a=e.exp_nspsytune>>2&63,a>=32&&(a-=64),o=Math.pow(10,a/4/10),a=e.exp_nspsytune>>8&63,a>=32&&(a-=64),r=Math.pow(10,a/4/10),a=e.exp_nspsytune>>14&63,a>=32&&(a-=64),s=Math.pow(10,a/4/10),a=e.exp_nspsytune>>20&63,a>=32&&(a-=64),l=s*Math.pow(10,a/4/10),a=0;a<U.SBMAX_l;a++){m=a<=6?o:a<=13?r:a<=20?s:l,i.nsPsy.longfact[a]=m}for(a=0;a<U.SBMAX_s;a++){var m;m=a<=5?o:a<=10?r:a<=11?s:l,i.nsPsy.shortfact[a]=m}}},this.on_pe=function(t,e,i,o,r,s){var l,c,d=t.internal_flags,f=0,m=n(2),u=new I(f),h=a.ResvMaxBits(t,o,u,s);f=u.bits;var v=f+h;for(v>q.MAX_BITS_PER_GRANULE&&(v=q.MAX_BITS_PER_GRANULE),l=0,c=0;c<d.channels_out;++c)i[c]=Math.min(q.MAX_BITS_PER_CHANNEL,f/d.channels_out),m[c]=0|i[c]*e[r][c]/700-i[c],m[c]>3*o/4&&(m[c]=3*o/4),m[c]<0&&(m[c]=0),m[c]+i[c]>q.MAX_BITS_PER_CHANNEL&&(m[c]=Math.max(0,q.MAX_BITS_PER_CHANNEL-i[c])),l+=m[c];if(l>h)for(c=0;c<d.channels_out;++c)m[c]=h*m[c]/l;for(c=0;c<d.channels_out;++c)i[c]+=m[c],h-=m[c];for(l=0,c=0;c<d.channels_out;++c)l+=i[c];if(l>q.MAX_BITS_PER_GRANULE){for(c=0;c<d.channels_out;++c)i[c]*=q.MAX_BITS_PER_GRANULE,i[c]/=l,i[c]}return v},this.reduce_side=function(t,e,a,i){var n=.33*(.5-e)/.5;n<0&&(n=0),n>.5&&(n=.5);var o=0|.5*n*(t[0]+t[1]);o>q.MAX_BITS_PER_CHANNEL-t[0]&&(o=q.MAX_BITS_PER_CHANNEL-t[0]),o<0&&(o=0),t[1]>=125&&(t[1]-o>125?(t[0]<a&&(t[0]+=o),t[1]-=o):(t[0]+=t[1]-125,t[1]=125)),o=t[0]+t[1],o>i&&(t[0]=i*t[0]/o,t[1]=i*t[1]/o)},this.athAdjust=function(t,e,a){var i=90.30873362,n=94.82444863,o=u.FAST_LOG10_X(e,10),r=t*t,s=0;return o-=a,r>1e-20&&(s=1+u.FAST_LOG10_X(r,10/i)),s<0&&(s=0),o*=s,o+=a+i-n,Math.pow(10,.1*o)},this.calc_xmin=function(t,e,a,i){var n,o=0,r=t.internal_flags,l=0,c=0,d=r.ATH,f=a.xr,m=t.VBR==p.vbr_mtrh?1:0,u=r.masking_lower;for(t.VBR!=p.vbr_mtrh&&t.VBR!=p.vbr_mt||(u=1),n=0;n<a.psy_lmax;n++){C=t.VBR==p.vbr_rh||t.VBR==p.vbr_mtrh?athAdjust(d.adjust,d.l[n],d.floor):d.adjust*d.l[n],w=a.width[n],S=C/w,y=s,k=w>>1,I=0;do{B=f[l]*f[l],I+=B,y+=B<S?B:S,l++,M=f[l]*f[l],I+=M,y+=M<S?M:S,l++}while(--k>0);if(I>C&&c++,n==U.SBPSY_l){var h=C*r.nsPsy.longfact[n];y<h&&(y=h)}if(0!=m&&(C=y),!t.ATHonly){var v=e.en.l[n];if(v>0)h=I*e.thm.l[n]*u/v,0!=m&&(h*=r.nsPsy.longfact[n]),C<h&&(C=h)}i[o++]=0!=m?C:C*r.nsPsy.longfact[n]}var _=575;if(a.block_type!=U.SHORT_TYPE){var g=576;while(0!=g--&&T.EQ(f[g],0))_=g}a.max_nonzero_coeff=_;for(var b=a.sfb_smin;n<a.psymax;b++,n+=3){var w,x,D;for(D=t.VBR==p.vbr_rh||t.VBR==p.vbr_mtrh?athAdjust(d.adjust,d.s[b],d.floor):d.adjust*d.s[b],w=a.width[n],x=0;x<3;x++){var C,S,y,I=0,k=w>>1;S=D/w,y=s;do{var B,M;B=f[l]*f[l],I+=B,y+=B<S?B:S,l++,M=f[l]*f[l],I+=M,y+=M<S?M:S,l++}while(--k>0);if(I>D&&c++,b==U.SBPSY_s){h=D*r.nsPsy.shortfact[b];y<h&&(y=h)}if(C=0!=m?y:D,!t.ATHonly&&!t.ATHshort){v=e.en.s[b][x];if(v>0)h=I*e.thm.s[b][x]*u/v,0!=m&&(h*=r.nsPsy.shortfact[b]),C<h&&(C=h)}i[o++]=0!=m?C:C*r.nsPsy.shortfact[b]}t.useTemporal&&(i[o-3]>i[o-3+1]&&(i[o-3+1]+=(i[o-3]-i[o-3+1])*r.decay),i[o-3+1]>i[o-3+2]&&(i[o-3+2]+=(i[o-3+1]-i[o-3+2])*r.decay))}return c},this.calc_noise_core=function(t,e,a,i){var n=0,r=e.s,s=t.l3_enc;if(r>t.count1)while(0!=a--){c=t.xr[r],r++,n+=c*c,c=t.xr[r],r++,n+=c*c}else if(r>t.big_values){var l=o(2);l[0]=0,l[1]=i;while(0!=a--){c=Math.abs(t.xr[r])-l[s[r]],r++,n+=c*c,c=Math.abs(t.xr[r])-l[s[r]],r++,n+=c*c}}else while(0!=a--){var c;c=Math.abs(t.xr[r])-b[s[r]]*i,r++,n+=c*c,c=Math.abs(t.xr[r])-b[s[r]]*i,r++,n+=c*c}return e.s=r,n},this.calc_noise=function(t,e,a,i,n){var o,s,l=0,c=0,d=0,f=0,m=0,v=-20,p=0,_=t.scalefac,g=0;for(i.over_SSD=0,o=0;o<t.psymax;o++){var b,w=t.global_gain-(_[g++]+(0!=t.preflag?h[o]:0)<<t.scalefac_scale+1)-8*t.subblock_gain[t.window[o]],x=0;if(null!=n&&n.step[o]==w)x=n.noise[o],p+=t.width[o],a[l++]=x/e[c++],x=n.noise_log[o];else{var D,T=r(w);if(s=t.width[o]>>1,p+t.width[o]>t.max_nonzero_coeff)D=t.max_nonzero_coeff-p+1,s=D>0?D>>1:0;var S=new C(p);x=this.calc_noise_core(t,S,s,T),p=S.s,null!=n&&(n.step[o]=w,n.noise[o]=x),x=a[l++]=x/e[c++],x=u.FAST_LOG10(Math.max(x,1e-20)),null!=n&&(n.noise_log[o]=x)}if(null!=n&&(n.global_gain=t.global_gain),m+=x,x>0)b=Math.max(0|10*x+.5,1),i.over_SSD+=b*b,d++,f+=x;v=Math.max(v,x)}return i.over_count=d,i.tot_noise=m,i.over_noise=f,i.max_noise=v,d},this.set_pinfo=function(t,e,a,i,n){var r,s,l,c,d,f=t.internal_flags,m=0==e.scalefac_scale?.5:1,u=e.scalefac,v=o(F.SFBMAX),p=o(F.SFBMAX),_=new k;calc_xmin(t,a,e,v),calc_noise(e,v,p,_,null);var g=0;for(s=e.sfb_lmax,e.block_type!=U.SHORT_TYPE&&0==e.mixed_block_flag&&(s=22),r=0;r<s;r++){var b=f.scalefac_band.l[r],w=f.scalefac_band.l[r+1],x=w-b;for(c=0;g<w;g++)c+=e.xr[g]*e.xr[g];c/=x,d=1e15,f.pinfo.en[i][n][r]=d*c,f.pinfo.xfsf[i][n][r]=d*v[r]*p[r]/x,a.en.l[r]>0&&!t.ATHonly?c/=a.en.l[r]:c=0,f.pinfo.thr[i][n][r]=d*Math.max(c*a.thm.l[r],f.ATH.l[r]),f.pinfo.LAMEsfb[i][n][r]=0,0!=e.preflag&&r>=11&&(f.pinfo.LAMEsfb[i][n][r]=-m*h[r]),r<U.SBPSY_l&&(f.pinfo.LAMEsfb[i][n][r]-=m*u[r])}if(e.block_type==U.SHORT_TYPE)for(s=r,r=e.sfb_smin;r<U.SBMAX_s;r++){b=f.scalefac_band.s[r],w=f.scalefac_band.s[r+1],x=w-b;for(var D=0;D<3;D++){for(c=0,l=b;l<w;l++)c+=e.xr[g]*e.xr[g],g++;c=Math.max(c/x,1e-20),d=1e15,f.pinfo.en_s[i][n][3*r+D]=d*c,f.pinfo.xfsf_s[i][n][3*r+D]=d*v[s]*p[s]/x,a.en.s[r][D]>0?c/=a.en.s[r][D]:c=0,(t.ATHonly||t.ATHshort)&&(c=0),f.pinfo.thr_s[i][n][3*r+D]=d*Math.max(c*a.thm.s[r][D],f.ATH.s[r]),f.pinfo.LAMEsfb_s[i][n][3*r+D]=-2*e.subblock_gain[D],r<U.SBPSY_s&&(f.pinfo.LAMEsfb_s[i][n][3*r+D]-=m*u[s]),s++}}f.pinfo.LAMEqss[i][n]=e.global_gain,f.pinfo.LAMEmainbits[i][n]=e.part2_3_length+e.part2_length,f.pinfo.LAMEsfbits[i][n]=e.part2_length,f.pinfo.over[i][n]=_.over_count,f.pinfo.max_noise[i][n]=10*_.max_noise,f.pinfo.over_noise[i][n]=10*_.over_noise,f.pinfo.tot_noise[i][n]=10*_.tot_noise,f.pinfo.over_SSD[i][n]=_.over_SSD}}function L(){this.global_gain=0,this.sfb_count1=0,this.step=n(39),this.noise=o(39),this.noise_log=o(39)}function N(){this.xr=o(576),this.l3_enc=n(576),this.scalefac=n(F.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=n(3),this.subblock_gain=n(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=n(F.SFBMAX),this.window=n(F.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=n(4),this.max_nonzero_coeff=0;var t=this;function e(t){return new Int32Array(t)}function a(t){return new Float32Array(t)}this.assign=function(i){t.xr=a(i.xr),t.l3_enc=e(i.l3_enc),t.scalefac=e(i.scalefac),t.xrpow_max=i.xrpow_max,t.part2_3_length=i.part2_3_length,t.big_values=i.big_values,t.count1=i.count1,t.global_gain=i.global_gain,t.scalefac_compress=i.scalefac_compress,t.block_type=i.block_type,t.mixed_block_flag=i.mixed_block_flag,t.table_select=e(i.table_select),t.subblock_gain=e(i.subblock_gain),t.region0_count=i.region0_count,t.region1_count=i.region1_count,t.preflag=i.preflag,t.scalefac_scale=i.scalefac_scale,t.count1table_select=i.count1table_select,t.part2_length=i.part2_length,t.sfb_lmax=i.sfb_lmax,t.sfb_smin=i.sfb_smin,t.psy_lmax=i.psy_lmax,t.sfbmax=i.sfbmax,t.psymax=i.psymax,t.sfbdivide=i.sfbdivide,t.width=e(i.width),t.window=e(i.window),t.count1bits=i.count1bits,t.sfb_partition_table=i.sfb_partition_table.slice(0),t.slen=e(i.slen),t.max_nonzero_coeff=i.max_nonzero_coeff}}y.t1HB=[1,1,1,0],y.t2HB=[1,2,1,3,1,1,3,2,0],y.t3HB=[3,2,1,1,1,1,3,2,0],y.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],y.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],y.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],y.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],y.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],y.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],y.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],y.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],y.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],y.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],y.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],y.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],y.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],y.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],y.t1l=[1,4,3,5],y.t2l=[1,4,7,4,5,7,6,7,8],y.t3l=[2,3,7,4,4,7,6,7,8],y.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],y.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],y.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],y.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],y.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],y.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],y.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],y.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],y.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],y.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],y.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],y.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],y.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],y.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],y.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],y.ht=[new S(0,0,null,null),new S(2,0,y.t1HB,y.t1l),new S(3,0,y.t2HB,y.t2l),new S(3,0,y.t3HB,y.t3l),new S(0,0,null,null),new S(4,0,y.t5HB,y.t5l),new S(4,0,y.t6HB,y.t6l),new S(6,0,y.t7HB,y.t7l),new S(6,0,y.t8HB,y.t8l),new S(6,0,y.t9HB,y.t9l),new S(8,0,y.t10HB,y.t10l),new S(8,0,y.t11HB,y.t11l),new S(8,0,y.t12HB,y.t12l),new S(16,0,y.t13HB,y.t13l),new S(0,0,null,y.t16_5l),new S(16,0,y.t15HB,y.t15l),new S(1,1,y.t16HB,y.t16l),new S(2,3,y.t16HB,y.t16l),new S(3,7,y.t16HB,y.t16l),new S(4,15,y.t16HB,y.t16l),new S(6,63,y.t16HB,y.t16l),new S(8,255,y.t16HB,y.t16l),new S(10,1023,y.t16HB,y.t16l),new S(13,8191,y.t16HB,y.t16l),new S(4,15,y.t24HB,y.t24l),new S(5,31,y.t24HB,y.t24l),new S(6,63,y.t24HB,y.t24l),new S(7,127,y.t24HB,y.t24l),new S(8,255,y.t24HB,y.t24l),new S(9,511,y.t24HB,y.t24l),new S(11,2047,y.t24HB,y.t24l),new S(13,8191,y.t24HB,y.t24l),new S(0,0,y.t32HB,y.t32l),new S(0,0,y.t33HB,y.t33l)],y.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],y.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],y.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],y.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],y.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],y.scfsi_band=[0,6,11,16,21],O.Q_MAX=257,O.Q_MAX2=116,O.LARGE_BITS=1e5,O.IXMAX_VAL=8206;var F={};function z(){var t,e,a;this.rv=null,this.qupvt=null;var i,n=new B;function r(t,e,a,i){i=0;for(var n=0;n<=a;++n){var o=Math.abs(t.xr[n]);i+=o,e[n]=Math.sqrt(o*Math.sqrt(o)),e[n]>t.xrpow_max&&(t.xrpow_max=e[n])}return i}function s(t,e){var i=t.ATH,n=e.xr;if(e.block_type!=U.SHORT_TYPE)for(var o=!1,r=U.PSFB21-1;r>=0&&!o;r--){var s=t.scalefac_band.psfb21[r],l=t.scalefac_band.psfb21[r+1],c=a.athAdjust(i.adjust,i.psfb21[r],i.floor);t.nsPsy.longfact[21]>1e-12&&(c*=t.nsPsy.longfact[21]);for(var d=l-1;d>=s;d--){if(!(Math.abs(n[d])<c)){o=!0;break}n[d]=0}}else for(var f=0;f<3;f++)for(o=!1,r=U.PSFB12-1;r>=0&&!o;r--){s=3*t.scalefac_band.s[12]+(t.scalefac_band.s[13]-t.scalefac_band.s[12])*f+(t.scalefac_band.psfb12[r]-t.scalefac_band.psfb12[0]),l=s+(t.scalefac_band.psfb12[r+1]-t.scalefac_band.psfb12[r]);var m=a.athAdjust(i.adjust,i.psfb12[r],i.floor);t.nsPsy.shortfact[12]>1e-12&&(m*=t.nsPsy.shortfact[12]);for(d=l-1;d>=s;d--){if(!(Math.abs(n[d])<m)){o=!0;break}n[d]=0}}}function l(t){this.ordinal=t}function c(t,e,a,n,o){var r,s=t.CurrentStep[n],c=!1,d=t.OldValue[n],f=l.BINSEARCH_NONE;for(e.global_gain=d,a-=e.part2_length;;){var m;if(r=i.count_bits(t,o,e,null),1==s||r==a)break;r>a?(f==l.BINSEARCH_DOWN&&(c=!0),c&&(s/=2),f=l.BINSEARCH_UP,m=s):(f==l.BINSEARCH_UP&&(c=!0),c&&(s/=2),f=l.BINSEARCH_DOWN,m=-s),e.global_gain+=m,e.global_gain<0&&(e.global_gain=0,c=!0),e.global_gain>255&&(e.global_gain=255,c=!0)}while(r>a&&e.global_gain<255)e.global_gain++,r=i.count_bits(t,o,e,null);return t.CurrentStep[n]=d-e.global_gain>=4?4:2,t.OldValue[n]=e.global_gain,e.part2_3_length=r,r}function d(t){for(var e=0;e<t.sfbmax;e++)if(t.scalefac[e]+t.subblock_gain[t.window[e]]==0)return!1;return!0}function h(t){return u.FAST_LOG10(.368+.632*t*t*t)}function v(t,e){for(var a=1e-37,i=0;i<e.psymax;i++)a+=h(t[i]);return Math.max(1e-20,a)}function _(t,e,a,i,n){var o;switch(t){default:case 9:e.over_count>0?(o=a.over_SSD<=e.over_SSD,a.over_SSD==e.over_SSD&&(o=a.bits<e.bits)):o=a.max_noise<0&&10*a.max_noise+a.bits<=10*e.max_noise+e.bits;break;case 0:o=a.over_count<e.over_count||a.over_count==e.over_count&&a.over_noise<e.over_noise||a.over_count==e.over_count&&T.EQ(a.over_noise,e.over_noise)&&a.tot_noise<e.tot_noise;break;case 8:a.max_noise=v(n,i);case 1:o=a.max_noise<e.max_noise;break;case 2:o=a.tot_noise<e.tot_noise;break;case 3:o=a.tot_noise<e.tot_noise&&a.max_noise<e.max_noise;break;case 4:o=a.max_noise<=0&&e.max_noise>.2||a.max_noise<=0&&e.max_noise<0&&e.max_noise>a.max_noise-.2&&a.tot_noise<e.tot_noise||a.max_noise<=0&&e.max_noise>0&&e.max_noise>a.max_noise-.2&&a.tot_noise<e.tot_noise+e.over_noise||a.max_noise>0&&e.max_noise>-.05&&e.max_noise>a.max_noise-.1&&a.tot_noise+a.over_noise<e.tot_noise+e.over_noise||a.max_noise>0&&e.max_noise>-.1&&e.max_noise>a.max_noise-.15&&a.tot_noise+a.over_noise+a.over_noise<e.tot_noise+e.over_noise+e.over_noise;break;case 5:o=a.over_noise<e.over_noise||T.EQ(a.over_noise,e.over_noise)&&a.tot_noise<e.tot_noise;break;case 6:o=a.over_noise<e.over_noise||T.EQ(a.over_noise,e.over_noise)&&(a.max_noise<e.max_noise||T.EQ(a.max_noise,e.max_noise)&&a.tot_noise<=e.tot_noise);break;case 7:o=a.over_count<e.over_count||a.over_noise<e.over_noise;break}return 0==e.over_count&&(o=o&&a.bits<e.bits),o}function g(t,e,a,i,n){var o,r=t.internal_flags;o=0==e.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var s=0,l=0;l<e.sfbmax;l++)s<a[l]&&(s=a[l]);var c=r.noise_shaping_amp;switch(3==c&&(c=n?2:1),c){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;case 0:default:s>1?s=1:s*=.95;break}var d=0;for(l=0;l<e.sfbmax;l++){var f,m=e.width[l];if(d+=m,!(a[l]<s)){if(0!=(2&r.substep_shaping)&&(r.pseudohalf[l]=0==r.pseudohalf[l]?1:0,0==r.pseudohalf[l]&&2==r.noise_shaping_amp))return;for(e.scalefac[l]++,f=-m;f<0;f++)i[d+f]*=o,i[d+f]>e.xrpow_max&&(e.xrpow_max=i[d+f]);if(2==r.noise_shaping_amp)return}}}function b(t,e){for(var i=1.2968395546510096,n=0,o=0;o<t.sfbmax;o++){var r=t.width[o],s=t.scalefac[o];if(0!=t.preflag&&(s+=a.pretab[o]),n+=r,0!=(1&s)){s++;for(var l=-r;l<0;l++)e[n+l]*=i,e[n+l]>t.xrpow_max&&(t.xrpow_max=e[n+l])}t.scalefac[o]=s>>1}t.preflag=0,t.scalefac_scale=1}function w(t,e,i){var n,o=e.scalefac;for(n=0;n<e.sfb_lmax;n++)if(o[n]>=16)return!0;for(var r=0;r<3;r++){var s=0,l=0;for(n=e.sfb_lmax+r;n<e.sfbdivide;n+=3)s<o[n]&&(s=o[n]);for(;n<e.sfbmax;n+=3)l<o[n]&&(l=o[n]);if(!(s<16&&l<8)){if(e.subblock_gain[r]>=7)return!0;e.subblock_gain[r]++;var c=t.scalefac_band.l[e.sfb_lmax];for(n=e.sfb_lmax+r;n<e.sfbmax;n+=3){var d=e.width[n],f=o[n];if(f-=4>>e.scalefac_scale,f>=0)o[n]=f,c+=3*d;else{o[n]=0;var m=210+(f<<e.scalefac_scale+1);h=a.IPOW20(m),c+=d*(r+1);for(var u=-d;u<0;u++)i[c+u]*=h,i[c+u]>e.xrpow_max&&(e.xrpow_max=i[c+u]);c+=d*(3-r-1)}}var h=a.IPOW20(202);c+=e.width[n]*(r+1);for(u=-e.width[n];u<0;u++)i[c+u]*=h,i[c+u]>e.xrpow_max&&(e.xrpow_max=i[c+u])}}return!1}function x(t,e,a,n,o){var r=t.internal_flags;g(t,e,a,n,o);var s=d(e);return!s&&(s=2==r.mode_gr?i.scale_bitcount(e):i.scale_bitcount_lsf(r,e),!s||(r.noise_shaping>1&&(f.fill(r.pseudohalf,0),0==e.scalefac_scale?(b(e,n),s=!1):e.block_type==U.SHORT_TYPE&&r.subblock_gain>0&&(s=w(r,e,n)||d(e))),s||(s=2==r.mode_gr?i.scale_bitcount(e):i.scale_bitcount_lsf(r,e)),!s))}this.setModules=function(o,r,s,l){t=o,e=r,this.rv=r,a=s,this.qupvt=s,i=l,n.setModules(a,i)},this.ms_convert=function(t,e){for(var a=0;a<576;++a){var i=t.tt[e][0].xr[a],n=t.tt[e][1].xr[a];t.tt[e][0].xr[a]=(i+n)*(.5*u.SQRT2),t.tt[e][1].xr[a]=(i-n)*(.5*u.SQRT2)}},this.init_xrpow=function(t,e,a){var i=0,n=0|e.max_nonzero_coeff;if(e.xrpow_max=0,f.fill(a,n,576,0),i=r(e,a,n,i),i>1e-20){var o=0;0!=(2&t.substep_shaping)&&(o=1);for(var s=0;s<e.psymax;s++)t.pseudohalf[s]=o;return!0}return f.fill(e.l3_enc,0,576,0),!1},this.init_outer_loop=function(t,e){e.part2_3_length=0,e.big_values=0,e.count1=0,e.global_gain=210,e.scalefac_compress=0,e.table_select[0]=0,e.table_select[1]=0,e.table_select[2]=0,e.subblock_gain[0]=0,e.subblock_gain[1]=0,e.subblock_gain[2]=0,e.subblock_gain[3]=0,e.region0_count=0,e.region1_count=0,e.preflag=0,e.scalefac_scale=0,e.count1table_select=0,e.part2_length=0,e.sfb_lmax=U.SBPSY_l,e.sfb_smin=U.SBPSY_s,e.psy_lmax=t.sfb21_extra?U.SBMAX_l:U.SBPSY_l,e.psymax=e.psy_lmax,e.sfbmax=e.sfb_lmax,e.sfbdivide=11;for(var i=0;i<U.SBMAX_l;i++)e.width[i]=t.scalefac_band.l[i+1]-t.scalefac_band.l[i],e.window[i]=3;if(e.block_type==U.SHORT_TYPE){var n=o(576);e.sfb_smin=0,e.sfb_lmax=0,0!=e.mixed_block_flag&&(e.sfb_smin=3,e.sfb_lmax=2*t.mode_gr+4),e.psymax=e.sfb_lmax+3*((t.sfb21_extra?U.SBMAX_s:U.SBPSY_s)-e.sfb_smin),e.sfbmax=e.sfb_lmax+3*(U.SBPSY_s-e.sfb_smin),e.sfbdivide=e.sfbmax-18,e.psy_lmax=e.sfb_lmax;var r=t.scalefac_band.l[e.sfb_lmax];m.arraycopy(e.xr,0,n,0,576);for(i=e.sfb_smin;i<U.SBMAX_s;i++)for(var l=t.scalefac_band.s[i],c=t.scalefac_band.s[i+1],d=0;d<3;d++)for(var u=l;u<c;u++)e.xr[r++]=n[3*u+d];var h=e.sfb_lmax;for(i=e.sfb_smin;i<U.SBMAX_s;i++)e.width[h]=e.width[h+1]=e.width[h+2]=t.scalefac_band.s[i+1]-t.scalefac_band.s[i],e.window[h]=0,e.window[h+1]=1,e.window[h+2]=2,h+=3}e.count1bits=0,e.sfb_partition_table=a.nr_of_sfb_block[0][0],e.slen[0]=0,e.slen[1]=0,e.slen[2]=0,e.slen[3]=0,e.max_nonzero_coeff=575,f.fill(e.scalefac,0),s(t,e)},l.BINSEARCH_NONE=new l(0),l.BINSEARCH_UP=new l(1),l.BINSEARCH_DOWN=new l(2),this.trancate_smallspectrums=function(t,e,n,r){var s=o(F.SFBMAX);if((0!=(4&t.substep_shaping)||e.block_type!=U.SHORT_TYPE)&&0==(128&t.substep_shaping)){a.calc_noise(e,n,s,new k,null);for(var l=0;l<576;l++){var c=0;0!=e.l3_enc[l]&&(c=Math.abs(e.xr[l])),r[l]=c}l=0;var d=8;e.block_type==U.SHORT_TYPE&&(d=6);do{var m,u,h,v,p=e.width[d];if(l+=p,!(s[d]>=1)&&(f.sort(r,l-p,p),!T.EQ(r[l-1],0))){m=(1-s[d])*n[d],u=0,v=0;do{var _;for(h=1;v+h<p;h++)if(T.NEQ(r[v+l-p],r[v+l+h-p]))break;if(_=r[v+l-p]*r[v+l-p]*h,m<_){0!=v&&(u=r[v+l-p-1]);break}m-=_,v+=h}while(v<p);if(!T.EQ(u,0))do{Math.abs(e.xr[l-p])<=u&&(e.l3_enc[l-p]=0)}while(--p>0)}}while(++d<e.psymax);e.part2_3_length=i.noquant_count_bits(t,e,null)}},this.outer_loop=function(t,e,n,r,s,l){var d,f=t.internal_flags,u=new N,h=o(576),v=o(F.SFBMAX),g=new k,b=new L,w=9999999,D=!1,C=!1,T=0;if(c(f,e,l,s,r),0==f.noise_shaping)return 100;a.calc_noise(e,n,v,g,b),g.bits=e.part2_3_length,u.assign(e);var S=0;m.arraycopy(r,0,h,0,576);while(!D){do{var y,I=new k,B=255;if(y=0!=(2&f.substep_shaping)?20:3,f.sfb21_extra){if(v[u.sfbmax]>1)break;if(u.block_type==U.SHORT_TYPE&&(v[u.sfbmax+1]>1||v[u.sfbmax+2]>1))break}if(!x(t,u,v,r,C))break;0!=u.scalefac_scale&&(B=254);var M=l-u.part2_length;if(M<=0)break;while((u.part2_3_length=i.count_bits(f,r,u,b))>M&&u.global_gain<=B)u.global_gain++;if(u.global_gain>B)break;if(0==g.over_count){while((u.part2_3_length=i.count_bits(f,r,u,b))>w&&u.global_gain<=B)u.global_gain++;if(u.global_gain>B)break}if(a.calc_noise(u,n,v,I,b),I.bits=u.part2_3_length,d=e.block_type!=U.SHORT_TYPE?t.quant_comp:t.quant_comp_short,d=_(d,g,I,u,v)?1:0,0!=d)w=e.part2_3_length,g=I,e.assign(u),S=0,m.arraycopy(r,0,h,0,576);else if(0==f.full_outer_loop){if(++S>y&&0==g.over_count)break;if(3==f.noise_shaping_amp&&C&&S>30)break;if(3==f.noise_shaping_amp&&C&&u.global_gain-T>15)break}}while(u.global_gain+u.scalefac_scale<255);3==f.noise_shaping_amp?C?D=!0:(u.assign(e),m.arraycopy(h,0,r,0,576),S=0,T=u.global_gain,C=!0):D=!0}return t.VBR==p.vbr_rh||t.VBR==p.vbr_mtrh?m.arraycopy(h,0,r,0,576):0!=(1&f.substep_shaping)&&trancate_smallspectrums(f,e,n,r),g.over_count},this.iteration_finish_one=function(t,a,n){var o=t.l3_side,r=o.tt[a][n];i.best_scalefac_store(t,a,n,o),1==t.use_best_huffman&&i.best_huffman_divide(t,r),e.ResvAdjust(t,r)},this.VBR_encode_granule=function(t,e,a,i,n,r,s){var l,c,d=t.internal_flags,u=new N,h=o(576),v=s,p=s+1,_=(s+r)/2,g=0,b=d.sfb21_extra;f.fill(u.l3_enc,0);do{d.sfb21_extra=!(_>v-42)&&b,c=outer_loop(t,e,a,i,n,_),c<=0?(g=1,p=e.part2_3_length,u.assign(e),m.arraycopy(i,0,h,0,576),s=p-32,l=s-r,_=(s+r)/2):(r=_+32,l=s-r,_=(s+r)/2,0!=g&&(g=2,e.assign(u),m.arraycopy(h,0,i,0,576)))}while(l>12);d.sfb21_extra=b,2==g&&m.arraycopy(u.l3_enc,0,e.l3_enc,0,576)},this.get_framebits=function(a,i){var n=a.internal_flags;n.bitrate_index=n.VBR_min_bitrate;var o=t.getframebits(a);n.bitrate_index=1,o=t.getframebits(a);for(var r=1;r<=n.VBR_max_bitrate;r++){n.bitrate_index=r;var s=new I(o);i[r]=e.ResvFrameBegin(a,s),o=s.bits}},this.VBR_old_prepare=function(t,i,n,o,r,s,l,c,d){var f,m=t.internal_flags,u=0,h=1,v=0;m.bitrate_index=m.VBR_max_bitrate;var p=e.ResvFrameBegin(t,new I(0))/m.mode_gr;get_framebits(t,s);for(var _=0;_<m.mode_gr;_++){var g=a.on_pe(t,i,c[_],p,_,0);m.mode_ext==U.MPG_MD_MS_LR&&(ms_convert(m.l3_side,_),a.reduce_side(c[_],n[_],p,g));for(var b=0;b<m.channels_out;++b){var w=m.l3_side.tt[_][b];w.block_type!=U.SHORT_TYPE?(u=1.28/(1+Math.exp(3.5-i[_][b]/300))-.05,f=m.PSY.mask_adjust-u):(u=2.56/(1+Math.exp(3.5-i[_][b]/300))-.14,f=m.PSY.mask_adjust_short-u),m.masking_lower=Math.pow(10,.1*f),init_outer_loop(m,w),d[_][b]=a.calc_xmin(t,o[_][b],w,r[_][b]),0!=d[_][b]&&(h=0),l[_][b]=126,v+=c[_][b]}}for(_=0;_<m.mode_gr;_++)for(b=0;b<m.channels_out;b++)v>s[m.VBR_max_bitrate]&&(c[_][b]*=s[m.VBR_max_bitrate],c[_][b]/=v),l[_][b]>c[_][b]&&(l[_][b]=c[_][b]);return h},this.bitpressure_strategy=function(t,e,a,i){for(var n=0;n<t.mode_gr;n++)for(var o=0;o<t.channels_out;o++){for(var r=t.l3_side.tt[n][o],s=e[n][o],l=0,c=0;c<r.psy_lmax;c++)s[l++]*=1+.029*c*c/U.SBMAX_l/U.SBMAX_l;if(r.block_type==U.SHORT_TYPE)for(c=r.sfb_smin;c<U.SBMAX_s;c++)s[l++]*=1+.029*c*c/U.SBMAX_s/U.SBMAX_s,s[l++]*=1+.029*c*c/U.SBMAX_s/U.SBMAX_s,s[l++]*=1+.029*c*c/U.SBMAX_s/U.SBMAX_s;i[n][o]=0|Math.max(a[n][o],.9*i[n][o])}},this.VBR_new_prepare=function(t,i,n,o,r,s){var l,c=t.internal_flags,d=1,f=0,m=0;if(t.free_format){c.bitrate_index=0;u=new I(f);l=e.ResvFrameBegin(t,u),f=u.bits,r[0]=l}else{c.bitrate_index=c.VBR_max_bitrate;var u=new I(f);e.ResvFrameBegin(t,u),f=u.bits,get_framebits(t,r),l=r[c.VBR_max_bitrate]}for(var h=0;h<c.mode_gr;h++){a.on_pe(t,i,s[h],f,h,0),c.mode_ext==U.MPG_MD_MS_LR&&ms_convert(c.l3_side,h);for(var v=0;v<c.channels_out;++v){var p=c.l3_side.tt[h][v];c.masking_lower=Math.pow(10,.1*c.PSY.mask_adjust),init_outer_loop(c,p),0!=a.calc_xmin(t,n[h][v],p,o[h][v])&&(d=0),m+=s[h][v]}}for(h=0;h<c.mode_gr;h++)for(v=0;v<c.channels_out;v++)m>l&&(s[h][v]*=l,s[h][v]/=m);return d},this.calc_target_bits=function(i,n,o,r,s,l){var c,d,f,m,u=i.internal_flags,h=u.l3_side,v=0;u.bitrate_index=u.VBR_max_bitrate;var p=new I(v);for(l[0]=e.ResvFrameBegin(i,p),v=p.bits,u.bitrate_index=1,v=t.getframebits(i)-8*u.sideinfo_len,s[0]=v/(u.mode_gr*u.channels_out),v=i.VBR_mean_bitrate_kbps*i.framesize*1e3,0!=(1&u.substep_shaping)&&(v*=1.09),v/=i.out_samplerate,v-=8*u.sideinfo_len,v/=u.mode_gr*u.channels_out,c=.93+.07*(11-i.compression_ratio)/5.5,c<.9&&(c=.9),c>1&&(c=1),d=0;d<u.mode_gr;d++){var _=0;for(f=0;f<u.channels_out;f++){if(r[d][f]=int(c*v),n[d][f]>700){var g=int((n[d][f]-700)/1.4),b=h.tt[d][f];r[d][f]=int(c*v),b.block_type==U.SHORT_TYPE&&g<v/2&&(g=v/2),g>3*v/2?g=3*v/2:g<0&&(g=0),r[d][f]+=g}r[d][f]>q.MAX_BITS_PER_CHANNEL&&(r[d][f]=q.MAX_BITS_PER_CHANNEL),_+=r[d][f]}if(_>q.MAX_BITS_PER_GRANULE)for(f=0;f<u.channels_out;++f)r[d][f]*=q.MAX_BITS_PER_GRANULE,r[d][f]/=_}if(u.mode_ext==U.MPG_MD_MS_LR)for(d=0;d<u.mode_gr;d++)a.reduce_side(r[d],o[d],v*u.channels_out,q.MAX_BITS_PER_GRANULE);for(m=0,d=0;d<u.mode_gr;d++)for(f=0;f<u.channels_out;f++)r[d][f]>q.MAX_BITS_PER_CHANNEL&&(r[d][f]=q.MAX_BITS_PER_CHANNEL),m+=r[d][f];if(m>l[0])for(d=0;d<u.mode_gr;d++)for(f=0;f<u.channels_out;f++)r[d][f]*=l[0],r[d][f]/=m}}function H(){var t=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*u.SQRT2*.5/2384e-9,.017876148*u.SQRT2*.5/2384e-9,.003134727*u.SQRT2*.5/2384e-9,.002457142*u.SQRT2*.5/2384e-9,971317e-9*u.SQRT2*.5/2384e-9,218868e-9*u.SQRT2*.5/2384e-9,101566e-9*u.SQRT2*.5/2384e-9,13828e-9*u.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],e=12,a=36,i=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],n=i[U.SHORT_TYPE],r=i[U.SHORT_TYPE],s=i[U.SHORT_TYPE],l=i[U.SHORT_TYPE],c=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function d(e,a,i){for(var n,o,r,s=10,l=a+238-14-286,c=-15;c<0;c++){var d,f,m;d=t[s+-10],f=e[l+-224]*d,m=e[a+224]*d,d=t[s+-9],f+=e[l+-160]*d,m+=e[a+160]*d,d=t[s+-8],f+=e[l+-96]*d,m+=e[a+96]*d,d=t[s+-7],f+=e[l+-32]*d,m+=e[a+32]*d,d=t[s+-6],f+=e[l+32]*d,m+=e[a+-32]*d,d=t[s+-5],f+=e[l+96]*d,m+=e[a+-96]*d,d=t[s+-4],f+=e[l+160]*d,m+=e[a+-160]*d,d=t[s+-3],f+=e[l+224]*d,m+=e[a+-224]*d,d=t[s+-2],f+=e[a+-256]*d,m-=e[l+256]*d,d=t[s+-1],f+=e[a+-192]*d,m-=e[l+192]*d,d=t[s+0],f+=e[a+-128]*d,m-=e[l+128]*d,d=t[s+1],f+=e[a+-64]*d,m-=e[l+64]*d,d=t[s+2],f+=e[a+0]*d,m-=e[l+0]*d,d=t[s+3],f+=e[a+64]*d,m-=e[l+-64]*d,d=t[s+4],f+=e[a+128]*d,m-=e[l+-128]*d,d=t[s+5],f+=e[a+192]*d,m-=e[l+-192]*d,f*=t[s+6],d=m-f,i[30+2*c]=m+f,i[31+2*c]=t[s+7]*d,s+=18,a--,l++}m=e[a+-16]*t[s+-10],f=e[a+-32]*t[s+-2],m+=(e[a+-48]-e[a+16])*t[s+-9],f+=e[a+-96]*t[s+-1],m+=(e[a+-80]+e[a+48])*t[s+-8],f+=e[a+-160]*t[s+0],m+=(e[a+-112]-e[a+80])*t[s+-7],f+=e[a+-224]*t[s+1],m+=(e[a+-144]+e[a+112])*t[s+-6],f-=e[a+32]*t[s+2],m+=(e[a+-176]-e[a+144])*t[s+-5],f-=e[a+96]*t[s+3],m+=(e[a+-208]+e[a+176])*t[s+-4],f-=e[a+160]*t[s+4],m+=(e[a+-240]-e[a+208])*t[s+-3],f-=e[a+224],n=f-m,o=f+m,m=i[14],f=i[15]-m,i[31]=o+m,i[30]=n+f,i[15]=n-f,i[14]=o-m,r=i[28]-i[0],i[0]+=i[28],i[28]=r*t[s+-36+7],r=i[29]-i[1],i[1]+=i[29],i[29]=r*t[s+-36+7],r=i[26]-i[2],i[2]+=i[26],i[26]=r*t[s+-72+7],r=i[27]-i[3],i[3]+=i[27],i[27]=r*t[s+-72+7],r=i[24]-i[4],i[4]+=i[24],i[24]=r*t[s+-108+7],r=i[25]-i[5],i[5]+=i[25],i[25]=r*t[s+-108+7],r=i[22]-i[6],i[6]+=i[22],i[22]=r*u.SQRT2,r=i[23]-i[7],i[7]+=i[23],i[23]=r*u.SQRT2-i[7],i[7]-=i[6],i[22]-=i[7],i[23]-=i[22],r=i[6],i[6]=i[31]-r,i[31]=i[31]+r,r=i[7],i[7]=i[30]-r,i[30]=i[30]+r,r=i[22],i[22]=i[15]-r,i[15]=i[15]+r,r=i[23],i[23]=i[14]-r,i[14]=i[14]+r,r=i[20]-i[8],i[8]+=i[20],i[20]=r*t[s+-180+7],r=i[21]-i[9],i[9]+=i[21],i[21]=r*t[s+-180+7],r=i[18]-i[10],i[10]+=i[18],i[18]=r*t[s+-216+7],r=i[19]-i[11],i[11]+=i[19],i[19]=r*t[s+-216+7],r=i[16]-i[12],i[12]+=i[16],i[16]=r*t[s+-252+7],r=i[17]-i[13],i[13]+=i[17],i[17]=r*t[s+-252+7],r=-i[20]+i[24],i[20]+=i[24],i[24]=r*t[s+-216+7],r=-i[21]+i[25],i[21]+=i[25],i[25]=r*t[s+-216+7],r=i[4]-i[8],i[4]+=i[8],i[8]=r*t[s+-216+7],r=i[5]-i[9],i[5]+=i[9],i[9]=r*t[s+-216+7],r=i[0]-i[12],i[0]+=i[12],i[12]=r*t[s+-72+7],r=i[1]-i[13],i[1]+=i[13],i[13]=r*t[s+-72+7],r=i[16]-i[28],i[16]+=i[28],i[28]=r*t[s+-72+7],r=-i[17]+i[29],i[17]+=i[29],i[29]=r*t[s+-72+7],r=u.SQRT2*(i[2]-i[10]),i[2]+=i[10],i[10]=r,r=u.SQRT2*(i[3]-i[11]),i[3]+=i[11],i[11]=r,r=u.SQRT2*(-i[18]+i[26]),i[18]+=i[26],i[26]=r-i[18],r=u.SQRT2*(-i[19]+i[27]),i[19]+=i[27],i[27]=r-i[19],r=i[2],i[19]-=i[3],i[3]-=r,i[2]=i[31]-r,i[31]+=r,r=i[3],i[11]-=i[19],i[18]-=r,i[3]=i[30]-r,i[30]+=r,r=i[18],i[27]-=i[11],i[19]-=r,i[18]=i[15]-r,i[15]+=r,r=i[19],i[10]-=r,i[19]=i[14]-r,i[14]+=r,r=i[10],i[11]-=r,i[10]=i[23]-r,i[23]+=r,r=i[11],i[26]-=r,i[11]=i[22]-r,i[22]+=r,r=i[26],i[27]-=r,i[26]=i[7]-r,i[7]+=r,r=i[27],i[27]=i[6]-r,i[6]+=r,r=u.SQRT2*(i[0]-i[4]),i[0]+=i[4],i[4]=r,r=u.SQRT2*(i[1]-i[5]),i[1]+=i[5],i[5]=r,r=u.SQRT2*(i[16]-i[20]),i[16]+=i[20],i[20]=r,r=u.SQRT2*(i[17]-i[21]),i[17]+=i[21],i[21]=r,r=-u.SQRT2*(i[8]-i[12]),i[8]+=i[12],i[12]=r-i[8],r=-u.SQRT2*(i[9]-i[13]),i[9]+=i[13],i[13]=r-i[9],r=-u.SQRT2*(i[25]-i[29]),i[25]+=i[29],i[29]=r-i[25],r=-u.SQRT2*(i[24]+i[28]),i[24]-=i[28],i[28]=r-i[24],r=i[24]-i[16],i[24]=r,r=i[20]-r,i[20]=r,r=i[28]-r,i[28]=r,r=i[25]-i[17],i[25]=r,r=i[21]-r,i[21]=r,r=i[29]-r,i[29]=r,r=i[17]-i[1],i[17]=r,r=i[9]-r,i[9]=r,r=i[25]-r,i[25]=r,r=i[5]-r,i[5]=r,r=i[21]-r,i[21]=r,r=i[13]-r,i[13]=r,r=i[29]-r,i[29]=r,r=i[1]-i[0],i[1]=r,r=i[16]-r,i[16]=r,r=i[17]-r,i[17]=r,r=i[8]-r,i[8]=r,r=i[9]-r,i[9]=r,r=i[24]-r,i[24]=r,r=i[25]-r,i[25]=r,r=i[4]-r,i[4]=r,r=i[5]-r,i[5]=r,r=i[20]-r,i[20]=r,r=i[21]-r,i[21]=r,r=i[12]-r,i[12]=r,r=i[13]-r,i[13]=r,r=i[28]-r,i[28]=r,r=i[29]-r,i[29]=r,r=i[0],i[0]+=i[31],i[31]-=r,r=i[1],i[1]+=i[30],i[30]-=r,r=i[16],i[16]+=i[15],i[15]-=r,r=i[17],i[17]+=i[14],i[14]-=r,r=i[8],i[8]+=i[23],i[23]-=r,r=i[9],i[9]+=i[22],i[22]-=r,r=i[24],i[24]+=i[7],i[7]-=r,r=i[25],i[25]+=i[6],i[6]-=r,r=i[4],i[4]+=i[27],i[27]-=r,r=i[5],i[5]+=i[26],i[26]-=r,r=i[20],i[20]+=i[11],i[11]-=r,r=i[21],i[21]+=i[10],i[10]-=r,r=i[12],i[12]+=i[19],i[19]-=r,r=i[13],i[13]+=i[18],i[18]-=r,r=i[28],i[28]+=i[3],i[3]-=r,r=i[29],i[29]+=i[2],i[2]-=r}function h(t,e){for(var a=0;a<3;a++){var n,o,r,s,l,c;s=t[e+6]*i[U.SHORT_TYPE][0]-t[e+15],n=t[e+0]*i[U.SHORT_TYPE][2]-t[e+9],o=s+n,r=s-n,s=t[e+15]*i[U.SHORT_TYPE][0]+t[e+6],n=t[e+9]*i[U.SHORT_TYPE][2]+t[e+0],l=s+n,c=-s+n,n=2069978111953089e-26*(t[e+3]*i[U.SHORT_TYPE][1]-t[e+12]),s=2069978111953089e-26*(t[e+12]*i[U.SHORT_TYPE][1]+t[e+3]),t[e+0]=190752519173728e-25*o+n,t[e+15]=190752519173728e-25*-l+s,r=.8660254037844387*r*1907525191737281e-26,l=.5*l*1907525191737281e-26+s,t[e+3]=r-l,t[e+6]=r+l,o=.5*o*1907525191737281e-26-n,c=.8660254037844387*c*1907525191737281e-26,t[e+9]=o+c,t[e+12]=o-c,e++}}function v(t,e,a){var i,n,o,s,l,c,d,f,m,u,h,v,p,_,g,b,w,x;o=a[17]-a[9],l=a[15]-a[11],c=a[14]-a[12],d=a[0]+a[8],f=a[1]+a[7],m=a[2]+a[6],u=a[3]+a[5],t[e+17]=d+m-u-(f-a[4]),n=(d+m-u)*r[19]+(f-a[4]),i=(o-l-c)*r[18],t[e+5]=i+n,t[e+6]=i-n,s=(a[16]-a[10])*r[18],f=f*r[19]+a[4],i=o*r[12]+s+l*r[13]+c*r[14],n=-d*r[16]+f-m*r[17]+u*r[15],t[e+1]=i+n,t[e+2]=i-n,i=o*r[13]-s-l*r[14]+c*r[12],n=-d*r[17]+f-m*r[15]+u*r[16],t[e+9]=i+n,t[e+10]=i-n,i=o*r[14]-s+l*r[12]-c*r[13],n=d*r[15]-f+m*r[16]-u*r[17],t[e+13]=i+n,t[e+14]=i-n,h=a[8]-a[0],p=a[6]-a[2],_=a[5]-a[3],g=a[17]+a[9],b=a[16]+a[10],w=a[15]+a[11],x=a[14]+a[12],t[e+0]=g+w+x+(b+a[13]),i=(g+w+x)*r[19]-(b+a[13]),n=(h-p+_)*r[18],t[e+11]=i+n,t[e+12]=i-n,v=(a[7]-a[1])*r[18],b=a[13]-b*r[19],i=g*r[15]-b+w*r[16]+x*r[17],n=h*r[14]+v+p*r[12]+_*r[13],t[e+3]=i+n,t[e+4]=i-n,i=-g*r[17]+b-w*r[15]-x*r[16],n=h*r[13]+v-p*r[14]-_*r[12],t[e+7]=i+n,t[e+8]=i-n,i=-g*r[16]+b-w*r[17]-x*r[15],n=h*r[12]-v+p*r[13]-_*r[14],t[e+15]=i+n,t[e+16]=i-n}this.mdct_sub48=function(t,r,u){for(var p=r,_=286,g=0;g<t.channels_out;g++){for(var b=0;b<t.mode_gr;b++){for(var w,x=t.l3_side.tt[b][g],D=x.xr,C=0,T=t.sb_sample[g][1-b],S=0,y=0;y<9;y++)for(d(p,_,T[S]),d(p,_+32,T[S+1]),S+=2,_+=64,w=1;w<32;w+=2)T[S-1][w]*=-1;for(w=0;w<32;w++,C+=18){var I=x.block_type,k=t.sb_sample[g][b],B=t.sb_sample[g][1-b];if(0!=x.mixed_block_flag&&w<2&&(I=0),t.amp_filter[w]<1e-12)f.fill(D,C+0,C+18,0);else{if(t.amp_filter[w]<1)for(y=0;y<18;y++)B[y][c[w]]*=t.amp_filter[w];if(I==U.SHORT_TYPE){for(y=-e/4;y<0;y++){var M=i[U.SHORT_TYPE][y+3];D[C+3*y+9]=k[9+y][c[w]]*M-k[8-y][c[w]],D[C+3*y+18]=k[14-y][c[w]]*M+k[15+y][c[w]],D[C+3*y+10]=k[15+y][c[w]]*M-k[14-y][c[w]],D[C+3*y+19]=B[2-y][c[w]]*M+B[3+y][c[w]],D[C+3*y+11]=B[3+y][c[w]]*M-B[2-y][c[w]],D[C+3*y+20]=B[8-y][c[w]]*M+B[9+y][c[w]]}h(D,C)}else{var P=o(18);for(y=-a/4;y<0;y++){var E,A;E=i[I][y+27]*B[y+9][c[w]]+i[I][y+36]*B[8-y][c[w]],A=i[I][y+9]*k[y+9][c[w]]-i[I][y+18]*k[8-y][c[w]],P[y+9]=E-A*n[3+y+9],P[y+18]=E*n[3+y+9]+A}v(D,C,P)}}if(I!=U.SHORT_TYPE&&0!=w)for(y=7;y>=0;--y){var R,O;R=D[C+y]*s[20+y]+D[C+-1-y]*l[28+y],O=D[C+y]*l[28+y]-D[C+-1-y]*s[20+y],D[C+-1-y]=R,D[C+y]=O}}}if(p=u,_=286,1==t.mode_gr)for(var L=0;L<18;L++)m.arraycopy(t.sb_sample[g][1][L],0,t.sb_sample[g][0][L],0,32)}}}function V(){this.thm=new G,this.en=new G}function U(){var t=U.FFTOFFSET,e=U.MPG_MD_MS_LR,a=null;this.psy=null;var i=null,r=null,l=null;this.setModules=function(t,e,n,o){a=t,this.psy=e,i=e,r=o,l=n};var c=new H;function f(t){var e,a;if(0!=t.ATH.useAdjust)if(a=t.loudness_sq[0][0],e=t.loudness_sq[1][0],2==t.channels_out?(a+=t.loudness_sq[0][1],e+=t.loudness_sq[1][1]):(a+=a,e+=e),2==t.mode_gr&&(a=Math.max(a,e)),a*=.5,a*=t.ATH.aaSensitivityP,a>.03125)t.ATH.adjust>=1?t.ATH.adjust=1:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=1;else{var i=31.98*a+625e-6;t.ATH.adjust>=i?(t.ATH.adjust*=.075*i+.925,t.ATH.adjust<i&&(t.ATH.adjust=i)):t.ATH.adjustLimit>=i?t.ATH.adjust=i:t.ATH.adjust<t.ATH.adjustLimit&&(t.ATH.adjust=t.ATH.adjustLimit),t.ATH.adjustLimit=i}else t.ATH.adjust=1}function u(t){var e,a;for(t.bitrate_stereoMode_Hist[t.bitrate_index][4]++,t.bitrate_stereoMode_Hist[15][4]++,2==t.channels_out&&(t.bitrate_stereoMode_Hist[t.bitrate_index][t.mode_ext]++,t.bitrate_stereoMode_Hist[15][t.mode_ext]++),e=0;e<t.mode_gr;++e)for(a=0;a<t.channels_out;++a){var i=0|t.l3_side.tt[e][a].block_type;0!=t.l3_side.tt[e][a].mixed_block_flag&&(i=4),t.bitrate_blockType_Hist[t.bitrate_index][i]++,t.bitrate_blockType_Hist[t.bitrate_index][5]++,t.bitrate_blockType_Hist[15][i]++,t.bitrate_blockType_Hist[15][5]++}}function h(t,e){var a,i,n=t.internal_flags;if(0==n.lame_encode_frame_init){var r,s,l=o(2014),d=o(2014);for(n.lame_encode_frame_init=1,r=0,s=0;r<286+576*(1+n.mode_gr);++r)r<576*n.mode_gr?(l[r]=0,2==n.channels_out&&(d[r]=0)):(l[r]=e[0][s],2==n.channels_out&&(d[r]=e[1][s]),++s);for(i=0;i<n.mode_gr;i++)for(a=0;a<n.channels_out;a++)n.l3_side.tt[i][a].block_type=U.SHORT_TYPE;c.mdct_sub48(n,l,d)}}this.lame_encode_mp3_frame=function(o,v,g,b,w,x){var D,C=d([2,2]);C[0][0]=new V,C[0][1]=new V,C[1][0]=new V,C[1][1]=new V;var T,S=d([2,2]);S[0][0]=new V,S[0][1]=new V,S[1][0]=new V,S[1][1]=new V;var y,I,k,B=[null,null],M=o.internal_flags,P=s([2,4]),E=[.5,.5],A=[[0,0],[0,0]],R=[[0,0],[0,0]];if(B[0]=v,B[1]=g,0==M.lame_encode_frame_init&&h(o,B),M.padding=0,(M.slot_lag-=M.frac_SpF)<0&&(M.slot_lag+=o.out_samplerate,M.padding=1),0!=M.psymodel){var O,L=[null,null],N=0,F=n(2);for(k=0;k<M.mode_gr;k++){for(I=0;I<M.channels_out;I++)L[I]=B[I],N=576+576*k-U.FFTOFFSET;if(O=o.VBR==p.vbr_mtrh||o.VBR==p.vbr_mt?i.L3psycho_anal_vbr(o,L,N,k,C,S,A[k],R[k],P[k],F):i.L3psycho_anal_ns(o,L,N,k,C,S,A[k],R[k],P[k],F),0!=O)return-4;for(o.mode==_.JOINT_STEREO&&(E[k]=P[k][2]+P[k][3],E[k]>0&&(E[k]=P[k][3]/E[k])),I=0;I<M.channels_out;I++){var z=M.l3_side.tt[k][I];z.block_type=F[I],z.mixed_block_flag=0}}}else for(k=0;k<M.mode_gr;k++)for(I=0;I<M.channels_out;I++)M.l3_side.tt[k][I].block_type=U.NORM_TYPE,M.l3_side.tt[k][I].mixed_block_flag=0,R[k][I]=A[k][I]=700;if(f(M),c.mdct_sub48(M,B[0],B[1]),M.mode_ext=U.MPG_MD_LR_LR,o.force_ms)M.mode_ext=U.MPG_MD_MS_LR;else if(o.mode==_.JOINT_STEREO){var H=0,Y=0;for(k=0;k<M.mode_gr;k++)for(I=0;I<M.channels_out;I++)H+=R[k][I],Y+=A[k][I];if(H<=1*Y){var j=M.l3_side.tt[0],G=M.l3_side.tt[M.mode_gr-1];j[0].block_type==j[1].block_type&&G[0].block_type==G[1].block_type&&(M.mode_ext=U.MPG_MD_MS_LR)}}if(M.mode_ext==e?(T=S,y=R):(T=C,y=A),o.analysis&&null!=M.pinfo)for(k=0;k<M.mode_gr;k++)for(I=0;I<M.channels_out;I++)M.pinfo.ms_ratio[k]=M.ms_ratio[k],M.pinfo.ms_ener_ratio[k]=E[k],M.pinfo.blocktype[k][I]=M.l3_side.tt[k][I].block_type,M.pinfo.pe[k][I]=y[k][I],m.arraycopy(M.l3_side.tt[k][I].xr,0,M.pinfo.xr[k][I],0,576),M.mode_ext==e&&(M.pinfo.ers[k][I]=M.pinfo.ers[k][I+2],m.arraycopy(M.pinfo.energy[k][I+2],0,M.pinfo.energy[k][I],0,M.pinfo.energy[k][I].length));if(o.VBR==p.vbr_off||o.VBR==p.vbr_abr){var X,q;for(X=0;X<18;X++)M.nsPsy.pefirbuf[X]=M.nsPsy.pefirbuf[X+1];for(q=0,k=0;k<M.mode_gr;k++)for(I=0;I<M.channels_out;I++)q+=y[k][I];for(M.nsPsy.pefirbuf[18]=q,q=M.nsPsy.pefirbuf[9],X=0;X<9;X++)q+=(M.nsPsy.pefirbuf[X]+M.nsPsy.pefirbuf[18-X])*U.fircoef[X];for(q=3350*M.mode_gr*M.channels_out/q,k=0;k<M.mode_gr;k++)for(I=0;I<M.channels_out;I++)y[k][I]*=q}if(M.iteration_loop.iteration_loop(o,y,E,T),a.format_bitstream(o),D=a.copy_buffer(M,b,w,x,1),o.bWriteVbrTag&&r.addVbrFrame(o),o.analysis&&null!=M.pinfo){for(I=0;I<M.channels_out;I++){var K;for(K=0;K<t;K++)M.pinfo.pcmdata[I][K]=M.pinfo.pcmdata[I][K+o.framesize];for(K=t;K<1600;K++)M.pinfo.pcmdata[I][K]=B[I][K-t]}l.set_frame_pinfo(o,T)}return u(M),D}}function Y(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function j(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[n(4),n(4)];for(var t=0;t<2;t++)for(var e=0;e<2;e++)this.tt[t][e]=new N}function G(){this.l=o(U.SBMAX_l),this.s=s([U.SBMAX_s,3]);var t=this;this.assign=function(e){m.arraycopy(e.l,0,t.l,0,U.SBMAX_l);for(var a=0;a<U.SBMAX_s;a++)for(var i=0;i<3;i++)t.s[a][i]=e.s[a][i]}}function X(){this.last_en_subshort=s([4,9]),this.lastAttacks=n(4),this.pefirbuf=o(19),this.longfact=o(U.SBMAX_l),this.shortfact=o(U.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function q(){var t=40;function e(){this.write_timing=0,this.ptr=0,this.buf=a(t)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=s([2,q.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new j,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=n(2),this.CurrentStep=n(2),this.masking_lower=0,this.bv_scf=n(576),this.pseudohalf=n(F.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*q.BPC+1),this.itime=r(2),this.sideinfo_len=0,this.sb_sample=s([2,2,18,U.SBLIMIT]),this.amp_filter=o(32),this.header=new Array(q.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new R,this.minval_l=o(U.CBANDS),this.minval_s=o(U.CBANDS),this.nb_1=s([4,U.CBANDS]),this.nb_2=s([4,U.CBANDS]),this.nb_s1=s([4,U.CBANDS]),this.nb_s2=s([4,U.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=s([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(U.SBMAX_l),this.mld_s=o(U.SBMAX_s),this.bm_l=n(U.SBMAX_l),this.bo_l=n(U.SBMAX_l),this.bm_s=n(U.SBMAX_s),this.bo_s=n(U.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=l([U.CBANDS,2]),this.s3ind_s=l([U.CBANDS,2]),this.numlines_s=n(U.CBANDS),this.numlines_l=n(U.CBANDS),this.rnumlines_l=o(U.CBANDS),this.mld_cb_l=o(U.CBANDS),this.mld_cb_s=o(U.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=n(2),this.nsPsy=new X,this.VBR_seek_table=new Y,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=l([16,5]),this.bitrate_blockType_Hist=l([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var i=0;i<this.en.length;i++)this.en[i]=new G;for(i=0;i<this.thm.length;i++)this.thm[i]=new G;for(i=0;i<this.header.length;i++)this.header[i]=new e}function K(){var t=o(U.BLKSIZE),e=o(U.BLKSIZE_s/2),a=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function i(t,e,i){var n,o,r,s=0;i<<=1;var l=e+i;n=4;do{var c,d,f,m,h,v,p;p=n>>1,m=n,h=n<<1,v=h+m,n=h<<1,o=e,r=o+p;do{C=t[o+0]-t[o+m],D=t[o+0]+t[o+m],I=t[o+h]-t[o+v],S=t[o+h]+t[o+v],t[o+h]=D-S,t[o+0]=D+S,t[o+v]=C-I,t[o+m]=C+I,C=t[r+0]-t[r+m],D=t[r+0]+t[r+m],I=u.SQRT2*t[r+v],S=u.SQRT2*t[r+h],t[r+h]=D-S,t[r+0]=D+S,t[r+v]=C-I,t[r+m]=C+I,r+=n,o+=n}while(o<l);for(d=a[s+0],c=a[s+1],f=1;f<p;f++){var _,g;_=1-2*c*c,g=2*c*d,o=e+f,r=e+m-f;do{var b,w,x,D,C,T,S,y,I,k;w=g*t[o+m]-_*t[r+m],b=_*t[o+m]+g*t[r+m],C=t[o+0]-b,D=t[o+0]+b,T=t[r+0]-w,x=t[r+0]+w,w=g*t[o+v]-_*t[r+v],b=_*t[o+v]+g*t[r+v],I=t[o+h]-b,S=t[o+h]+b,k=t[r+h]-w,y=t[r+h]+w,w=c*S-d*k,b=d*S+c*k,t[o+h]=D-b,t[o+0]=D+b,t[r+v]=T-w,t[r+m]=T+w,w=d*y-c*I,b=c*y+d*I,t[r+h]=x-b,t[r+0]=x+b,t[o+v]=C-w,t[o+m]=C+w,r+=n,o+=n}while(o<l);_=d,d=_*a[s+0]-c*a[s+1],c=_*a[s+1]+c*a[s+0]}s+=2}while(n<i)}var n=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(t,a,o,r,s){for(var l=0;l<3;l++){var c=U.BLKSIZE_s/2,d=65535&192*(l+1),f=U.BLKSIZE_s/8-1;do{var m,u,h,v,p,_=255&n[f<<2];m=e[_]*r[o][s+_+d],p=e[127-_]*r[o][s+_+d+128],u=m-p,m+=p,h=e[_+64]*r[o][s+_+d+64],p=e[63-_]*r[o][s+_+d+192],v=h-p,h+=p,c-=4,a[l][c+0]=m+h,a[l][c+2]=m-h,a[l][c+1]=u+v,a[l][c+3]=u-v,m=e[_+1]*r[o][s+_+d+1],p=e[126-_]*r[o][s+_+d+129],u=m-p,m+=p,h=e[_+65]*r[o][s+_+d+65],p=e[62-_]*r[o][s+_+d+193],v=h-p,h+=p,a[l][c+U.BLKSIZE_s/2+0]=m+h,a[l][c+U.BLKSIZE_s/2+2]=m-h,a[l][c+U.BLKSIZE_s/2+1]=u+v,a[l][c+U.BLKSIZE_s/2+3]=u-v}while(--f>=0);i(a[l],c,U.BLKSIZE_s/2)}},this.fft_long=function(e,a,o,r,s){var l=U.BLKSIZE/8-1,c=U.BLKSIZE/2;do{var d,f,m,u,h,v=255&n[l];d=t[v]*r[o][s+v],h=t[v+512]*r[o][s+v+512],f=d-h,d+=h,m=t[v+256]*r[o][s+v+256],h=t[v+768]*r[o][s+v+768],u=m-h,m+=h,c-=4,a[c+0]=d+m,a[c+2]=d-m,a[c+1]=f+u,a[c+3]=f-u,d=t[v+1]*r[o][s+v+1],h=t[v+513]*r[o][s+v+513],f=d-h,d+=h,m=t[v+257]*r[o][s+v+257],h=t[v+769]*r[o][s+v+769],u=m-h,m+=h,a[c+U.BLKSIZE/2+0]=d+m,a[c+U.BLKSIZE/2+2]=d-m,a[c+U.BLKSIZE/2+1]=f+u,a[c+U.BLKSIZE/2+3]=f-u}while(--l>=0);i(a,c,U.BLKSIZE/2)},this.init_fft=function(a){for(var i=0;i<U.BLKSIZE;i++)t[i]=.42-.5*Math.cos(2*Math.PI*(i+.5)/U.BLKSIZE)+.08*Math.cos(4*Math.PI*(i+.5)/U.BLKSIZE);for(i=0;i<U.BLKSIZE_s/2;i++)e[i]=.5*(1-Math.cos(2*Math.PI*(i+.5)/U.BLKSIZE_s))}}function W(){var t=new K,e=2.302585092994046,a=2,i=16,r=2,l=16,c=.34,d=1/217621504/(U.BLKSIZE/2),m=.01,g=.8,b=.6,w=.3,x=3.5,D=21,C=.2302585093;function T(t){return t}function S(t,e){for(var a=0,i=0;i<U.BLKSIZE/2;++i)a+=t[i]*e.ATH.eql_w[i];return a*=d,a}function y(e,a,i,n,o,r,s,l,c,d,f){var m=e.internal_flags;if(c<2)t.fft_long(m,n[o],c,d,f),t.fft_short(m,r[s],c,d,f);else if(2==c){for(var h=U.BLKSIZE-1;h>=0;--h){var v=n[o+0][h],p=n[o+1][h];n[o+0][h]=(v+p)*u.SQRT2*.5,n[o+1][h]=(v-p)*u.SQRT2*.5}for(var _=2;_>=0;--_)for(h=U.BLKSIZE_s-1;h>=0;--h){v=r[s+0][_][h],p=r[s+1][_][h];r[s+0][_][h]=(v+p)*u.SQRT2*.5,r[s+1][_][h]=(v-p)*u.SQRT2*.5}}a[0]=T(n[o+0][0]),a[0]*=a[0];for(h=U.BLKSIZE/2-1;h>=0;--h){var g=n[o+0][U.BLKSIZE/2-h],b=n[o+0][U.BLKSIZE/2+h];a[U.BLKSIZE/2-h]=T(.5*(g*g+b*b))}for(_=2;_>=0;--_){i[_][0]=r[s+0][_][0],i[_][0]*=i[_][0];for(h=U.BLKSIZE_s/2-1;h>=0;--h){g=r[s+0][_][U.BLKSIZE_s/2-h],b=r[s+0][_][U.BLKSIZE_s/2+h];i[_][U.BLKSIZE_s/2-h]=T(.5*(g*g+b*b))}}var w=0;for(h=11;h<U.HBLKSIZE;h++)w+=a[h];if(m.tot_ener[c]=w,e.analysis){for(h=0;h<U.HBLKSIZE;h++)m.pinfo.energy[l][c][h]=m.pinfo.energy_save[c][h],m.pinfo.energy_save[c][h]=a[h];m.pinfo.pe[l][c]=m.pe[c]}2==e.athaa_loudapprox&&c<2&&(m.loudness_sq[l][c]=m.loudness_sq_save[c],m.loudness_sq_save[c]=S(a,m))}var I,k,B,M=8,P=23,E=15,A=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function R(){I=Math.pow(10,(M+1)/16),k=Math.pow(10,(P+1)/16),B=Math.pow(10,E/10)}var O=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],L=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],N=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function F(t,e,a,i,n,o){var r;if(e>t){if(!(e<t*k))return t+e;r=e/t}else{if(t>=e*k)return t+e;r=t/e}if(t+=e,i+3<=6){if(r>=I)return t;var s=0|u.FAST_LOG10_X(r,16);return t*L[s]}var l,c;s=0|u.FAST_LOG10_X(r,16);return e=0!=o?n.ATH.cb_s[a]*n.ATH.adjust:n.ATH.cb_l[a]*n.ATH.adjust,t<B*e?t>e?(l=1,s<=13&&(l=N[s]),c=u.FAST_LOG10_X(t/e,10/15),t*((O[s]-l)*c+l)):s>13?t:t*N[s]:t*O[s]}var z=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function H(t,e,a){var i;if(t<0&&(t=0),e<0&&(e=0),t<=0)return e;if(e<=0)return t;if(i=e>t?e/t:t/e,-2<=a&&a<=2){if(i>=I)return t+e;var n=0|u.FAST_LOG10_X(i,16);return(t+e)*z[n]}return i<k?t+e:(t<e&&(t=e),t)}function V(t,e){var a=t.internal_flags;if(a.channels_out>1){for(var i=0;i<U.SBMAX_l;i++){var n=a.thm[0].l[i],o=a.thm[1].l[i];a.thm[0].l[i]+=o*e,a.thm[1].l[i]+=n*e}for(i=0;i<U.SBMAX_s;i++)for(var r=0;r<3;r++){n=a.thm[0].s[i][r],o=a.thm[1].s[i][r];a.thm[0].s[i][r]+=o*e,a.thm[1].s[i][r]+=n*e}}}function Y(t){for(var e=0;e<U.SBMAX_l;e++)if(!(t.thm[0].l[e]>1.58*t.thm[1].l[e]||t.thm[1].l[e]>1.58*t.thm[0].l[e])){var a=t.mld_l[e]*t.en[3].l[e],i=Math.max(t.thm[2].l[e],Math.min(t.thm[3].l[e],a));a=t.mld_l[e]*t.en[2].l[e];var n=Math.max(t.thm[3].l[e],Math.min(t.thm[2].l[e],a));t.thm[2].l[e]=i,t.thm[3].l[e]=n}for(e=0;e<U.SBMAX_s;e++)for(var o=0;o<3;o++)if(!(t.thm[0].s[e][o]>1.58*t.thm[1].s[e][o]||t.thm[1].s[e][o]>1.58*t.thm[0].s[e][o])){a=t.mld_s[e]*t.en[3].s[e][o],i=Math.max(t.thm[2].s[e][o],Math.min(t.thm[3].s[e][o],a));a=t.mld_s[e]*t.en[2].s[e][o];n=Math.max(t.thm[3].s[e][o],Math.min(t.thm[2].s[e][o],a));t.thm[2].s[e][o]=i,t.thm[3].s[e][o]=n}}function j(t,e,a){var i=e,n=Math.pow(10,a);e*=2,i*=2;for(var o=0;o<U.SBMAX_l;o++){if(f=t.ATH.cb_l[t.bm_l[o]]*n,l=Math.min(Math.max(t.thm[0].l[o],f),Math.max(t.thm[1].l[o],f)),c=Math.max(t.thm[2].l[o],f),d=Math.max(t.thm[3].l[o],f),l*e<c+d){var r=l*i/(c+d);c*=r,d*=r}t.thm[2].l[o]=Math.min(c,t.thm[2].l[o]),t.thm[3].l[o]=Math.min(d,t.thm[3].l[o])}n*=U.BLKSIZE_s/U.BLKSIZE;for(o=0;o<U.SBMAX_s;o++)for(var s=0;s<3;s++){var l,c,d,f;if(f=t.ATH.cb_s[t.bm_s[o]]*n,l=Math.min(Math.max(t.thm[0].s[o][s],f),Math.max(t.thm[1].s[o][s],f)),c=Math.max(t.thm[2].s[o][s],f),d=Math.max(t.thm[3].s[o][s],f),l*e<c+d){r=l*e/(c+d);c*=r,d*=r}t.thm[2].s[o][s]=Math.min(t.thm[2].s[o][s],c),t.thm[3].s[o][s]=Math.min(t.thm[3].s[o][s],d)}}function G(t,e,a,i,n){var o,r,s=0,l=0;for(o=r=0;o<U.SBMAX_s;++r,++o){var c=t.bo_s[o],d=t.npart_s,f=c<d?c:d;while(r<f)s+=e[r],l+=a[r],r++;if(t.en[i].s[o][n]=s,t.thm[i].s[o][n]=l,r>=d){++o;break}var m=t.PSY.bo_s_weight[o],u=1-m;s=m*e[r],l=m*a[r],t.en[i].s[o][n]+=s,t.thm[i].s[o][n]+=l,s=u*e[r],l=u*a[r]}for(;o<U.SBMAX_s;++o)t.en[i].s[o][n]=0,t.thm[i].s[o][n]=0}function X(t,e,a,i){var n,o,r=0,s=0;for(n=o=0;n<U.SBMAX_l;++o,++n){var l=t.bo_l[n],c=t.npart_l,d=l<c?l:c;while(o<d)r+=e[o],s+=a[o],o++;if(t.en[i].l[n]=r,t.thm[i].l[n]=s,o>=c){++n;break}var f=t.PSY.bo_l_weight[n],m=1-f;r=f*e[o],s=f*a[o],t.en[i].l[n]+=r,t.thm[i].l[n]+=s,r=m*e[o],s=m*a[o]}for(;n<U.SBMAX_l;++n)t.en[i].l[n]=0,t.thm[i].l[n]=0}function q(t,e,a,i,n,o){var s,c,d=t.internal_flags;for(c=s=0;c<d.npart_s;++c){for(var f=0,m=0,u=d.numlines_s[c],h=0;h<u;++h,++s){var v=e[o][s];f+=v,m<v&&(m=v)}a[c]=f}for(s=c=0;c<d.npart_s;c++){var p=d.s3ind_s[c][0],_=d.s3_ss[s++]*a[p];++p;while(p<=d.s3ind_s[c][1])_+=d.s3_ss[s]*a[p],++s,++p;var g=r*d.nb_s1[n][c];if(i[c]=Math.min(_,g),d.blocktype_old[1&n]==U.SHORT_TYPE){g=l*d.nb_s2[n][c];var b=i[c];i[c]=Math.min(g,b)}d.nb_s2[n][c]=d.nb_s1[n][c],d.nb_s1[n][c]=_}for(;c<=U.CBANDS;++c)a[c]=0,i[c]=0}function W(t,e,a,i){var n=t.internal_flags;t.short_blocks!=h.short_block_coupled||0!=e[0]&&0!=e[1]||(e[0]=e[1]=0);for(var o=0;o<n.channels_out;o++)i[o]=U.NORM_TYPE,t.short_blocks==h.short_block_dispensed&&(e[o]=1),t.short_blocks==h.short_block_forced&&(e[o]=0),0!=e[o]?n.blocktype_old[o]==U.SHORT_TYPE&&(i[o]=U.STOP_TYPE):(i[o]=U.SHORT_TYPE,n.blocktype_old[o]==U.NORM_TYPE&&(n.blocktype_old[o]=U.START_TYPE),n.blocktype_old[o]==U.STOP_TYPE&&(n.blocktype_old[o]=U.SHORT_TYPE)),a[o]=n.blocktype_old[o],n.blocktype_old[o]=i[o]}function Z(t,e,a){return a>=1?t:a<=0?e:e>0?Math.pow(t/e,a)*e:0}var Q=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function $(t,a){for(var i=309.07,n=0;n<U.SBMAX_s-1;n++)for(var o=0;o<3;o++){var r=t.thm.s[n][o];if(r>0){var s=r*a,l=t.en.s[n][o];l>s&&(i+=l>1e10*s?Q[n]*(10*e):Q[n]*u.FAST_LOG10(l/s))}}return i}var J=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function tt(t,a){for(var i=281.0575,n=0;n<U.SBMAX_l-1;n++){var o=t.thm.l[n];if(o>0){var r=o*a,s=t.en.l[n];s>r&&(i+=s>1e10*r?J[n]*(10*e):J[n]*u.FAST_LOG10(s/r))}}return i}function et(t,e,a,i,n){var o,r;for(o=r=0;o<t.npart_l;++o){var s,l=0,c=0;for(s=0;s<t.numlines_l[o];++s,++r){var d=e[r];l+=d,c<d&&(c=d)}a[o]=l,i[o]=c,n[o]=l*t.rnumlines_l[o]}}function at(t,e,a,i){var n=A.length-1,o=0,r=a[o]+a[o+1];if(r>0){var s=e[o];s<e[o+1]&&(s=e[o+1]),r=20*(2*s-r)/(r*(t.numlines_l[o]+t.numlines_l[o+1]-1));var l=0|r;l>n&&(l=n),i[o]=l}else i[o]=0;for(o=1;o<t.npart_l-1;o++)if(r=a[o-1]+a[o]+a[o+1],r>0){s=e[o-1];s<e[o]&&(s=e[o]),s<e[o+1]&&(s=e[o+1]),r=20*(3*s-r)/(r*(t.numlines_l[o-1]+t.numlines_l[o]+t.numlines_l[o+1]-1));l=0|r;l>n&&(l=n),i[o]=l}else i[o]=0;if(r=a[o-1]+a[o],r>0){s=e[o-1];s<e[o]&&(s=e[o]),r=20*(2*s-r)/(r*(t.numlines_l[o-1]+t.numlines_l[o]-1));l=0|r;l>n&&(l=n),i[o]=l}else i[o]=0}var it=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function nt(e,a,i,n,o,r,s,l){var c=e.internal_flags;if(n<2)t.fft_long(c,s[l],n,a,i);else if(2==n)for(var d=U.BLKSIZE-1;d>=0;--d){var f=s[l+0][d],m=s[l+1][d];s[l+0][d]=(f+m)*u.SQRT2*.5,s[l+1][d]=(f-m)*u.SQRT2*.5}r[0]=T(s[l+0][0]),r[0]*=r[0];for(d=U.BLKSIZE/2-1;d>=0;--d){var h=s[l+0][U.BLKSIZE/2-d],v=s[l+0][U.BLKSIZE/2+d];r[U.BLKSIZE/2-d]=T(.5*(h*h+v*v))}var p=0;for(d=11;d<U.HBLKSIZE;d++)p+=r[d];if(c.tot_ener[n]=p,e.analysis){for(d=0;d<U.HBLKSIZE;d++)c.pinfo.energy[o][n][d]=c.pinfo.energy_save[n][d],c.pinfo.energy_save[n][d]=r[d];c.pinfo.pe[o][n]=c.pe[n]}}function ot(e,a,i,n,o,r,s,l){var c=e.internal_flags;if(0==o&&n<2&&t.fft_short(c,s[l],n,a,i),2==n)for(var d=U.BLKSIZE_s-1;d>=0;--d){var f=s[l+0][o][d],m=s[l+1][o][d];s[l+0][o][d]=(f+m)*u.SQRT2*.5,s[l+1][o][d]=(f-m)*u.SQRT2*.5}r[o][0]=s[l+0][o][0],r[o][0]*=r[o][0];for(d=U.BLKSIZE_s/2-1;d>=0;--d){var h=s[l+0][o][U.BLKSIZE_s/2-d],v=s[l+0][o][U.BLKSIZE_s/2+d];r[o][U.BLKSIZE_s/2-d]=T(.5*(h*h+v*v))}}function rt(t,e,a,i){var n=t.internal_flags;2==t.athaa_loudapprox&&a<2&&(n.loudness_sq[e][a]=n.loudness_sq_save[a],n.loudness_sq_save[a]=S(i,n))}this.L3psycho_anal_ns=function(t,e,r,l,c,d,m,u,h,v){var x,C,T,S,I,k,B,M,P,E,R=t.internal_flags,O=s([2,U.BLKSIZE]),L=s([2,3,U.BLKSIZE_s]),N=o(U.CBANDS+1),z=o(U.CBANDS+1),H=o(U.CBANDS+2),K=n(2),Q=n(2),J=s([2,576]),nt=n(U.CBANDS+2),ot=n(U.CBANDS+2);for(f.fill(ot,0),x=R.channels_out,t.mode==_.JOINT_STEREO&&(x=4),P=t.VBR==p.vbr_off?0==R.ResvMax?0:R.ResvSize/R.ResvMax*.5:t.VBR==p.vbr_rh||t.VBR==p.vbr_mtrh||t.VBR==p.vbr_mt?.6:1,C=0;C<R.channels_out;C++){var rt=e[C],st=r+576-350-D+192;for(S=0;S<576;S++){var lt,ct;for(lt=rt[st+S+10],ct=0,I=0;I<(D-1)/2-1;I+=2)lt+=it[I]*(rt[st+S+I]+rt[st+S+D-I]),ct+=it[I+1]*(rt[st+S+I+1]+rt[st+S+D-I-1]);J[C][S]=lt+ct}c[l][C].en.assign(R.en[C]),c[l][C].thm.assign(R.thm[C]),x>2&&(d[l][C].en.assign(R.en[C+2]),d[l][C].thm.assign(R.thm[C+2]))}for(C=0;C<x;C++){var dt,ft,mt,ut=o(12),ht=[0,0,0,0],vt=o(12),pt=1,_t=o(U.CBANDS),gt=o(U.CBANDS),bt=[0,0,0,0],wt=o(U.HBLKSIZE),xt=s([3,U.HBLKSIZE_s]);for(S=0;S<3;S++)ut[S]=R.nsPsy.last_en_subshort[C][S+6],vt[S]=ut[S]/R.nsPsy.last_en_subshort[C][S+4],ht[0]+=ut[S];if(2==C)for(S=0;S<576;S++){var Dt,Ct;Dt=J[0][S],Ct=J[1][S],J[0][S]=Dt+Ct,J[1][S]=Dt-Ct}var Tt=J[1&C],St=0;for(S=0;S<9;S++){for(var yt=St+64,It=1;St<yt;St++)It<Math.abs(Tt[St])&&(It=Math.abs(Tt[St]));R.nsPsy.last_en_subshort[C][S]=ut[S+3]=It,ht[1+S/3]+=It,It>ut[S+3-2]?It/=ut[S+3-2]:It=ut[S+3-2]>10*It?ut[S+3-2]/(10*It):0,vt[S+3]=It}if(t.analysis){var kt=vt[0];for(S=1;S<12;S++)kt<vt[S]&&(kt=vt[S]);R.pinfo.ers[l][C]=R.pinfo.ers_save[C],R.pinfo.ers_save[C]=kt}for(mt=3==C?R.nsPsy.attackthre_s:R.nsPsy.attackthre,S=0;S<12;S++)0==bt[S/3]&&vt[S]>mt&&(bt[S/3]=S%3+1);for(S=1;S<4;S++){var Bt;Bt=ht[S-1]>ht[S]?ht[S-1]/ht[S]:ht[S]/ht[S-1],Bt<1.7&&(bt[S]=0,1==S&&(bt[0]=0))}for(0!=bt[0]&&0!=R.nsPsy.lastAttacks[C]&&(bt[0]=0),3!=R.nsPsy.lastAttacks[C]&&bt[0]+bt[1]+bt[2]+bt[3]==0||(pt=0,0!=bt[1]&&0!=bt[0]&&(bt[1]=0),0!=bt[2]&&0!=bt[1]&&(bt[2]=0),0!=bt[3]&&0!=bt[2]&&(bt[3]=0)),C<2?Q[C]=pt:0==pt&&(Q[0]=Q[1]=0),h[C]=R.tot_ener[C],ft=L,dt=O,y(t,wt,xt,dt,1&C,ft,1&C,l,C,e,r),et(R,wt,N,_t,gt),at(R,_t,gt,nt),M=0;M<3;M++){var Mt,Pt;for(q(t,xt,z,H,C,M),G(R,z,H,C,M),B=0;B<U.SBMAX_s;B++){if(Pt=R.thm[C].s[B][M],Pt*=g,bt[M]>=2||1==bt[M+1]){var Et=0!=M?M-1:2;It=Z(R.thm[C].s[B][Et],Pt,b*P);Pt=Math.min(Pt,It)}if(1==bt[M]){Et=0!=M?M-1:2,It=Z(R.thm[C].s[B][Et],Pt,w*P);Pt=Math.min(Pt,It)}else if(0!=M&&3==bt[M-1]||0==M&&3==R.nsPsy.lastAttacks[C]){Et=2!=M?M+1:0,It=Z(R.thm[C].s[B][Et],Pt,w*P);Pt=Math.min(Pt,It)}Mt=ut[3*M+3]+ut[3*M+4]+ut[3*M+5],6*ut[3*M+5]<Mt&&(Pt*=.5,6*ut[3*M+4]<Mt&&(Pt*=.5)),R.thm[C].s[B][M]=Pt}}for(R.nsPsy.lastAttacks[C]=bt[2],k=0,T=0;T<R.npart_l;T++){var At=R.s3ind[T][0],Rt=N[At]*A[nt[At]],Ot=R.s3_ll[k++]*Rt;while(++At<=R.s3ind[T][1])Rt=N[At]*A[nt[At]],Ot=F(Ot,R.s3_ll[k++]*Rt,At,At-T,R,0);Ot*=.158489319246111,R.blocktype_old[1&C]==U.SHORT_TYPE?H[T]=Ot:H[T]=Z(Math.min(Ot,Math.min(a*R.nb_1[C][T],i*R.nb_2[C][T])),Ot,P),R.nb_2[C][T]=R.nb_1[C][T],R.nb_1[C][T]=Ot}for(;T<=U.CBANDS;++T)N[T]=0,H[T]=0;X(R,N,H,C)}(t.mode!=_.STEREO&&t.mode!=_.JOINT_STEREO||t.interChRatio>0&&V(t,t.interChRatio),t.mode==_.JOINT_STEREO)&&(Y(R),E=t.msfix,Math.abs(E)>0&&j(R,E,t.ATHlower*R.ATH.adjust));for(W(t,Q,v,K),C=0;C<x;C++){var Lt,Nt,Ft,zt=0;C>1?(Lt=u,zt=-2,Nt=U.NORM_TYPE,v[0]!=U.SHORT_TYPE&&v[1]!=U.SHORT_TYPE||(Nt=U.SHORT_TYPE),Ft=d[l][C-2]):(Lt=m,zt=0,Nt=v[C],Ft=c[l][C]),Nt==U.SHORT_TYPE?Lt[zt+C]=$(Ft,R.masking_lower):Lt[zt+C]=tt(Ft,R.masking_lower),t.analysis&&(R.pinfo.pe[l][C]=Lt[zt+C])}return 0};var st=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function lt(t,e,a,i,n,r,l,c,d,f){for(var m=s([2,576]),u=t.internal_flags,h=u.channels_out,v=t.mode==_.JOINT_STEREO?4:h,p=0;p<h;p++){firbuf=e[p];for(var g=a+576-350-D+192,b=0;b<576;b++){var w,x;w=firbuf[g+b+10],x=0;for(var C=0;C<(D-1)/2-1;C+=2)w+=st[C]*(firbuf[g+b+C]+firbuf[g+b+D-C]),x+=st[C+1]*(firbuf[g+b+C+1]+firbuf[g+b+D-C-1]);m[p][b]=w+x}n[i][p].en.assign(u.en[p]),n[i][p].thm.assign(u.thm[p]),v>2&&(r[i][p].en.assign(u.en[p+2]),r[i][p].thm.assign(u.thm[p+2]))}for(p=0;p<v;p++){var T=o(12),S=o(12),y=[0,0,0,0],I=m[1&p],k=0,B=3==p?u.nsPsy.attackthre_s:u.nsPsy.attackthre,M=1;if(2==p)for(b=0,C=576;C>0;++b,--C){var P=m[0][b],E=m[1][b];m[0][b]=P+E,m[1][b]=P-E}for(b=0;b<3;b++)S[b]=u.nsPsy.last_en_subshort[p][b+6],T[b]=S[b]/u.nsPsy.last_en_subshort[p][b+4],y[0]+=S[b];for(b=0;b<9;b++){for(var A=k+64,R=1;k<A;k++)R<Math.abs(I[k])&&(R=Math.abs(I[k]));u.nsPsy.last_en_subshort[p][b]=S[b+3]=R,y[1+b/3]+=R,R>S[b+3-2]?R/=S[b+3-2]:R=S[b+3-2]>10*R?S[b+3-2]/(10*R):0,T[b+3]=R}for(b=0;b<3;++b){var O=S[3*b+3]+S[3*b+4]+S[3*b+5],L=1;6*S[3*b+5]<O&&(L*=.5,6*S[3*b+4]<O&&(L*=.5)),c[p][b]=L}if(t.analysis){var N=T[0];for(b=1;b<12;b++)N<T[b]&&(N=T[b]);u.pinfo.ers[i][p]=u.pinfo.ers_save[p],u.pinfo.ers_save[p]=N}for(b=0;b<12;b++)0==d[p][b/3]&&T[b]>B&&(d[p][b/3]=b%3+1);for(b=1;b<4;b++){var F=y[b-1],z=y[b],H=Math.max(F,z);H<4e4&&F<1.7*z&&z<1.7*F&&(1==b&&d[p][0]<=d[p][b]&&(d[p][0]=0),d[p][b]=0)}d[p][0]<=u.nsPsy.lastAttacks[p]&&(d[p][0]=0),3!=u.nsPsy.lastAttacks[p]&&d[p][0]+d[p][1]+d[p][2]+d[p][3]==0||(M=0,0!=d[p][1]&&0!=d[p][0]&&(d[p][1]=0),0!=d[p][2]&&0!=d[p][1]&&(d[p][2]=0),0!=d[p][3]&&0!=d[p][2]&&(d[p][3]=0)),p<2?f[p]=M:0==M&&(f[0]=f[1]=0),l[p]=u.tot_ener[p]}}function ct(t,e,a){if(0==a)for(var i=0;i<t.npart_s;i++)t.nb_s2[e][i]=t.nb_s1[e][i],t.nb_s1[e][i]=0}function dt(t,e){for(var a=0;a<t.npart_l;a++)t.nb_2[e][a]=t.nb_1[e][a],t.nb_1[e][a]=0}function ft(t,e,a,i){var n=A.length-1,o=0,r=a[o]+a[o+1];if(r>0){var s=e[o];s<e[o+1]&&(s=e[o+1]),r=20*(2*s-r)/(r*(t.numlines_s[o]+t.numlines_s[o+1]-1));var l=0|r;l>n&&(l=n),i[o]=l}else i[o]=0;for(o=1;o<t.npart_s-1;o++)if(r=a[o-1]+a[o]+a[o+1],r>0){s=e[o-1];s<e[o]&&(s=e[o]),s<e[o+1]&&(s=e[o+1]),r=20*(3*s-r)/(r*(t.numlines_s[o-1]+t.numlines_s[o]+t.numlines_s[o+1]-1));l=0|r;l>n&&(l=n),i[o]=l}else i[o]=0;if(r=a[o-1]+a[o],r>0){s=e[o-1];s<e[o]&&(s=e[o]),r=20*(2*s-r)/(r*(t.numlines_s[o-1]+t.numlines_s[o]-1));l=0|r;l>n&&(l=n),i[o]=l}else i[o]=0}function mt(t,e,a,i,n,r){var s,l,c,d=t.internal_flags,f=new float[U.CBANDS],m=o(U.CBANDS),u=new int[U.CBANDS];for(c=l=0;c<d.npart_s;++c){var h=0,v=0,p=d.numlines_s[c];for(s=0;s<p;++s,++l){var _=e[r][l];h+=_,v<_&&(v=_)}a[c]=h,f[c]=v,m[c]=h/p}for(;c<U.CBANDS;++c)f[c]=0,m[c]=0;for(ft(d,f,m,u),l=c=0;c<d.npart_s;c++){var g,b,w,x,D,C=d.s3ind_s[c][0],T=d.s3ind_s[c][1];g=u[C],b=1,x=d.s3_ss[l]*a[C]*A[u[C]],++l,++C;while(C<=T)g+=u[C],b+=1,w=d.s3_ss[l]*a[C]*A[u[C]],x=H(x,w,C-c),++l,++C;g=(1+2*g)/(2*b),D=.5*A[g],x*=D,i[c]=x,d.nb_s2[n][c]=d.nb_s1[n][c],d.nb_s1[n][c]=x,w=f[c],w*=d.minval_s[c],w*=D,i[c]>w&&(i[c]=w),d.masking_lower>1&&(i[c]*=d.masking_lower),i[c]>a[c]&&(i[c]=a[c]),d.masking_lower<1&&(i[c]*=d.masking_lower)}for(;c<U.CBANDS;++c)a[c]=0,i[c]=0}function ut(t,e,r,s,l){var c,d=o(U.CBANDS),f=o(U.CBANDS),m=n(U.CBANDS+2);et(t,e,r,d,f),at(t,d,f,m);var u=0;for(c=0;c<t.npart_l;c++){var h,v,p,_,g=t.s3ind[c][0],b=t.s3ind[c][1],x=0,D=0;x=m[g],D+=1,v=t.s3_ll[u]*r[g]*A[m[g]],++u,++g;while(g<=b)x+=m[g],D+=1,h=t.s3_ll[u]*r[g]*A[m[g]],_=H(v,h,g-c),v=_,++u,++g;if(x=(1+2*x)/(2*D),p=.5*A[x],v*=p,t.blocktype_old[1&l]==U.SHORT_TYPE){var C=a*t.nb_1[l][c];s[c]=C>0?Math.min(v,C):Math.min(v,r[c]*w)}else{var T=i*t.nb_2[l][c],S=a*t.nb_1[l][c];T<=0&&(T=v),S<=0&&(S=v),C=t.blocktype_old[1&l]==U.NORM_TYPE?Math.min(S,T):S,s[c]=Math.min(v,C)}t.nb_2[l][c]=t.nb_1[l][c],t.nb_1[l][c]=v,h=d[c],h*=t.minval_l[c],h*=p,s[c]>h&&(s[c]=h),t.masking_lower>1&&(s[c]*=t.masking_lower),s[c]>r[c]&&(s[c]=r[c]),t.masking_lower<1&&(s[c]*=t.masking_lower)}for(;c<U.CBANDS;++c)r[c]=0,s[c]=0}function ht(t,e){var a=t.internal_flags;t.short_blocks!=h.short_block_coupled||0!=e[0]&&0!=e[1]||(e[0]=e[1]=0);for(var i=0;i<a.channels_out;i++)t.short_blocks==h.short_block_dispensed&&(e[i]=1),t.short_blocks==h.short_block_forced&&(e[i]=0)}function vt(t,e,a){for(var i=t.internal_flags,n=0;n<i.channels_out;n++){var o=U.NORM_TYPE;0!=e[n]?i.blocktype_old[n]==U.SHORT_TYPE&&(o=U.STOP_TYPE):(o=U.SHORT_TYPE,i.blocktype_old[n]==U.NORM_TYPE&&(i.blocktype_old[n]=U.START_TYPE),i.blocktype_old[n]==U.STOP_TYPE&&(i.blocktype_old[n]=U.SHORT_TYPE)),a[n]=i.blocktype_old[n],i.blocktype_old[n]=o}}function pt(t,e,a,i,n,o,r){for(var s,l,c=2*o,d=o>0?Math.pow(10,n):1,f=0;f<r;++f){var m=t[2][f],u=t[3][f],h=e[0][f],v=e[1][f],p=e[2][f],_=e[3][f];if(h<=1.58*v&&v<=1.58*h){var g=a[f]*u,b=a[f]*m;l=Math.max(p,Math.min(_,g)),s=Math.max(_,Math.min(p,b))}else l=p,s=_;if(o>0){var w,x,D=i[f]*d;if(w=Math.min(Math.max(h,D),Math.max(v,D)),p=Math.max(l,D),_=Math.max(s,D),x=p+_,x>0&&w*c<x){var C=w*c/x;p*=C,_*=C}l=Math.min(p,l),s=Math.min(_,s)}l>m&&(l=m),s>u&&(s=u),e[2][f]=l,e[3][f]=s}}function _t(t,e){var a,i=t;return a=i>=0?27*-i:i*e,a<=-72?0:Math.exp(a*C)}function gt(t){var e=0,a=0,i=0;for(i=0;_t(i,t)>1e-20;i-=1);n=i,o=0;while(Math.abs(o-n)>1e-12)i=(o+n)/2,_t(i,t)>0?o=i:n=i;e=n;var n,o;i=0;for(i=0;_t(i,t)>1e-20;i+=1);n=0,o=i;while(Math.abs(o-n)>1e-12)i=(o+n)/2,_t(i,t)>0?n=i:o=i;a=o;var r,s=0,l=1e3;for(r=0;r<=l;++r){i=e+r*(a-e)/l;var c=_t(i,t);s+=c}var d=(l+1)/(s*(a-e));return d}function bt(t){var e,a,i,n;return e=t,e*=e>=0?3:1.5,e>=.5&&e<=2.5?(n=e-.5,a=8*(n*n-2*n)):a=0,e+=.474,i=15.811389+7.5*e-17.5*Math.sqrt(1+e*e),i<=-60?0:(e=Math.exp((a+i)*C),e/=.6609193,e)}function wt(t){return t<0&&(t=0),t*=.001,13*Math.atan(.76*t)+3.5*Math.atan(t*t/56.25)}function xt(t,e,a,i,r,s,l,d,f,m,u,h){var v,p=o(U.CBANDS+1),_=d/(h>15?1152:384),g=n(U.HBLKSIZE);d/=f;var b=0,w=0;for(v=0;v<U.CBANDS;v++){var x;for(M=wt(d*b),p[v]=d*b,x=b;wt(d*x)-M<c&&x<=f/2;x++);t[v]=x-b,w=v+1;while(b<x)g[b++]=v;if(b>f/2){b=f/2,++v;break}}p[v]=d*b;for(var D=0;D<h;D++){var C,T,S,y,I;S=m[D],y=m[D+1],C=0|Math.floor(.5+u*(S-.5)),C<0&&(C=0),T=0|Math.floor(.5+u*(y-.5)),T>f/2&&(T=f/2),a[D]=(g[C]+g[T])/2,e[D]=g[T];var k=_*y;l[D]=(k-p[e[D]])/(p[e[D]+1]-p[e[D]]),l[D]<0?l[D]=0:l[D]>1&&(l[D]=1),I=wt(d*m[D]*u),I=Math.min(I,15.5)/15.5,s[D]=Math.pow(10,1.25*(1-Math.cos(Math.PI*I))-2.5)}b=0;for(var B=0;B<w;B++){var M,P,E=t[B];M=wt(d*b),P=wt(d*(b+E-1)),i[B]=.5*(M+P),M=wt(d*(b-.5)),P=wt(d*(b+E-.5)),r[B]=P-M,b+=E}return w}function Dt(t,e,a,i,n,r){var l,c=s([U.CBANDS,U.CBANDS]),d=0;if(r)for(var f=0;f<e;f++)for(l=0;l<e;l++){var m=bt(a[f]-a[l])*i[l];c[f][l]=m*n[f]}else for(l=0;l<e;l++){var u=15+Math.min(21/a[l],12),h=gt(u);for(f=0;f<e;f++){m=h*_t(a[f]-a[l],u)*i[l];c[f][l]=m*n[f]}}for(f=0;f<e;f++){for(l=0;l<e;l++)if(c[f][l]>0)break;for(t[f][0]=l,l=e-1;l>0;l--)if(c[f][l]>0)break;t[f][1]=l,d+=t[f][1]-t[f][0]+1}var v=o(d),p=0;for(f=0;f<e;f++)for(l=t[f][0];l<=t[f][1];l++)v[p++]=c[f][l];return v}function Ct(t){var e=wt(t);return e=Math.min(e,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*e))-2.5)}function Tt(t,e){t<-.3&&(t=3410),t/=1e3,t=Math.max(.1,t);var a=3.64*Math.pow(t,-.8)-6.8*Math.exp(-.6*Math.pow(t-3.4,2))+6*Math.exp(-.15*Math.pow(t-8.7,2))+.001*(.6+.04*e)*Math.pow(t,4);return a}this.L3psycho_anal_vbr=function(t,e,a,i,r,l,c,d,f,m){var u,h,v=t.internal_flags,p=o(U.HBLKSIZE),x=s([3,U.HBLKSIZE_s]),D=s([2,U.BLKSIZE]),C=s([2,3,U.BLKSIZE_s]),T=s([4,U.CBANDS]),S=s([4,U.CBANDS]),y=s([4,3]),I=.6,k=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],B=n(2),M=t.mode==_.JOINT_STEREO?4:v.channels_out;lt(t,e,a,i,r,l,f,y,k,B),ht(t,B);for(var P=0;P<M;P++){var E=1&P;u=D,nt(t,e,a,P,i,p,u,E),rt(t,i,P,p),0!=B[E]?ut(v,p,T[P],S[P],P):dt(v,P)}B[0]+B[1]==2&&t.mode==_.JOINT_STEREO&&pt(T,S,v.mld_cb_l,v.ATH.cb_l,t.ATHlower*v.ATH.adjust,t.msfix,v.npart_l);for(P=0;P<M;P++){E=1&P;0!=B[E]&&X(v,T[P],S[P],P)}for(var A=0;A<3;A++){for(P=0;P<M;++P){E=1&P;0!=B[E]?ct(v,P,A):(h=C,ot(t,e,a,P,A,x,h,E),mt(t,x,T[P],S[P],P,A))}B[0]+B[1]==0&&t.mode==_.JOINT_STEREO&&pt(T,S,v.mld_cb_s,v.ATH.cb_s,t.ATHlower*v.ATH.adjust,t.msfix,v.npart_s);for(P=0;P<M;++P){E=1&P;0==B[E]&&G(v,T[P],S[P],P,A)}}for(P=0;P<M;P++){E=1&P;if(0==B[E])for(var R=0;R<U.SBMAX_s;R++){var O=o(3);for(A=0;A<3;A++){var L=v.thm[P].s[R][A];if(L*=g,k[P][A]>=2||1==k[P][A+1]){var N=0!=A?A-1:2,F=Z(v.thm[P].s[R][N],L,b*I);L=Math.min(L,F)}else if(1==k[P][A]){N=0!=A?A-1:2,F=Z(v.thm[P].s[R][N],L,w*I);L=Math.min(L,F)}else if(0!=A&&3==k[P][A-1]||0==A&&3==v.nsPsy.lastAttacks[P]){N=2!=A?A+1:0,F=Z(v.thm[P].s[R][N],L,w*I);L=Math.min(L,F)}L*=y[P][A],O[A]=L}for(A=0;A<3;A++)v.thm[P].s[R][A]=O[A]}}for(P=0;P<M;P++)v.nsPsy.lastAttacks[P]=k[P][2];vt(t,B,m);for(P=0;P<M;P++){var z,H,V,Y;P>1?(z=d,H=-2,V=U.NORM_TYPE,m[0]!=U.SHORT_TYPE&&m[1]!=U.SHORT_TYPE||(V=U.SHORT_TYPE),Y=l[i][P-2]):(z=c,H=0,V=m[P],Y=r[i][P]),V==U.SHORT_TYPE?z[H+P]=$(Y,v.masking_lower):z[H+P]=tt(Y,v.masking_lower),t.analysis&&(v.pinfo.pe[i][P]=z[H+P])}return 0},this.psymodel_init=function(a){var i,n=a.internal_flags,r=!0,s=13,l=24,c=0,d=0,f=-8.25,u=-4.5,h=o(U.CBANDS),_=o(U.CBANDS),g=o(U.CBANDS),b=a.out_samplerate;switch(a.experimentalZ){default:case 0:r=!0;break;case 1:r=a.VBR!=p.vbr_mtrh&&a.VBR!=p.vbr_mt;break;case 2:r=!1;break;case 3:s=8,c=-1.75,d=-.0125,f=-8.25,u=-2.25;break}for(n.ms_ener_ratio_old=.25,n.blocktype_old[0]=n.blocktype_old[1]=U.NORM_TYPE,i=0;i<4;++i){for(var w=0;w<U.CBANDS;++w)n.nb_1[i][w]=1e20,n.nb_2[i][w]=1e20,n.nb_s1[i][w]=n.nb_s2[i][w]=1;for(var D=0;D<U.SBMAX_l;D++)n.en[i].l[D]=1e20,n.thm[i].l[D]=1e20;for(w=0;w<3;++w){for(D=0;D<U.SBMAX_s;D++)n.en[i].s[D][w]=1e20,n.thm[i].s[D][w]=1e20;n.nsPsy.lastAttacks[i]=0}for(w=0;w<9;w++)n.nsPsy.last_en_subshort[i][w]=10}for(n.loudness_sq_save[0]=n.loudness_sq_save[1]=0,n.npart_l=xt(n.numlines_l,n.bo_l,n.bm_l,h,_,n.mld_l,n.PSY.bo_l_weight,b,U.BLKSIZE,n.scalefac_band.l,U.BLKSIZE/1152,U.SBMAX_l),i=0;i<n.npart_l;i++){var C=c;h[i]>=s&&(C=d*(h[i]-s)/(l-s)+c*(l-h[i])/(l-s)),g[i]=Math.pow(10,C/10),n.numlines_l[i]>0?n.rnumlines_l[i]=1/n.numlines_l[i]:n.rnumlines_l[i]=0}n.s3_ll=Dt(n.s3ind,n.npart_l,h,_,g,r);var T;w=0;for(i=0;i<n.npart_l;i++){I=v.MAX_VALUE;for(var S=0;S<n.numlines_l[i];S++,w++){var y=b*w/(1e3*U.BLKSIZE);k=this.ATHformula(1e3*y,a)-20,k=Math.pow(10,.1*k),k*=n.numlines_l[i],I>k&&(I=k)}n.ATH.cb_l[i]=I,I=20*h[i]/10-20,I>6&&(I=100),I<-15&&(I=-15),I-=8,n.minval_l[i]=Math.pow(10,I/10)*n.numlines_l[i]}for(n.npart_s=xt(n.numlines_s,n.bo_s,n.bm_s,h,_,n.mld_s,n.PSY.bo_s_weight,b,U.BLKSIZE_s,n.scalefac_band.s,U.BLKSIZE_s/384,U.SBMAX_s),w=0,i=0;i<n.npart_s;i++){var I;C=f;h[i]>=s&&(C=u*(h[i]-s)/(l-s)+f*(l-h[i])/(l-s)),g[i]=Math.pow(10,C/10),I=v.MAX_VALUE;for(S=0;S<n.numlines_s[i];S++,w++){var k;y=b*w/(1e3*U.BLKSIZE_s);k=this.ATHformula(1e3*y,a)-20,k=Math.pow(10,.1*k),k*=n.numlines_s[i],I>k&&(I=k)}n.ATH.cb_s[i]=I,I=7*h[i]/12-7,h[i]>12&&(I*=1+3.1*Math.log(1+I)),h[i]<12&&(I*=1+2.3*Math.log(1-I)),I<-15&&(I=-15),I-=8,n.minval_s[i]=Math.pow(10,I/10)*n.numlines_s[i]}n.s3_ss=Dt(n.s3ind_s,n.npart_s,h,_,g,r),R(),t.init_fft(n),n.decay=Math.exp(-1*e/(m*b/192)),T=x,0!=(2&a.exp_nspsytune)&&(T=1),Math.abs(a.msfix)>0&&(T=a.msfix),a.msfix=T;for(var B=0;B<n.npart_l;B++)n.s3ind[B][1]>n.npart_l-1&&(n.s3ind[B][1]=n.npart_l-1);var M=576*n.mode_gr/b;if(n.ATH.decay=Math.pow(10,-1.2*M),n.ATH.adjust=.01,n.ATH.adjustLimit=1,-1!=a.ATHtype){var P=a.out_samplerate/U.BLKSIZE,E=0;for(y=0,i=0;i<U.BLKSIZE/2;++i)y+=P,n.ATH.eql_w[i]=1/Math.pow(10,this.ATHformula(y,a)/10),E+=n.ATH.eql_w[i];for(E=1/E,i=U.BLKSIZE/2;--i>=0;)n.ATH.eql_w[i]*=E}for(B=w=0;B<n.npart_s;++B)for(i=0;i<n.numlines_s[B];++i)++w;for(B=w=0;B<n.npart_l;++B)for(i=0;i<n.numlines_l[B];++i)++w;for(w=0,i=0;i<n.npart_l;i++){y=b*(w+n.numlines_l[i]/2)/(1*U.BLKSIZE);n.mld_cb_l[i]=Ct(y),w+=n.numlines_l[i]}for(;i<U.CBANDS;++i)n.mld_cb_l[i]=1;for(w=0,i=0;i<n.npart_s;i++){y=b*(w+n.numlines_s[i]/2)/(1*U.BLKSIZE_s);n.mld_cb_s[i]=Ct(y),w+=n.numlines_s[i]}for(;i<U.CBANDS;++i)n.mld_cb_s[i]=1;return 0},this.ATHformula=function(t,e){var a;switch(e.ATHtype){case 0:a=Tt(t,9);break;case 1:a=Tt(t,-1);break;case 2:a=Tt(t,0);break;case 3:a=Tt(t,1)+6;break;case 4:a=Tt(t,e.ATHcurve);break;default:a=Tt(t,0);break}return a}}function Z(){var t=this,e=131072;Z.V9=410,Z.V8=420,Z.V7=430,Z.V6=440,Z.V5=450,Z.V4=460,Z.V3=470,Z.V2=480,Z.V1=490,Z.V0=500,Z.R3MIX=1e3,Z.STANDARD=1001,Z.EXTREME=1002,Z.INSANE=1003,Z.STANDARD_FAST=1004,Z.EXTREME_FAST=1005,Z.MEDIUM=1006,Z.MEDIUM_FAST=1007;var a,i,n,r,s,d=16384+e;Z.LAME_MAXMP3BUFFER=d;var f,u,v,g=new W;function b(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=o(U.SBMAX_l),this.bo_s_weight=o(U.SBMAX_s)}function x(){this.lowerlimit=0}function D(t,e){this.lowpass=e}this.enc=new U,this.setModules=function(t,e,o,l,c,d,m,h,p){a=t,i=e,n=o,r=l,s=c,f=d,m,u=h,v=p,this.enc.setModules(i,g,r,f)};var C=4294479419;function S(t){var e;return t.class_id=C,e=t.internal_flags=new q,t.mode=_.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,e.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=p.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,e.VBR_min_bitrate=1,e.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,e.resample_ratio=1,e.OldValue[0]=180,e.OldValue[1]=180,e.CurrentStep[0]=4,e.CurrentStep[1]=4,e.masking_lower=1,e.nsPsy.attackthre=-1,e.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,e.mf_samples_to_encode=U.ENCDELAY+U.POSTDELAY,t.encoder_padding=0,e.mf_size=U.ENCDELAY-U.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,e.decode_on_the_fly=!1,e.findReplayGain=!1,e.findPeakSample=!1,e.RadioGain=0,e.AudiophileGain=0,e.noclipGainChange=0,e.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0}function I(t){return t>1?0:t<=0?1:Math.cos(Math.PI/2*t)}function k(t,e){var a=44100;return e>=48e3?a=48e3:e>=44100?a=44100:e>=32e3?a=32e3:e>=24e3?a=24e3:e>=22050?a=22050:e>=16e3?a=16e3:e>=12e3?a=12e3:e>=11025?a=11025:e>=8e3&&(a=8e3),-1==t?a:(t<=15960&&(a=44100),t<=15250&&(a=32e3),t<=11220&&(a=24e3),t<=9970&&(a=22050),t<=7230&&(a=16e3),t<=5420&&(a=12e3),t<=4510&&(a=11025),t<=3970&&(a=8e3),e<a?e>44100?48e3:e>32e3?44100:e>24e3?32e3:e>22050?24e3:e>16e3?22050:e>12e3?16e3:e>11025?12e3:e>8e3?11025:8e3:a)}function B(t,e){switch(t){case 44100:return e.version=1,0;case 48e3:return e.version=1,1;case 32e3:return e.version=1,2;case 22050:return e.version=0,0;case 24e3:return e.version=0,1;case 16e3:return e.version=0,2;case 11025:return e.version=0,0;case 12e3:return e.version=0,1;case 8e3:return e.version=0,2;default:return e.version=0,-1}}function R(t,e,a){a<16e3&&(e=2);for(var i=y.bitrate_table[e][1],n=2;n<=14;n++)y.bitrate_table[e][n]>0&&Math.abs(y.bitrate_table[e][n]-t)<Math.abs(i-t)&&(i=y.bitrate_table[e][n]);return i}function O(t,e,a){a<16e3&&(e=2);for(var i=0;i<=14;i++)if(y.bitrate_table[e][i]>0&&y.bitrate_table[e][i]==t)return i;return-1}function L(e,a){var i=[new D(8,2e3),new D(16,3700),new D(24,3900),new D(32,5500),new D(40,7e3),new D(48,7500),new D(56,1e4),new D(64,11e3),new D(80,13500),new D(96,15100),new D(112,15600),new D(128,17e3),new D(160,17500),new D(192,18600),new D(224,19400),new D(256,19700),new D(320,20500)],n=t.nearestBitrateFullIndex(a);e.lowerlimit=i[n].lowpass}function N(t){var e=t.internal_flags,a=32,i=-1;if(e.lowpass1>0){for(var n=999,o=0;o<=31;o++){var r=o/31;r>=e.lowpass2&&(a=Math.min(a,o)),e.lowpass1<r&&r<e.lowpass2&&(n=Math.min(n,o))}e.lowpass1=999==n?(a-.75)/31:(n-.75)/31,e.lowpass2=a/31}if(e.highpass2>0&&e.highpass2<.75/31*.9&&(e.highpass1=0,e.highpass2=0,m.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),e.highpass2>0){var s=-1;for(o=0;o<=31;o++){r=o/31;r<=e.highpass1&&(i=Math.max(i,o)),e.highpass1<r&&r<e.highpass2&&(s=Math.max(s,o))}e.highpass1=i/31,e.highpass2=-1==s?(i+.75)/31:(s+.75)/31}for(o=0;o<32;o++){var l,c;r=o/31;l=e.highpass2>e.highpass1?I((e.highpass2-r)/(e.highpass2-e.highpass1+1e-20)):1,c=e.lowpass2>e.lowpass1?I((r-e.lowpass1)/(e.lowpass2-e.lowpass1+1e-20)):1,e.amp_filter[o]=l*c}}function F(t){var e=t.internal_flags;switch(t.quality){default:case 9:e.psymodel=0,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 8:t.quality=7;case 7:e.psymodel=1,e.noise_shaping=0,e.noise_shaping_amp=0,e.noise_shaping_stop=0,e.use_best_huffman=0,e.full_outer_loop=0;break;case 6:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=0,e.full_outer_loop=0;break;case 5:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=0,e.full_outer_loop=0;break;case 4:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=0,e.noise_shaping_stop=0,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 3:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),e.noise_shaping_amp=1,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 2:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=1,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 1:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=2,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break;case 0:e.psymodel=1,0==e.noise_shaping&&(e.noise_shaping=1),0==e.substep_shaping&&(e.substep_shaping=2),e.noise_shaping_amp=2,e.noise_shaping_stop=1,-1==e.subblock_gain&&(e.subblock_gain=1),e.use_best_huffman=1,e.full_outer_loop=0;break}}function z(t){var e=t.internal_flags;t.frameNum=0,t.write_id3tag_automatic&&u.id3tag_write_v2(t),e.bitrate_stereoMode_Hist=l([16,5]),e.bitrate_blockType_Hist=l([16,6]),e.PeakSample=0,t.bWriteVbrTag&&f.InitVbrTag(t)}function H(t,e){(null==t.in_buffer_0||t.in_buffer_nsamples<e)&&(t.in_buffer_0=o(e),t.in_buffer_1=o(e),t.in_buffer_nsamples=e)}function V(t){var e=U.BLKSIZE+t.framesize-U.FFTOFFSET;return e=Math.max(e,512+t.framesize-32),e}function Y(t,e,n,o,r,s,l){var c,d,f,m,u,h=t.internal_flags,v=0,p=[null,null],_=[null,null];if(h.Class_ID!=C)return-3;if(0==o)return 0;if(u=i.copy_buffer(h,r,s,l,0),u<0)return u;if(s+=u,v+=u,_[0]=e,_[1]=n,T.NEQ(t.scale,0)&&T.NEQ(t.scale,1))for(d=0;d<o;++d)_[0][d]*=t.scale,2==h.channels_out&&(_[1][d]*=t.scale);if(T.NEQ(t.scale_left,0)&&T.NEQ(t.scale_left,1))for(d=0;d<o;++d)_[0][d]*=t.scale_left;if(T.NEQ(t.scale_right,0)&&T.NEQ(t.scale_right,1))for(d=0;d<o;++d)_[1][d]*=t.scale_right;if(2==t.num_channels&&1==h.channels_out)for(d=0;d<o;++d)_[0][d]=.5*(_[0][d]+_[1][d]),_[1][d]=0;m=V(t),p[0]=h.mfbuf[0],p[1]=h.mfbuf[1];var g=0;while(o>0){var b=[null,null],x=0,D=0;b[0]=_[0],b[1]=_[1];var S=new G;if(J(t,p,b,g,o,S),x=S.n_in,D=S.n_out,h.findReplayGain&&!h.decode_on_the_fly&&a.AnalyzeSamples(h.rgdata,p[0],h.mf_size,p[1],h.mf_size,D,h.channels_out)==w.GAIN_ANALYSIS_ERROR)return-6;if(o-=x,g+=x,h.channels_out,h.mf_size+=D,h.mf_samples_to_encode<1&&(h.mf_samples_to_encode=U.ENCDELAY+U.POSTDELAY),h.mf_samples_to_encode+=D,h.mf_size>=m){var y=l-v;if(0==l&&(y=0),c=j(t,p[0],p[1],r,s,y),c<0)return c;for(s+=c,v+=c,h.mf_size-=t.framesize,h.mf_samples_to_encode-=t.framesize,f=0;f<h.channels_out;f++)for(d=0;d<h.mf_size;d++)p[f][d]=p[f][d+t.framesize]}}return v}function j(e,a,i,n,o,r){var s=t.enc.lame_encode_mp3_frame(e,a,i,n,o,r);return e.frameNum++,s}function G(){this.n_in=0,this.n_out=0}function X(){this.num_used=0}function K(t,e){return 0!=e?K(e,t%e):t}function Q(t,e,a){var i=Math.PI*e;t/=a,t<0&&(t=0),t>1&&(t=1);var n=t-.5,o=.42-.5*Math.cos(2*t*Math.PI)+.08*Math.cos(4*t*Math.PI);return Math.abs(n)<1e-9?i/Math.PI:o*Math.sin(a*i*n)/(Math.PI*a*n)}function $(t,e,a,i,n,r,s,l,c){var d,f,m=t.internal_flags,u=0,h=t.out_samplerate/K(t.out_samplerate,t.in_samplerate);h>q.BPC&&(h=q.BPC);var v=Math.abs(m.resample_ratio-Math.floor(.5+m.resample_ratio))<1e-4?1:0,p=1/m.resample_ratio;p>1&&(p=1);var _=31;0==_%2&&--_,_+=v;var g=_+1;if(0==m.fill_buffer_resample_init){for(m.inbuf_old[0]=o(g),m.inbuf_old[1]=o(g),d=0;d<=2*h;++d)m.blackfilt[d]=o(g);for(m.itime[0]=0,m.itime[1]=0,u=0;u<=2*h;u++){var b=0,w=(u-h)/(2*h);for(d=0;d<=_;d++)b+=m.blackfilt[u][d]=Q(d-w,p,_);for(d=0;d<=_;d++)m.blackfilt[u][d]/=b}m.fill_buffer_resample_init=1}var x=m.inbuf_old[c];for(f=0;f<i;f++){var D,C;if(D=f*m.resample_ratio,u=0|Math.floor(D-m.itime[c]),_+u-_/2>=s)break;w=D-m.itime[c]-(u+_%2*.5);C=0|Math.floor(2*w*h+h+.5);var T=0;for(d=0;d<=_;++d){var S,y=d+u-_/2;S=y<0?x[g+y]:n[r+y],T+=S*m.blackfilt[C][d]}e[a+f]=T}if(l.num_used=Math.min(s,_+u-_/2),m.itime[c]+=l.num_used-f*m.resample_ratio,l.num_used>=g)for(d=0;d<g;d++)x[d]=n[r+l.num_used+d-g];else{var I=g-l.num_used;for(d=0;d<I;++d)x[d]=x[d+l.num_used];for(u=0;d<g;++d,++u)x[d]=n[r+u]}return f}function J(t,e,a,i,n,o){var r=t.internal_flags;if(r.resample_ratio<.9999||r.resample_ratio>1.0001)for(var s=0;s<r.channels_out;s++){var l=new X;o.n_out=$(t,e[s],r.mf_size,t.framesize,a[s],i,n,l,s),o.n_in=l.num_used}else{o.n_out=Math.min(t.framesize,n),o.n_in=o.n_out;for(var c=0;c<o.n_out;++c)e[0][r.mf_size+c]=a[0][i+c],2==r.channels_out&&(e[1][r.mf_size+c]=a[1][i+c])}}this.lame_init=function(){var t=new P,e=S(t);return 0!=e?null:(t.lame_allocated_gfp=1,t)},this.nearestBitrateFullIndex=function(t){var e=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],a=0,i=0,n=0,o=0;o=e[16],n=16,i=e[16],a=16;for(var r=0;r<16;r++)if(Math.max(t,e[r+1])!=t){o=e[r+1],n=r+1,i=e[r],a=r;break}return o-t>t-i?a:n},this.lame_init_params=function(t){var e=t.internal_flags;if(e.Class_ID=0,null==e.ATH&&(e.ATH=new M),null==e.PSY&&(e.PSY=new b),null==e.rgdata&&(e.rgdata=new A),e.channels_in=t.num_channels,1==e.channels_in&&(t.mode=_.MONO),e.channels_out=t.mode==_.MONO?1:2,e.mode_ext=U.MPG_MD_MS_LR,t.mode==_.MONO&&(t.force_ms=!1),t.VBR==p.vbr_off&&128!=t.VBR_mean_bitrate_kbps&&0==t.brate&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==p.vbr_off||t.VBR==p.vbr_mtrh||t.VBR==p.vbr_mt||(t.free_format=!1),t.VBR==p.vbr_off&&0==t.brate&&T.EQ(t.compression_ratio,0)&&(t.compression_ratio=11.025),t.VBR==p.vbr_off&&t.compression_ratio>0&&(0==t.out_samplerate&&(t.out_samplerate=map2MP3Frequency(int(.97*t.in_samplerate))),t.brate=0|16*t.out_samplerate*e.channels_out/(1e3*t.compression_ratio),e.samplerate_index=B(t.out_samplerate,t),t.free_format||(t.brate=R(t.brate,t.version,t.out_samplerate))),0!=t.out_samplerate&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),0==t.lowpassfreq){var o=16e3;switch(t.VBR){case p.vbr_off:var l=new x;L(l,t.brate),o=l.lowerlimit;break;case p.vbr_abr:l=new x;L(l,t.VBR_mean_bitrate_kbps),o=l.lowerlimit;break;case p.vbr_rh:var c=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var d=c[t.VBR_q],f=c[t.VBR_q+1],m=t.VBR_q_frac;o=linear_int(d,f,m)}else o=19500;break;default:c=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=t.VBR_q&&t.VBR_q<=9){d=c[t.VBR_q],f=c[t.VBR_q+1],m=t.VBR_q_frac;o=linear_int(d,f,m)}else o=19500}t.mode!=_.MONO||t.VBR!=p.vbr_off&&t.VBR!=p.vbr_abr||(o*=1.5),t.lowpassfreq=0|o}if(0==t.out_samplerate&&(2*t.lowpassfreq>t.in_samplerate&&(t.lowpassfreq=t.in_samplerate/2),t.out_samplerate=k(0|t.lowpassfreq,t.in_samplerate)),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==p.vbr_off&&(t.compression_ratio=16*t.out_samplerate*e.channels_out/(1e3*t.brate)),t.VBR==p.vbr_abr&&(t.compression_ratio=16*t.out_samplerate*e.channels_out/(1e3*t.VBR_mean_bitrate_kbps)),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,e.findPeakSample=!1),e.findReplayGain=t.findReplayGain,e.decode_on_the_fly=t.decode_on_the_fly,e.decode_on_the_fly&&(e.findPeakSample=!0),e.findReplayGain&&a.InitGainAnalysis(e.rgdata,t.out_samplerate)==w.INIT_GAIN_ANALYSIS_ERROR)return t.internal_flags=null,-6;switch(e.decode_on_the_fly&&!t.decode_only&&(null!=e.hip&&v.hip_decode_exit(e.hip),e.hip=v.hip_decode_init()),e.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*e.mode_gr,t.encoder_delay=U.ENCDELAY,e.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case p.vbr_mt:case p.vbr_rh:case p.vbr_mtrh:var u=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];t.compression_ratio=u[t.VBR_q];break;case p.vbr_abr:t.compression_ratio=16*t.out_samplerate*e.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=16*t.out_samplerate*e.channels_out/(1e3*t.brate);break}if(t.mode==_.NOT_SET&&(t.mode=_.JOINT_STEREO),t.highpassfreq>0?(e.highpass1=2*t.highpassfreq,t.highpasswidth>=0?e.highpass2=2*(t.highpassfreq+t.highpasswidth):e.highpass2=2*t.highpassfreq,e.highpass1/=t.out_samplerate,e.highpass2/=t.out_samplerate):(e.highpass1=0,e.highpass2=0),t.lowpassfreq>0?(e.lowpass2=2*t.lowpassfreq,t.lowpasswidth>=0?(e.lowpass1=2*(t.lowpassfreq-t.lowpasswidth),e.lowpass1<0&&(e.lowpass1=0)):e.lowpass1=2*t.lowpassfreq,e.lowpass1/=t.out_samplerate,e.lowpass2/=t.out_samplerate):(e.lowpass1=0,e.lowpass2=0),N(t),e.samplerate_index=B(t.out_samplerate,t),e.samplerate_index<0)return t.internal_flags=null,-1;if(t.VBR==p.vbr_off){if(t.free_format)e.bitrate_index=0;else if(t.brate=R(t.brate,t.version,t.out_samplerate),e.bitrate_index=O(t.brate,t.version,t.out_samplerate),e.bitrate_index<=0)return t.internal_flags=null,-1}else e.bitrate_index=1;t.analysis&&(t.bWriteVbrTag=!1),null!=e.pinfo&&(t.bWriteVbrTag=!1),i.init_bit_stream_w(e);for(var D,S=e.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),I=0;I<U.SBMAX_l+1;I++)e.scalefac_band.l[I]=r.sfBandIndex[S].l[I];for(I=0;I<U.PSFB21+1;I++){var P=(e.scalefac_band.l[22]-e.scalefac_band.l[21])/U.PSFB21,H=e.scalefac_band.l[21]+I*P;e.scalefac_band.psfb21[I]=H}e.scalefac_band.psfb21[U.PSFB21]=576;for(I=0;I<U.SBMAX_s+1;I++)e.scalefac_band.s[I]=r.sfBandIndex[S].s[I];for(I=0;I<U.PSFB12+1;I++){P=(e.scalefac_band.s[13]-e.scalefac_band.s[12])/U.PSFB12,H=e.scalefac_band.s[12]+I*P;e.scalefac_band.psfb12[I]=H}for(e.scalefac_band.psfb12[U.PSFB12]=192,1==t.version?e.sideinfo_len=1==e.channels_out?21:36:e.sideinfo_len=1==e.channels_out?13:21,t.error_protection&&(e.sideinfo_len+=2),z(t),e.Class_ID=C,D=0;D<19;D++)e.nsPsy.pefirbuf[D]=700*e.mode_gr*e.channels_out;switch(-1==t.ATHtype&&(t.ATHtype=4),t.VBR){case p.vbr_mt:t.VBR=p.vbr_mtrh;case p.vbr_mtrh:null==t.useTemporal&&(t.useTemporal=!1),n.apply_preset(t,500-10*t.VBR_q,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),t.quality>5&&(t.quality=5),e.PSY.mask_adjust=t.maskingadjust,e.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?e.sfb21_extra=!1:e.sfb21_extra=t.out_samplerate>44e3,e.iteration_loop=new VBRNewIterationLoop(s);break;case p.vbr_rh:n.apply_preset(t,500-10*t.VBR_q,0),e.PSY.mask_adjust=t.maskingadjust,e.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?e.sfb21_extra=!1:e.sfb21_extra=t.out_samplerate>44e3,t.quality>6&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),e.iteration_loop=new VBROldIterationLoop(s);break;default:var V;e.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),V=t.VBR,V==p.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),n.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=V,e.PSY.mask_adjust=t.maskingadjust,e.PSY.mask_adjust_short=t.maskingadjust_short,V==p.vbr_off?e.iteration_loop=new E(s):e.iteration_loop=new ABRIterationLoop(s);break}if(t.VBR!=p.vbr_off){if(e.VBR_min_bitrate=1,e.VBR_max_bitrate=14,t.out_samplerate<16e3&&(e.VBR_max_bitrate=8),0!=t.VBR_min_bitrate_kbps&&(t.VBR_min_bitrate_kbps=R(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),e.VBR_min_bitrate=O(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),e.VBR_min_bitrate<0))return-1;if(0!=t.VBR_max_bitrate_kbps&&(t.VBR_max_bitrate_kbps=R(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),e.VBR_max_bitrate=O(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),e.VBR_max_bitrate<0))return-1;t.VBR_min_bitrate_kbps=y.bitrate_table[t.version][e.VBR_min_bitrate],t.VBR_max_bitrate_kbps=y.bitrate_table[t.version][e.VBR_max_bitrate],t.VBR_mean_bitrate_kbps=Math.min(y.bitrate_table[t.version][e.VBR_max_bitrate],t.VBR_mean_bitrate_kbps),t.VBR_mean_bitrate_kbps=Math.max(y.bitrate_table[t.version][e.VBR_min_bitrate],t.VBR_mean_bitrate_kbps)}return t.tune&&(e.PSY.mask_adjust+=t.tune_value_a,e.PSY.mask_adjust_short+=t.tune_value_a),F(t),t.athaa_type<0?e.ATH.useAdjust=3:e.ATH.useAdjust=t.athaa_type,e.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),null==t.short_blocks&&(t.short_blocks=h.short_block_allowed),t.short_blocks!=h.short_block_allowed||t.mode!=_.JOINT_STEREO&&t.mode!=_.STEREO||(t.short_blocks=h.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=1|t.exp_nspsytune,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=W.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=W.NSATTACKTHRE_S),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),null==t.useTemporal&&(t.useTemporal=!0),e.slot_lag=e.frac_SpF=0,t.VBR==p.vbr_off&&(e.slot_lag=e.frac_SpF=72e3*(t.version+1)*t.brate%t.out_samplerate|0),r.iteration_init(t),g.psymodel_init(t),0},this.lame_encode_flush=function(t,e,a,n){var o,r,s,l,d=t.internal_flags,f=c([2,1152]),m=0,h=d.mf_samples_to_encode-U.POSTDELAY,v=V(t);if(d.mf_samples_to_encode<1)return 0;o=0,t.in_samplerate!=t.out_samplerate&&(h+=16*t.out_samplerate/t.in_samplerate),s=t.framesize-h%t.framesize,s<576&&(s+=t.framesize),t.encoder_padding=s,l=(h+s)/t.framesize;while(l>0&&m>=0){var p=v-d.mf_size,_=t.frameNum;p*=t.in_samplerate,p/=t.out_samplerate,p>1152&&(p=1152),p<1&&(p=1),r=n-o,0==n&&(r=0),m=this.lame_encode_buffer(t,f[0],f[1],p,e,a,r),a+=m,o+=m,l-=_!=t.frameNum?1:0}if(d.mf_samples_to_encode=0,m<0)return m;if(r=n-o,0==n&&(r=0),i.flush_bitstream(t),m=i.copy_buffer(d,e,a,r,1),m<0)return m;if(a+=m,o+=m,r=n-o,0==n&&(r=0),t.write_id3tag_automatic){if(u.id3tag_write_v1(t),m=i.copy_buffer(d,e,a,r,0),m<0)return m;o+=m}return o},this.lame_encode_buffer=function(t,e,a,i,n,o,r){var s=t.internal_flags,l=[null,null];if(s.Class_ID!=C)return-3;if(0==i)return 0;H(s,i),l[0]=s.in_buffer_0,l[1]=s.in_buffer_1;for(var c=0;c<i;c++)l[0][c]=e[c],s.channels_in>1&&(l[1][c]=a[c]);return Y(t,l[0],l[1],i,n,o,r)}}function Q(){this.setModules=function(t,e){t,e}}function $(){this.setModules=function(t,e,a){t,e,a}}function J(){}function tt(){this.setModules=function(t,e){t,e}}function et(t,e,i){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),t=1,e=44100,i=128);var n=new Z,o=new Q,r=new w,s=new T,l=new x,c=new O,d=new z,f=new C,m=new g,u=new tt,h=new D,v=new b,p=new $,S=new J;n.setModules(r,s,l,c,d,f,m,u,S),s.setModules(r,S,m,f),u.setModules(s,m),l.setModules(n),d.setModules(s,h,c,v),c.setModules(v,h,n.enc.psy),h.setModules(s),v.setModules(c),f.setModules(n,s,m),o.setModules(p,S),p.setModules(m,u,l);var y=n.lame_init();y.num_channels=t,y.in_samplerate=e,y.out_samplerate=e,y.brate=i,y.mode=_.STEREO,y.quality=3,y.bWriteVbrTag=!1,y.disable_reservoir=!0,y.write_id3tag_automatic=!1;n.lame_init_params(y);var I=1152,k=0|1.25*I+7200,B=a(k);this.encodeBuffer=function(e,i){1==t&&(i=e),e.length>I&&(I=e.length,k=0|1.25*I+7200,B=a(k));var o=n.lame_encode_buffer(y,e,i,e.length,B,0,k);return new Int8Array(B.subarray(0,o))},this.flush=function(){var t=n.lame_encode_flush(y,B,0,k);return new Int8Array(B.subarray(0,t))}}F.SFBMAX=3*U.SBMAX_s,U.ENCDELAY=576,U.POSTDELAY=1152,U.MDCTDELAY=48,U.FFTOFFSET=224+U.MDCTDELAY,U.DECDELAY=528,U.SBLIMIT=32,U.CBANDS=64,U.SBPSY_l=21,U.SBPSY_s=12,U.SBMAX_l=22,U.SBMAX_s=13,U.PSFB21=6,U.PSFB12=6,U.BLKSIZE=1024,U.HBLKSIZE=U.BLKSIZE/2+1,U.BLKSIZE_s=256,U.HBLKSIZE_s=U.BLKSIZE_s/2+1,U.NORM_TYPE=0,U.START_TYPE=1,U.SHORT_TYPE=2,U.STOP_TYPE=3,U.MPG_MD_LR_LR=0,U.MPG_MD_LR_I=1,U.MPG_MD_MS_LR=2,U.MPG_MD_MS_I=3,U.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],q.MFSIZE=3456+U.ENCDELAY-U.MDCTDELAY,q.MAX_HEADER_BUF=256,q.MAX_BITS_PER_CHANNEL=4095,q.MAX_BITS_PER_GRANULE=7680,q.BPC=320,F.SFBMAX=3*U.SBMAX_s,t.Mp3Encoder=et}t(),Recorder.lamejs=t})()},cb7e:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".servicePopup[data-v-4c35cd1b]{z-index:1001;background:rgba(0,0,0,.5)}.servicePopup .fixedPopup-content[data-v-4c35cd1b]{border-radius:2.66667vw;width:80vw}.servicePopup .fixedPopup-content .consult-image[data-v-4c35cd1b]{position:relative;width:100%;height:54.4vw;background-color:#f5f4ff;border-radius:2.66667vw 2.66667vw 0 0;display:-webkit-box;display:-webkit-flex;display:flex}.servicePopup .fixedPopup-content .consult-image .icon-service[data-v-4c35cd1b]{width:100%;height:54.4vw;background:url(https://amity-oss.yimed.cn/static/wxappSource/consult.png);background-size:100% 100%;background-repeat:no-repeat}.servicePopup .fixedPopup-content .consult-image .icon_pop_up_cancel[data-v-4c35cd1b]{position:absolute;top:4vw;right:4vw}.servicePopup .fixedPopup-content .icon_icon_customer_service_little1[data-v-4c35cd1b],.servicePopup .fixedPopup-content .icon_offline_telephone[data-v-4c35cd1b]{font-size:5.33333rem;margin-right:2.66667vw}.servicePopup .fixedPopup-content .service[data-v-4c35cd1b]{position:relative}.servicePopup .fixedPopup-content .service-content[data-v-4c35cd1b]{position:absolute;top:-12vw;width:100%;border-radius:2.66667vw;background-color:#fff;padding:0 6.66667vw;padding-bottom:1.33333vw}.servicePopup .fixedPopup-content .service-content>uni-view[data-v-4c35cd1b]{padding:4vw 0;border-bottom:%?1?% solid #f5f5f5}.servicePopup .fixedPopup-content .service-content .noBorder[data-v-4c35cd1b]{border-bottom:none!important}.servicePopup .fixedPopup-content .service-content .workTime[data-v-4c35cd1b]{margin-top:3.2vw;margin-left:8vw}@media (orientation:landscape){.servicePopup .fixedPopup-content[data-v-4c35cd1b]{border-radius:3.52113rem;width:105.6338rem}.servicePopup .fixedPopup-content .consult-image[data-v-4c35cd1b]{height:71.83099rem;border-radius:3.52113rem 3.52113rem 0 0}.servicePopup .fixedPopup-content .consult-image .icon-service[data-v-4c35cd1b]{height:71.83099rem}.servicePopup .fixedPopup-content .consult-image .icon_pop_up_cancel[data-v-4c35cd1b]{top:5.28169rem;right:5.28169rem}.servicePopup .fixedPopup-content .icon_icon_customer_service_little1[data-v-4c35cd1b],.servicePopup .fixedPopup-content .icon_offline_telephone[data-v-4c35cd1b]{font-size:7.04225rem;margin-right:3.52113rem}.servicePopup .fixedPopup-content .service-content[data-v-4c35cd1b]{top:-15.84507rem;border-radius:3.52113rem;padding:0 8.80282rem;padding-bottom:1.76056rem}.servicePopup .fixedPopup-content .service-content>uni-view[data-v-4c35cd1b]{padding:5.28169rem 0;border-bottom:%?1?% solid #f5f5f5}.servicePopup .fixedPopup-content .service-content .workTime[data-v-4c35cd1b]{margin-top:4.22535rem;margin-left:10.56338rem}}",""])},d165:function(t,e,a){"use strict";var i=a("8911"),n=a.n(i);n.a},dbb7:function(t,e,a){"use strict";a.r(e);var i=a("a7d0"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},ded9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2934"),n=a("3de1"),o={data:function(){return{showService:!1,kfInfo:{}}},props:{type:""},methods:{getServiceInfo:function(){var t=this;(0,i.getSettingcomm)("s10001").then((function(e){"000"==e.errorCode&&(t.kfInfo.kfurlVar=e.entity.onlinePage4Patient,t.kfInfo.kfPhone=e.entity.hotline,t.kfInfo.kfWorkTime=e.entity.workTime,""!=e.entity.hotline&&(t.kfInfo.showKfPhone=!0),""==e.entity.hotline&&""==e.entity.onlinePage4Patient?(t.showService=!1,n.native.modal({content:"",confirmText:"确定",title:"暂未开通在线客服功能",showCancel:!1,success:function(){}})):t.showService=!0)}))},callPhone:function(t){uni.makePhoneCall({phoneNumber:t})},goCustomerService:function(){n.native.go("/pages/customerService/customerService","/customerService")}}};e.default=o},e2cc:function(t,e,a){var i;(function(n){n(window),i=function(){return Recorder}.call(e,a,e,t),void 0===i||(t.exports=i),t.exports&&(t.exports=Recorder)})((function(t){"use strict";var e=function(){},a=function(t){return new b(t)};a.LM="2023-06-17 20:03";var i="Recorder",n="getUserMedia",o="srcSampleRate",r="sampleRate",s="catch";a.IsOpen=function(){var t=a.Stream;if(t){var e=t.getTracks&&t.getTracks()||t.audioTracks||[],i=e[0];if(i){var n=i.readyState;return"live"==n||n==i.LIVE}}return!1},a.BufferSize=4096,a.Destroy=function(){for(var t in p(i+" Destroy"),v(),l)l[t]()};var l={};a.BindDestroy=function(t,e){l[t]=e},a.Support=function(){var t=navigator.mediaDevices||{};return t[n]||(t=navigator,t[n]||(t[n]=t.webkitGetUserMedia||t.mozGetUserMedia||t.msGetUserMedia)),!!t[n]&&(a.Scope=t,!!a.GetContext())},a.GetContext=function(){var e=t.AudioContext;return e||(e=t.webkitAudioContext),e?(a.Ctx&&"closed"!=a.Ctx.state||(a.Ctx=new e,a.BindDestroy("Ctx",(function(){var t=a.Ctx;t&&t.close&&(t.close(),a.Ctx=0)}))),a.Ctx):null};var c="ConnectEnableWebM";a[c]=!0;var d="ConnectEnableWorklet";a[d]=!1;var f=function(e,n){var o,l,f,m=e.BufferSize||a.BufferSize,v=a.Ctx,_=e.Stream,g=function(t){var e=_._m=v.createMediaStreamSource(_);e.connect(t),t.connect(v.destination)},b="",x=_._call,D=function(t){for(var e in x){for(var a=t.length,i=new Int16Array(a),n=0,o=0;o<a;o++){var r=Math.max(-1,Math.min(1,t[o]));r=r<0?32768*r:32767*r,i[o]=r,n+=Math.abs(r)}for(var s in x)x[s](i,n);return}},C="ScriptProcessor",T="audioWorklet",S=i+" "+T,y="RecProc",I="MediaRecorder",k=I+".WebM.PCM",B=v.createScriptProcessor||v.createJavaScriptNode,M="。由于"+T+"内部1秒375次回调，在移动端可能会有性能问题导致回调丢失录音变短，PC端无影响，暂不建议开启"+T+"。",P=function(){l=_.isWorklet=!1,u(_),p("Connect采用老的"+C+"，"+(a[d]?"但已":"可")+"设置"+i+"."+d+"=true尝试启用"+T+b+M,3);var t=_._p=B.call(v,m,1,1);g(t),t.onaudioprocess=function(t){var e=t.inputBuffer.getChannelData(0);D(e)}},E=function(){o=_.isWebM=!1,h(_),l=_.isWorklet=!B||a[d];var e=t.AudioWorkletNode;if(l&&v[T]&&e){var n=function(){var t=function(t){return t.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,S)},e="class "+y+" extends AudioWorkletProcessor{";return e+="constructor "+t((function(t){DEL_super(t);var e=this,a=t.processorOptions.bufferSize;e.bufferSize=a,e.buffer=new Float32Array(2*a),e.pos=0,e.port.onmessage=function(t){t.data.kill&&(e.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",t)})),e+="process "+t((function(t,e,a){var i=this,n=i.bufferSize,o=i.buffer,r=i.pos;if(t=(t[0]||[])[0]||[],t.length){o.set(t,r),r+=t.length;var s=~~(r/n)*n;if(s){this.port.postMessage({val:o.slice(0,s)});var l=o.subarray(s,r);o=new Float32Array(2*n),o.set(l),r=l.length,i.buffer=o}i.pos=r}return!i.kill})),e+='}try{registerProcessor("'+y+'", '+y+')}catch(e){$C.error("'+S+'注册失败",e)}',e=e.replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(e)))},r=function(){return l&&_._na},c=_._na=function(){""!==f&&(clearTimeout(f),f=setTimeout((function(){f=0,r()&&(p(T+"未返回任何音频，恢复使用"+C,3),B&&P())}),500))},u=function(){if(r()){var t=_._n=new e(v,y,{processorOptions:{bufferSize:m}});g(t),t.port.onmessage=function(t){f&&(clearTimeout(f),f=""),r()?D(t.data.val):l||p(T+"多余回调",3)},p("Connect采用"+T+"，设置"+i+"."+d+"=false可恢复老式"+C+b+M,3)}};v.resume()[x&&"finally"]((function(){if(r())if(v[y])u();else{var t=n();v[T].addModule(t).then((function(t){r()&&(v[y]=1,u(),f&&c())}))[s]((function(t){p(T+".addModule失败",1,t),r()&&P()}))}}))}else P()},A=function(){var e=t[I],s="ondataavailable",l="audio/webm; codecs=pcm";o=_.isWebM=a[c];var d=e&&s in e.prototype&&e.isTypeSupported(l);if(b=d?"":"（此浏览器不支持"+k+"）",n&&o&&d){var u=function(){return o&&_._ra},h=(_._ra=function(){""!==f&&(clearTimeout(f),f=setTimeout((function(){u()&&(p(I+"未返回任何音频，降级使用"+T,3),E())}),500))},Object.assign({mimeType:l},a.ConnectWebMOptions)),g=_._r=new e(_,h),x=_._rd={sampleRate:v[r]};g[s]=function(t){var e=new FileReader;e.onloadend=function(){if(u()){var t=w(new Uint8Array(e.result),x);if(!t)return;if(-1==t)return void E();f&&(clearTimeout(f),f=""),D(t)}else o||p(I+"多余回调",3)},e.readAsArrayBuffer(t.data)},g.start(~~(m/48)),p("Connect采用"+k+"，设置"+i+"."+c+"=false可恢复使用"+T+"或老式"+C)}else E()};A()},m=function(t){t._na&&t._na(),t._ra&&t._ra()},u=function(t){t._na=null,t._n&&(t._n.port.postMessage({kill:!0}),t._n.disconnect(),t._n=null)},h=function(t){t._ra=null,t._r&&(t._r.stop(),t._r=null)},v=function(t){t=t||a;var e=t==a,i=t.Stream;if(i&&(i._m&&(i._m.disconnect(),i._m=null),i._p&&(i._p.disconnect(),i._p.onaudioprocess=i._p=null),u(i),h(i),e)){for(var n=i.getTracks&&i.getTracks()||i.audioTracks||[],o=0;o<n.length;o++){var r=n[o];r.stop&&r.stop()}i.stop&&i.stop()}t.Stream=0};a.SampleData=function(t,e,i,n,o){var r="SampleData";n||(n={});var s=n.index||0,l=n.offset||0,c=n.filter;if(c&&c.fn&&c.sr!=e&&(c=null,p(r+"的filter采样率变了，重设滤波",3)),!c){var d=i>3*e/4?0:i/2*3/4;c={fn:d?a.IIRFilter(!0,e,d):0}}c.sr=e;var f=c.fn,m=n.frameNext||[];o||(o={});var u=o.frameSize||1;o.frameType&&(u="mp3"==o.frameType?1152:1);var h=t.length;s>h+1&&p(r+"似乎传入了未重置chunk "+s+">"+h,3);for(var v=0,_=s;_<h;_++)v+=t[_].length;v=Math.max(0,v-Math.floor(l));var g=e/i;g>1?v=Math.floor(v/g):(g=1,i=e),v+=m.length;var b=new Int16Array(v),w=0;for(_=0;_<m.length;_++)b[w]=m[_],w++;for(;s<h;s++){for(var x=t[s],D=(_=l,x.length),C=new Int16Array(D),T=0,S=1;T<D;T++,S++){0==T&&(C[0]=f?f(x[0]):x[0]),S<D&&(C[S]=f?f(x[S]):x[S]);var y=Math.floor(_);if(T==y){var I=Math.ceil(_),k=_-y,B=C[y],M=I<D?C[I]:B;b[w]=B+(M-B)*k,w++,_+=g}}l=Math.max(0,_-D)}m=null;var P=b.length%u;if(P>0){var E=2*(b.length-P);m=new Int16Array(b.buffer.slice(E)),b=new Int16Array(b.buffer.slice(0,E))}return{index:s,offset:l,filter:c,frameNext:m,sampleRate:i,data:b}},a.IIRFilter=function(t,e,a){var i=2*Math.PI*a/e,n=Math.sin(i),o=Math.cos(i),r=n/2,s=1+r,l=-2*o/s,c=(1-r)/s;if(t)var d=(1-o)/2/s,f=(1-o)/s;else d=(1+o)/2/s,f=-(1+o)/s;var m=0,u=0,h=0,v=0,p=0;return function(t){return h=d*t+f*m+d*u-l*v-c*p,u=m,m=t,p=v,v=h,h}},a.PowerLevel=function(t,e){var a,i=t/e||0;return a=i<1251?Math.round(i/1250*10):Math.round(Math.min(100,Math.max(0,100*(1+Math.log(i/1e4)/Math.log(10))))),a},a.PowerDBFS=function(t){var e=Math.max(.1,t||0),a=32767;return e=Math.min(e,a),e=20*Math.log(e/a)/Math.log(10),Math.max(-100,Math.round(e))},a.CLog=function(e,a){var n=new Date,o=("0"+n.getMinutes()).substr(-2)+":"+("0"+n.getSeconds()).substr(-2)+"."+("00"+n.getMilliseconds()).substr(-3),r=this&&this.envIn&&this.envCheck&&this.id,s=["["+o+" "+i+(r?":"+r:"")+"]"+e],l=arguments,c=t.console||{},d=2,f=c.log;for("number"==typeof a?f=1==a?c.error:3==a?c.warn:f:d=1;d<l.length;d++)s.push(l[d]);_?f&&f("[IsLoser]"+s[0],s.length>1?s:""):f.apply(c,s)};var p=function(){a.CLog.apply(this,arguments)},_=!0;try{_=!console.log.apply}catch(y){}var g=0;function b(t){this.id=++g,S();var a={type:"mp3",bitRate:16,sampleRate:16e3,onProcess:e};for(var i in t)a[i]=t[i];this.set=a,this._S=9,this.Sync={O:9,C:9}}a.Sync={O:9,C:9},a.prototype=b.prototype={CLog:p,_streamStore:function(){return this.set.sourceStream?this:a},open:function(i,o){var r=this,l=r.set,c=r._streamStore();i=i||e;var d=function(t,e){e=!!e,r.CLog("录音open失败："+t+",isUserNotAllow:"+e,1),o&&o(t,e)},m=function(){r.CLog("open ok id:"+r.id),i(),r._SO=0},u=c.Sync,h=++u.O,p=u.C;r._O=r._O_=h,r._SO=r._S;var _=function(){if(p!=u.C||!r._O){var t="open被取消";return h==u.O?r.close():t="open被中断",d(t),!0}},g=r.envCheck({envName:"H5",canProcess:!0});if(g)d("不能录音："+g);else if(l.sourceStream){if(!a.GetContext())return void d("不支持此浏览器从流中获取录音");v(c),r.Stream=l.sourceStream,r.Stream._call={};try{f(c)}catch(y){return void d("从流中打开录音失败："+y.message)}m()}else{var b=function(e,a){try{t.top.a}catch(y){return void d('无权录音(跨域，请尝试给iframe添加麦克风访问策略，如allow="camera;microphone")')}/Permission|Allow/i.test(e)?d("用户拒绝了录音权限",!0):!1===t.isSecureContext?d("浏览器禁止不安全页面录音，可开启https解决"):/Found/i.test(e)?d(a+"，无可用麦克风"):d(a)};if(a.IsOpen())m();else if(a.Support()){var w=function(t){setTimeout((function(){t._call={};var e=a.Stream;e&&(v(),t._call=e._call),a.Stream=t,_()||(a.IsOpen()?(e&&r.CLog("发现同时多次调用open",1),f(c,1),m()):d("录音功能无效：无音频流"))}),100)},x=function(t){var e=t.name||t.message||t.code+":"+t;r.CLog("请求录音权限错误",1,t),b(e,"无法录音："+e)},D=l.audioTrackSet||{};D.sampleRate=a.Ctx.sampleRate;var C={audio:D};try{var T=a.Scope[n](C,w,x)}catch(y){r.CLog(n,3,y),C={audio:!0},T=a.Scope[n](C,w,x)}r.CLog(n+"("+JSON.stringify(C)+")，一般默认会降噪和回声消除，移动端可能会降低系统播放音量，请参阅文档中audioTrackSet配置"),T&&T.then&&T.then(w)[s](x)}else b("","此浏览器不支持录音")}},close:function(t){t=t||e;var a=this,i=a._streamStore();a._stop();var n=i.Sync;if(a._O=0,a._O_!=n.O)return a.CLog("close被忽略（因为同时open了多个rec，只有最后一个会真正close）",3),void t();n.C++,v(i),a.CLog("close"),t()},mock:function(t,e){var a=this;return a._stop(),a.isMock=1,a.mockEnvInfo=null,a.buffers=[t],a.recSize=t.length,a[o]=e,a},envCheck:function(e){var i,n=this,o=n.set,r="CPU_BE";if(i||a[r]||!t.Int8Array||new Int8Array(new Int32Array([1]).buffer)[0]||(S(r),i="不支持"+r+"架构"),!i){var s=o.type;n[s+"_envCheck"]?i=n[s+"_envCheck"](e,o):o.takeoffEncodeChunk&&(i=s+"类型"+(n[s]?"":"(未加载编码器)")+"不支持设置takeoffEncodeChunk")}return i||""},envStart:function(t,e){var a=this,i=a.set;a.isMock=t?1:0,a.mockEnvInfo=t,a.buffers=[],a.recSize=0,a.envInLast=0,a.envInFirst=0,a.envInFix=0,a.envInFixTs=[];var n=i[r];if(n>e?i[r]=e:n=0,a[o]=e,a.CLog(o+": "+e+" set."+r+": "+i[r]+(n?" 忽略"+n:""),n?3:0),a.engineCtx=0,a[i.type+"_start"]){var s=a.engineCtx=a[i.type+"_start"](i);s&&(s.pcmDatas=[],s.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(t,e){var i=this,n=i.set,s=i.engineCtx,l=i[o],c=t.length,d=a.PowerLevel(e,c),f=i.buffers,m=f.length;f.push(t);var u=f,h=m,v=Date.now(),p=Math.round(c/l*1e3);i.envInLast=v,1==i.buffers.length&&(i.envInFirst=v-p);var _=i.envInFixTs;_.splice(0,0,{t:v,d:p});for(var g=v,b=0,w=0;w<_.length;w++){var x=_[w];if(v-x.t>3e3){_.length=w;break}g=x.t,b+=x.d}var D=_[1],C=v-g,T=C-b;if(T>C/3&&(D&&C>1e3||_.length>=6)){var S=v-D.t-p;if(S>p/5){var I=!n.disableEnvInFix;if(i.CLog("["+v+"]"+(I?"":"未")+"补偿"+S+"ms",3),i.envInFix+=S,I){var k=new Int16Array(S*l/1e3);c+=k.length,f.push(k)}}}var B=i.recSize,M=c,P=B+M;if(i.recSize=P,s){var E=a.SampleData(f,l,n[r],s.chunkInfo);s.chunkInfo=E,B=s.pcmSize,M=E.data.length,P=B+M,s.pcmSize=P,f=s.pcmDatas,m=f.length,f.push(E.data),l=E[r]}var A=Math.round(P/l*1e3),R=f.length,O=u.length,L=function(){for(var t=N?0:-M,e=null==f[0],a=m;a<R;a++){var o=f[a];null==o?e=1:(t+=o.length,s&&o.length&&i[n.type+"_encode"](s,o))}if(e&&s){a=h;for(u[0]&&(a=0);a<O;a++)u[a]=null}e&&(t=N?M:0,f[0]=null),s?s.pcmSize+=t:i.recSize+=t},N=0,F="rec.set.onProcess";try{N=n.onProcess(f,d,A,l,m,L)}catch(y){console.error(F+"回调出错是不允许的，需保证不会抛异常",y)}var z=Date.now()-v;if(z>10&&i.envInFirst-v>1e3&&i.CLog(F+"低性能，耗时"+z+"ms",3),!0===N){var H=0;for(w=m;w<R;w++)null==f[w]?H=1:f[w]=new Int16Array(0);H?i.CLog("未进入异步前不能清除buffers",3):s?s.pcmSize-=M:i.recSize-=M}else L()},start:function(){var t=this,e=a.Ctx,i=1;if(t.set.sourceStream?t.Stream||(i=0):a.IsOpen()||(i=0),i)if(t.CLog("开始录音"),t._stop(),t.state=3,t.envStart(null,e[r]),t._SO&&t._SO+1!=t._S)t.CLog("start被中断",3);else{t._SO=0;var n=function(){3==t.state&&(t.state=1,t.resume())};if("suspended"==e.state){var o="AudioContext resume: ";t.CLog(o+"wait..."),e.resume().then((function(){t.CLog(o+e.state),n()}))[s]((function(a){t.CLog(o+e.state+" 可能无法录音："+a.message,1,a),n()}))}else n()}else t.CLog("未open",1)},pause:function(){var t=this;t.state&&(t.state=2,t.CLog("pause"),delete t._streamStore().Stream._call[t.id])},resume:function(){var t=this;if(t.state){t.state=1,t.CLog("resume"),t.envResume();var e=t._streamStore().Stream;e._call[t.id]=function(e,a){1==t.state&&t.envIn(e,a)},m(e)}},_stop:function(t){var e=this,a=e.set;e.isMock||e._S++,e.state&&(e.pause(),e.state=0),!t&&e[a.type+"_stop"]&&(e[a.type+"_stop"](e.engineCtx),e.engineCtx=0)},stop:function(t,e,i){var n,s=this,l=s.set,c=s.envInLast-s.envInFirst,d=c&&s.buffers.length;s.CLog("stop 和start时差"+(c?c+"ms 补偿"+s.envInFix+"ms envIn:"+d+" fps:"+(d/c*1e3).toFixed(1):"-"));var f=function(){s._stop(),i&&s.close()},m=function(t){s.CLog("结束录音失败："+t,1),e&&e(t),f()},u=function(e,a){if(s.CLog("结束录音 编码花"+(Date.now()-n)+"ms 音频时长"+a+"ms 文件大小"+e.size+"b"),l.takeoffEncodeChunk)s.CLog("启用takeoffEncodeChunk后stop返回的blob长度为0不提供音频数据",3);else if(e.size<Math.max(100,a/2))return void m("生成的"+l.type+"无效");t&&t(e,a),f()};if(!s.isMock){var h=3==s.state;if(!s.state||h)return void m("未开始录音"+(h?"，开始录音前无用户交互导致AudioContext未运行":""));s._stop(!0)}var v=s.recSize;if(v)if(s.buffers[0])if(s[l.type]){if(s.isMock){var p=s.envCheck(s.mockEnvInfo||{envName:"mock",canProcess:!1});if(p)return void m("录音错误："+p)}var _=s.engineCtx;if(s[l.type+"_complete"]&&_){var g=Math.round(_.pcmSize/l[r]*1e3);return n=Date.now(),void s[l.type+"_complete"](_,(function(t){u(t,g)}),m)}n=Date.now();var b=a.SampleData(s.buffers,s[o],l[r]);l[r]=b[r];var w=b.data;g=Math.round(w.length/l[r]*1e3);s.CLog("采样"+v+"->"+w.length+" 花:"+(Date.now()-n)+"ms"),setTimeout((function(){n=Date.now(),s[l.type](w,(function(t){u(t,g)}),(function(t){m(t)}))}))}else m("未加载"+l.type+"编码器");else m("音频buffers被释放");else m("未采集到录音")}},t[i]&&(p("重复引入"+i,3),t[i].Destroy()),t[i]=a;var w=function(t,e){e.pos||(e.pos=[0],e.tracks={},e.bytes=[]);var a=e.tracks,i=[e.pos[0]],n=function(){e.pos[0]=i[0]},o=e.bytes.length,s=new Uint8Array(o+t.length);if(s.set(e.bytes),s.set(t,o),e.bytes=s,!e._ht){if(C(s,i),T(s,i),!x(C(s,i),[24,83,128,103]))return;C(s,i);while(i[0]<s.length){var l=C(s,i),c=T(s,i),d=[0],f=0;if(!c)return;if(x(l,[22,84,174,107])){while(d[0]<c.length){var m=C(c,d),u=T(c,d),h=[0],v={channels:0,sampleRate:0};if(x(m,[174]))while(h[0]<u.length){var _=C(u,h),g=T(u,h),b=[0];if(x(_,[215])){var w=D(g);v.number=w,a[w]=v}else if(x(_,[131])){w=D(g);1==w?v.type="video":2==w?(v.type="audio",f||(e.track0=v),v.idx=f++):v.type="Type-"+w}else if(x(_,[134])){for(var S="",y=0;y<g.length;y++)S+=String.fromCharCode(g[y]);v.codec=S}else if(x(_,[225]))while(b[0]<g.length){var I=C(g,b),k=T(g,b);if(x(I,[181])){w=0;var B=new Uint8Array(k.reverse()).buffer;4==k.length?w=new Float32Array(B)[0]:8==k.length?w=new Float64Array(B)[0]:p("WebM Track !Float",1,k),v[r]=Math.round(w)}else x(I,[98,100])?v.bitDepth=D(k):x(I,[159])&&(v.channels=D(k))}}}e._ht=1,p("WebM Tracks",a),n();break}}}var M=e.track0;if(M){if(16==M.bitDepth&&/FLOAT/i.test(M.codec)&&(M.bitDepth=32,p("WebM 16改32位",3)),M[r]!=e[r]||32!=M.bitDepth||M.channels<1||!/(\b|_)PCM\b/i.test(M.codec))return e.bytes=[],e.bad||p("WebM Track非预期",3,e),e.bad=1,-1;var P=[],E=0;while(i[0]<s.length){m=C(s,i),u=T(s,i);if(!u)break;if(x(m,[163])){var A=15&u[0];v=a[A];if(v){if(0===v.idx){var R=new Uint8Array(u.length-4);for(y=4;y<u.length;y++)R[y-4]=u[y];P.push(R),E+=R.length}}else p("WebM !Track"+A,1,a)}n()}if(E){var O=new Uint8Array(s.length-e.pos[0]);O.set(s.subarray(e.pos[0])),e.bytes=O,e.pos[0]=0;R=new Uint8Array(E),y=0;for(var L=0;y<P.length;y++)R.set(P[y],L),L+=P[y].length;B=new Float32Array(R.buffer);if(M.channels>1){var N=[];for(y=0;y<B.length;)N.push(B[y]),y+=M.channels;B=new Float32Array(N)}return B}}},x=function(t,e){if(!t||t.length!=e.length)return!1;if(1==t.length)return t[0]==e[0];for(var a=0;a<t.length;a++)if(t[a]!=e[a])return!1;return!0},D=function(t){for(var e="",a=0;a<t.length;a++){var i=t[a];e+=(i<16?"0":"")+i.toString(16)}return parseInt(e,16)||0},C=function(t,e,a){var i=e[0];if(!(i>=t.length)){var n=t[i],o=("0000000"+n.toString(2)).substr(-8),r=/^(0*1)(\d*)$/.exec(o);if(r){var s=r[1].length,l=[];if(!(i+s>t.length)){for(var c=0;c<s;c++)l[c]=t[i],i++;return a&&(l[0]=parseInt(r[2]||"0",2)),e[0]=i,l}}}},T=function(t,e){var a=C(t,e,1);if(a){var i=D(a),n=e[0],o=[];if(i<2147483647){if(n+i>t.length)return;for(var r=0;r<i;r++)o[r]=t[n],n++}return e[0]=n,o}};a.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var S=a.Traffic=function(t){t=t?"/"+i+"/Report/"+t:"";var e=a.TrafficImgUrl;if(e){var n=a.Traffic,o=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],r=o[1]||"http://file/",s=(o[0]||r)+t;if(0==e.indexOf("//")&&(e=/^https:/i.test(s)?"https:"+e:"http:"+e),t&&(e=e+"&cu="+encodeURIComponent(r+t)),!n[s]){n[s]=1;var l=new Image;l.src=e,p("Traffic Analysis Image: "+(t||i+".TrafficImgUrl="+a.TrafficImgUrl))}}}}))},e813c:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"chatDetail",class:t.isCognitive?"fullWidth":""},[!t.isInWx||t.isWxAPP?a("v-uni-view",{staticClass:"header js-header",style:"padding-top:"+t.statusBarHeight+"px"},[a("v-uni-view",{staticClass:"header-content"},[t.pad?t._e():a("i",{staticClass:"iconfont1 icon_return",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goback()}}}),a("v-uni-view",{staticClass:"memberBox"},t._l(t.memberList,(function(e,i){return t.userId!=e.userId?a("v-uni-view",[a("v-uni-text",[t._v(t._s(e.userName))]),t.getShowDot(e,i)?a("i",{staticClass:"dot",class:e.dotClass}):t._e(),i!=t.memberList.length-1&&t.memberList.length>2?a("v-uni-text",{staticClass:"symbol"},[t._v("、")]):t._e()],1):t._e()})),1)],1)],1):t._e(),t.orderDetail.visitInfo?a("v-uni-view",{staticClass:"content js-content",style:t.contentHeight?"height:"+t.contentHeight+"px":""},[a("v-uni-view",{staticClass:"content-top js-contentTop"},[t.cognitionServicePack.packStatus!=t.PACKSTATUS.WAIT||t.orderDetail.visitInfo.cogrecCoopmode?t.cognitionServicePack.cogApprStatus!=t.COGAPPRSTATUS.NOT||t.cognitionServicePack.packStatus!=t.PACKSTATUS.GOING||t.leftTime()||t.orderDetail.visitInfo.cogrecCoopmode||t.cognitionServicePack.assessMode?t.cognitionServicePack.cogApprStatus!=t.COGAPPRSTATUS.DONE&&t.cognitionServicePack.packStatus==t.PACKSTATUS.GOING&&!t.orderDetail.visitInfo.cogrecCoopmode&&t.cognitionServicePack.assessMode?a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[a("v-uni-text",{attrs:{decode:"true"}},[t._v("请前往认知筛查网点进行评估")])],1),t.cognitionServicePack.cogApprStatus!=t.COGAPPRSTATUS.NOT?a("v-uni-button",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goVideoAssess.apply(void 0,arguments)}}},[t._v("继续评估")]):t._e()],1):t.cognitionServicePack.cogApprStatus!=t.COGAPPRSTATUS.NOT||t.cognitionServicePack.packStatus!=t.PACKSTATUS.GOING||!t.leftTime()||t.orderDetail.visitInfo.cogrecCoopmode||t.cognitionServicePack.assessMode||t.cognitionServicePack.swapping?t.cognitionServicePack.cogApprStatus!=t.COGAPPRSTATUS.UNDONE||t.cognitionServicePack.packStatus!=t.PACKSTATUS.GOING||t.orderDetail.visitInfo.cogrecCoopmode||t.cognitionServicePack.assessMode?((t.orderDetail.visitInfo.cogrecCoopmode||t.cognitionServicePack.cogApprStatus!=t.COGAPPRSTATUS.DONE)&&!t.orderDetail.visitInfo.cogrecCoopmode||t.cognitionServicePack.packStatus!=t.PACKSTATUS.GOING)&&t.orderDetail.visitCharge.businessType!=t.SERVICECODE.READ&&t.orderDetail.visitCharge.businessType!=t.SERVICECODE.VIDEOCONSULT||t.chargeStatus!=t.CONSULTCODE.WAIT&&t.chargeStatus!=t.CONSULTCODE.GOING&&t.chargeStatus!=t.CONSULTCODE.NOTDONE||t.orderDetail.visitCharge.intellectDiag?t.orderDetail.visitCharge.intellectDiag&&t.cognitionServicePack.swapping||!t.orderDetail.visitCharge.intellectDiag&&t.orderDetail.visitCharge.businessType==t.SERVICECODE.CONSULT?a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[a("v-uni-text",{attrs:{decode:"true"}},[t._v("咨询时间  "+t._s(t.cognitionServicePack.doctorDiagnoseDate)+" "+t._s(t.cognitionServicePack.diagnoseBeginTime))])],1)],1):t.orderDetail.visitCharge.businessType!=t.SERVICECODE.IMGTXTCONSULT||t.chargeStatus!=t.CONSULTCODE.WAIT&&t.chargeStatus!=t.CONSULTCODE.NOTDONE?t._e():a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[t.chargeStatus==t.CONSULTCODE.WAIT?[a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「待接诊」")])]:[a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「进行中」")])],a("v-uni-text",[t._v(t._s(t.imgTextTimeCountDown))])],2),t.chargeStatus==t.CONSULTCODE.NOTDONE&&t.orderDetail.visitInfo.countLimit>=0?[a("v-uni-text",[t._v("剩余回复次数"),a("v-uni-text",{staticClass:"c-orange"},[t._v(t._s(t.orderDetail.visitInfo.countLimit))]),t._v("次")],1)]:t._e()],2):a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[a("v-uni-text",{attrs:{decode:"true"}},[t._v("咨询时间  "+t._s(t.cognitionServicePack.doctorDiagnoseDate)+" "+t._s(t.cognitionServicePack.diagnoseBeginTime))]),t.chargeStatus==t.CONSULTCODE.WAIT?[a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「待接诊」")])]:[a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「未结诊」")])]],2),t.chargeStatus!=t.CONSULTCODE.WAIT&&0!=t.orderDetail.visitInfo.countLimit?[a("v-uni-button",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.patientCallDoctor.apply(void 0,arguments)}}},[t._v("继续咨询")])]:t._e()],2):a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[a("v-uni-text",{attrs:{decode:"true"}},[t._v("评估时间  "+t._s(t.cognitionServicePack.assessDate)+" "+t._s(t.cognitionServicePack.assessBeginTime)+"~"+t._s(t.cognitionServicePack.assessEndTime))]),a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「评估中」")])],1),a("v-uni-button",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goVideoAssess.apply(void 0,arguments)}}},[t._v("继续评估")])],1):a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[a("v-uni-text",{attrs:{decode:"true"}},[t._v("评估时间  "+t._s(t.cognitionServicePack.assessDate)+" "+t._s(t.cognitionServicePack.assessBeginTime)+"~"+t._s(t.cognitionServicePack.assessEndTime))]),a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「待评估」")])],1)],1):a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[a("v-uni-text",{attrs:{decode:"true"}},[t._v("开始时间  "+t._s(t.cognitionServicePack.assessDate)+" "+t._s(t.cognitionServicePack.assessBeginTime)+"~"+t._s(t.cognitionServicePack.assessEndTime))]),a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「"+t._s(t.cognitionServicePack.cogApprStatus==t.COGAPPRSTATUS.NOT?"待评估":"评估中")+"」")])],1)],1):a("v-uni-view",{staticClass:"topTips flex-father"},[a("v-uni-view",{staticClass:"line1 flex-child"},[a("v-uni-text",{attrs:{decode:"true"}},[t._v("预约时间  "+t._s(t.cognitionServicePack.doctorDiagnoseDate)+" "+t._s(t.cognitionServicePack.diagnoseBeginTime))]),a("v-uni-text",{staticClass:"c-orange",attrs:{decode:"true"}},[t._v("「待指派」")])],1)],1)],1),a("v-uni-view",{staticClass:"content-detail js-contentDetail",style:t.contentDetailHeight?"height:"+t.contentDetailHeight:""},[a("v-uni-scroll-view",{attrs:{id:"js-scrollBar","scroll-with-animation":!0,"scroll-y":!0,"scroll-top":t.scrollTop,"refresher-triggered":t.loading,"refresher-enabled":!0},on:{refresherrefresh:function(e){arguments[0]=e=t.$handleEvent(e),t.scollTopNextPage.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"loadMore"},[t._v(t._s(t.loadMoreText))]),a("v-uni-view",{staticClass:"content-detail-chat js-contentDetailChat"},t._l(t.dialogList,(function(e,i){return a("v-uni-view",{staticClass:"chat-item",class:e.fromUserId!=t.userId?"reply":"answer"},[e.type==t.CHATTYPE.SYSTEM?a("v-uni-view",[e.showTime?a("v-uni-view",{staticClass:"chatTime",staticStyle:{"text-align":"center"}},[t._v(t._s(t.getTimeRuleDialog(e.timestamp)))]):t._e(),!e.extend||e.cusCode!=t.REPORTTYPE.MED3&&e.cusCode!=t.REPORTTYPE.MED4?a("v-uni-view",{staticClass:"chatTime",staticStyle:{"text-align":"center","margin-bottom":"0"}},[t._v(t._s(e.content))]):a("v-uni-view",{staticClass:"systemCard hand"},[a("v-uni-view",{staticClass:"detail drug flex-father flex-center",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goDrugDetailPage(e)}}},[a("i",{staticClass:"icon",class:e.cusCode==t.REPORTTYPE.MED3?"icon-westernMedicine":"icon-chineseMedicine"}),a("v-uni-view",{staticClass:"flex-child",staticStyle:{"margin-left":"20rpx"}},[a("v-uni-text",[t._v(t._s(e.cusCode==t.REPORTTYPE.MED3?"西药":"中药")+"处方审核通过")]),a("v-uni-view",{staticClass:"c-666 fz-24"},[t._v("处方有效期"+t._s(e.cusData.limitConfirmHours)+"小时，请尽快确认")])],1),a("v-uni-text",{staticClass:"c-purple"},[t._v("确认购药")]),a("i",{staticClass:"iconfont1 icon_icon_jump_02"})],1)],1)],1):a("v-uni-view",{staticClass:"clearfix"},[e.showTime?a("v-uni-view",{staticClass:"chatTime"},[t._v(t._s(t.getTimeRuleDialog(e.timestamp)))]):t._e(),a("v-uni-view",{key:i,staticClass:"chatContent clearfix",class:t.groupChatFlag?"groupChat":""},[a("v-uni-image",{staticClass:"chatImg",class:1==e.userOnline?"":"notOnline",attrs:{src:e.icon},on:{error:function(a){arguments[0]=a=t.$handleEvent(a),t.getDefaultIcon(e.userTypeName,i,"icon")}}}),a("v-uni-view",{staticClass:"contentDetail",class:[e.contentType==t.CHATCONTENTTYPE.AUDIO?"contentAudio":e.contentType==t.CHATCONTENTTYPE.CUSTOM&&e.extend&&t.getIsReport(e)?"contentReport":"",e.cusCode==t.REPORTTYPE.INQ4?"contentConsultInfo":""]},[t.groupChatFlag&&e.fromUserId!=t.userId?a("v-uni-text",{staticClass:"chatUserName"},[t._v(t._s(e.userName))]):t._e(),e.contentType==t.CHATCONTENTTYPE.IMG?a("v-uni-view",{staticClass:"chatImgList"},[a("img",{attrs:{src:e.isPushMsg?e.content:t.fileUrl+e.content,mode:"widthFix",preview:"chatImg"}})]):e.contentType==t.CHATCONTENTTYPE.AUDIO?a("v-uni-view",{staticClass:"chatAudio clearfix",style:"width:"+15*parseInt(e.contentLength)+"px",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.audioChatPlay(e,i)}}},[e.isPlay?a("v-uni-image",{attrs:{src:t.audioGif}}):a("i",{staticClass:"iconfont1 icon_icon_play_the_voice_02"}),a("v-uni-text",[t._v(t._s(e.contentLength)),a("v-uni-text",[t._v('"')])],1),e.fromUserId!=t.userId&&(!e.contentUnpackFlag||e.contentUnpackFlag.indexOf(t.chatDetail.pMemberId)<0)?a("v-uni-text",{staticClass:"unReadMsg"}):t._e()],1):e.contentType==t.CHATCONTENTTYPE.TEXT?a("v-uni-view",[a("v-uni-view",{staticClass:"text",domProps:{innerHTML:t._s(t.chatTextFormat(e.content))}})],1):e.extend&&e.cusCode==t.REPORTTYPE.INQ4?a("v-uni-view",{staticClass:"chatMsgInfo chatConsultInfo"},[a("v-uni-view",{staticClass:"topTips"},[e.cusData.prescribes?[a("v-uni-text",{staticClass:"state-tips orange"},[t._v("复诊续方")])]:a("v-uni-text",{staticClass:"state-tips orange"},[t._v("视频问诊")]),e.cusData.labelNames?t._l(e.cusData.labelNames.split(","),(function(e){return a("v-uni-text",{staticClass:"state-tips empty-purple"},[t._v(t._s(e))])})):t._e()],2),a("v-uni-view",{staticClass:"detail"},[e.cusData.visitSignInfo&&e.cusData.visitSignInfo.remark?a("v-uni-view",{staticClass:"text"},[t._v("问诊描述："+t._s(e.cusData.visitSignInfo.remark))]):t._e(),e.cusData.fileInfos.length?a("v-uni-view",{staticClass:"imgBox"},t._l(e.cusData.fileInfos,(function(e,i){return a("v-uni-view",[a("img",{attrs:{src:e.filePath?t.fileUrl+e.filePath:"",preview:"consultImg"}})])})),1):t._e()],1)],1):e.extend&&e.cusCode==t.REPORTTYPE.INQ6?a("v-uni-view",{staticClass:"chatReport"},[a("v-uni-view",{staticClass:"title"},[t._v("续方凭证")]),a("v-uni-view",{staticClass:"detail"},[a("v-uni-view",{staticClass:"fw-500"},[t._v(t._s(e.cusData.proofDiagnosisName))]),a("v-uni-view",{staticClass:"c-666 mt-5"},[t._v(t._s(e.cusData.hospitalName)+" "+t._s(e.cusData.deptName))]),a("v-uni-view",{staticClass:"c-666 mt-5"},[t._v(t._s(e.cusData.time))])],1)],1):!e.extend||e.cusCode!=t.REPORTTYPE.COG3&&e.cusCode!=t.REPORTTYPE.COG5&&e.cusCode!=t.REPORTTYPE.INQ5?!e.extend||e.cusCode!=t.REPORTTYPE.MED1&&e.cusCode!=t.REPORTTYPE.MED2?e.extend&&e.cusCode==t.REPORTTYPE.INQ3||e.cusCode==t.REPORTTYPE.COG4?a("v-uni-view",{staticClass:"chatReport",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goReportPage.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(e.cusCode==t.REPORTTYPE.INQ3?"认知解读":"评估报告"))]),a("v-uni-view",{staticClass:"detail flex-father"},[a("i",{staticClass:"iconfont1",class:e.cusCode==t.REPORTTYPE.INQ3?"icon_issue_report":"icon_scale_evaluation"}),a("v-uni-view",{staticClass:"flex-child"},[a("v-uni-view",{staticClass:"subTitle"},[t._v(t._s(e.cusCode==t.REPORTTYPE.INQ3?"认知评估报告":"量表评估结果"))]),a("v-uni-view",{staticClass:"fz-28 c-999"},[t._v("点击查看详情")])],1)],1)],1):a("v-uni-view",{staticClass:"clearfix"},[a("v-uni-text",[t._v(t._s(e.extend&&t.getMessageCon(e.extend)))]),a("i",{staticClass:"iconfont1 icon_invitation_01"})],1):a("v-uni-view",{staticClass:"chatMsgInfo hand",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goRecipeDetailPage(e)}}},[a("v-uni-view",{staticClass:"detail drug flex-father flex-center-v"},[a("i",{staticClass:"icon",class:e.cusCode==t.REPORTTYPE.MED1?"icon-westernMedicine":"icon-chineseMedicine"}),a("v-uni-text",[t._v("已提交"+t._s(e.cusCode==t.REPORTTYPE.MED1?"西药":"中药")+"处方")])],1)],1):a("v-uni-view",{staticClass:"chatMsgInfo hand"},[a("v-uni-view",{staticClass:"detail"},[a("v-uni-view",{staticClass:"c-666"},[t._v("初步诊断：")]),a("v-uni-view",{staticClass:"line1"},[e.cusCode==t.REPORTTYPE.INQ5?[e.cusData.diagnosisList&&e.cusData.diagnosisList.length?t._l(e.cusData.diagnosisList,(function(i,n){return a("v-uni-text",{key:n},[t._v(t._s(i.diagnosisName)),n!=e.cusData.diagnosisList.length-1?a("v-uni-text",[t._v("；")]):t._e()],1)})):[t._v("尚未确诊")]]:[t._v(t._s(e.cusData&&e.cusData.diagnosis?e.cusData.diagnosis:"尚未确诊"))]],2),a("v-uni-view",{staticClass:"advise c-666"},[t._v("建议：")]),a("v-uni-view",{staticClass:"line1"},[e.cusCode==t.REPORTTYPE.INQ5?[t._v(t._s(e.cusData.visitInfo&&e.cusData.visitInfo.advice?e.cusData.visitInfo.advice:"暂无"))]:[t._v(t._s(e.cusData&&e.cusData.advice?e.cusData.advice:"暂无"))]],2)],1),a("v-uni-view",{staticClass:"bottom flex-father",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goReportPage(e)}}},[a("v-uni-view",{staticClass:"flex-child c-purple"},[t._v("查看诊疗意见详情")]),a("i",{staticClass:"iconfont1 icon_icon_jump_02"})],1)],1),"fail"==e.sendSchedule?a("i",{staticClass:"icon icon-fail",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessageAgain(i)}}}):"againSending"==e.sendSchedule||"sending"==e.sendSchedule?a("v-uni-image",{staticClass:"sending",attrs:{src:t.loadingImg}}):t._e()],1)],1)],1)],1)})),1),t.isShowTimeCard?a("v-uni-view",{staticClass:"content-detail-tips"},[t.isLeftTime?[a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.isConsultTimeOut?"已到候诊时间":"已到评估时间"))]),a("v-uni-view",{staticClass:"detail"},[a("v-uni-view",{staticClass:"tipsBox clearfix"},[t._v(t._s(t.isConsultTimeOut?"点击按钮去候诊":"点击按钮去评估"))])],1)]:[a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.isConsultTimeOut?"距离候诊时间":"距离评估开始"))]),a("v-uni-view",{staticClass:"detail"},[a("v-uni-view",{staticClass:"timeBox clearfix"},t._l(t.timeList,(function(e){return a("v-uni-view",[t._v(t._s(e))])})),1)],1)],a("v-uni-view",{staticClass:"operate",class:t.isLeftTime?"":"disabled",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.beginVideo.apply(void 0,arguments)}}},[t._v(t._s(t.isLeftTime?t.isConsultTimeOut?"立即候诊":"开始评估":"未开始"))])],2):t._e(),t.orderDetail.visitCharge.businessType==t.SERVICECODE.IMGTXTCONSULT&&t.chargeStatus==t.CONSULTCODE.WAIT?a("v-uni-view",{staticClass:"warm-tips"},[a("v-uni-text",[t._v("问诊请求已发送给医生，答题医生均为医院临床一线工作医生，无法随问随答，请您耐心等待！您的问题得到回复后，系统将在第一时间给您推送消息，请确保能够收到消息通知。")])],1):t._e()],1)],1),a("v-uni-view",{staticClass:"content-bottom js-contentBottom"},[t.unChatFlag?a("v-uni-view",{staticClass:"status"},[t.chargeStatus==t.CONSULTCODE.WAIT?[t._v("提问次数已用完，等待医生接诊")]:[t._v("回复次数已用完")]],2):t.chargeStatus==t.CONSULTCODE.OVER||t.chargeStatus==t.CONSULTCODE.DONE?a("v-uni-view",{staticClass:"status"},[t._v("订单已完成")]):t.chargeStatus==t.CONSULTCODE.CANCEL?a("v-uni-view",{staticClass:"status"},[t._v("订单已取消")]):t.srvContact.patientContact?t.isVoice?a("v-uni-view",{staticClass:"audioBox",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.voiceEnd.apply(void 0,arguments)}}},[t._v("按住  说话")]):a("v-uni-view",{staticClass:"textareaBox"},[a("v-uni-textarea",{style:"height:"+t.textareaHeight+"rpx",attrs:{"show-confirm-bar":!1,placeholder:t.chargeStatus==t.CONSULTCODE.WAIT&&t.orderDetail.visitInfo.replyLimitUnRcv>0?"接诊前还可发送"+t.orderDetail.visitInfo.replyLimitUnRcv+"次消息":"请详细描述您的情况～",maxlength:"1000"},on:{linechange:function(e){arguments[0]=e=t.$handleEvent(e),t.setTextareaHeight.apply(void 0,arguments)}},model:{value:t.textareaVal,callback:function(e){t.textareaVal=e},expression:"textareaVal"}}),a("v-uni-view",{staticClass:"btn btn-purple",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.sendMessage.apply(void 0,arguments)}}},[t._v("发送")])],1):a("v-uni-view",{staticClass:"status"},[t.cognitionServicePack.packStatus==t.PACKSTATUS.WAIT?[t._v("医生暂未开通联系功能，评估师接单后可发送消息")]:[t._v("医生暂未开通联系功能，不能发送消息")]],2),a("v-uni-view",{staticClass:"bottom flex-father flex-center"},[a("v-uni-view",{staticClass:"flex-child"},[t.chargeStatus==t.CONSULTCODE.OVER||t.chargeStatus==t.CONSULTCODE.DONE||t.chargeStatus==t.CONSULTCODE.CANCEL?[t.isPortalApp?t._e():a("v-uni-button",{staticClass:"btn btn-empty-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDoctorDetailPage()}}},[t._v("再次咨询")])]:t.unChatFlag?t._e():[a("i",{staticClass:"icon icon-image",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choosePic.apply(void 0,arguments)}}}),a("i",{staticClass:"icon",class:t.isVoice?"icon-chatText":"icon-audio",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isVoice=!t.isVoice,t.scrollBottom()}}})],t.chargeStatus==t.CONSULTCODE.OVER||t.chargeStatus==t.CONSULTCODE.DONE?[t.orderDetail.visitCharge.isEvaluate?a("v-uni-button",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goEvalutePage("viewEval")}}},[t._v("查看评价")]):a("v-uni-button",{staticClass:"btn btn-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goEvalutePage()}}},[t._v("去评价")])]:t._e()],2),a("v-uni-view",{staticClass:"tips",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goOrderDetailPage.apply(void 0,arguments)}}},[t._v("订单"+t._s(t.pad?"详情":"")),a("i",{staticClass:"iconfont1 icon_icon_order"})])],1)],1)],1):t._e(),t.isRecording||t.isRecordSlide||t.isRecordShotTips?a("v-uni-view",{staticClass:"fixedAudioTips"},[t.isRecordSlide?[a("i",{staticClass:"icon icon-audioCancel"}),a("v-uni-view",{staticClass:"tips c-red"},[t._v("松开手指，取消发送")])]:t._e(),t.isRecordShotTips?[a("i",{staticClass:"icon icon-point"}),a("v-uni-view",{staticClass:"tips c-red"},[t._v("说话时间太短")])]:t._e(),t.isRecording?[a("v-uni-image",{attrs:{src:t.recording}}),a("v-uni-view",{staticClass:"tips"},[t._v("手指上滑，取消发送")])]:t._e()],2):t._e()],1),a("CustomModal",{ref:"myCustomModal"})],1)},o=[]},e8f6:function(t,e,a){"use strict";a.r(e);var i=a("63e2"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},f29f:function(t,e,a){t.exports=a.p+"static/img/fuselage.5d301bf0.png"},f498:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".fixedPopup-content-main[data-v-55ebcd61]{max-height:calc(100vh - 53.33333vw);padding:0 4vw 5.33333vw 4vw!important;overflow-y:auto}.fixedPopup-content-main uni-scroll-view[data-v-55ebcd61]{max-height:calc(100vh - 53.33333vw)}.fixedPopup-content-main .icon[data-v-55ebcd61]{margin-right:2.66667vw}.fixedPopup-content-main .iconfont1[data-v-55ebcd61]{margin-left:1.86667vw}.fixedPopup-content-main .prescription-top[data-v-55ebcd61]{padding:4vw 0;border-bottom:%?1?% solid #f5f5f5}.fixedPopup-content-main .prescription-item[data-v-55ebcd61]{padding:2.66667vw 0}.fixedPopup-content-main .prescription-item-top[data-v-55ebcd61]{margin-bottom:1.06667vw}.fixedPopup-content-main .prescription-item-chinese[data-v-55ebcd61]{margin-top:2.66667vw}.fixedPopup-content-main .dividingLine[data-v-55ebcd61]{width:17.33333vw;height:.26667vw;background-color:#f5f5f5;margin:0 1.6vw}.fixedPopup-content-main .prescription-chinese-bottom[data-v-55ebcd61]{margin-top:1.6vw}@media (orientation:landscape){.fixedPopup-content-main[data-v-55ebcd61]{max-height:calc(100vh - 70.42254rem);padding:0 5.28169rem 7.04225rem 5.28169rem!important}.fixedPopup-content-main uni-scroll-view[data-v-55ebcd61]{max-height:calc(100vh - 70.42254rem)}.fixedPopup-content-main .icon[data-v-55ebcd61]{margin-right:3.52113rem}.fixedPopup-content-main .iconfont1[data-v-55ebcd61]{margin-left:2.46479rem}.fixedPopup-content-main .prescription-top[data-v-55ebcd61]{padding:5.28169rem 0;border-bottom:%?1?% solid #f5f5f5}.fixedPopup-content-main .prescription-item[data-v-55ebcd61]{padding:3.52113rem 0}.fixedPopup-content-main .prescription-item-top[data-v-55ebcd61]{margin-bottom:1.40845rem}.fixedPopup-content-main .prescription-item-chinese[data-v-55ebcd61]{margin-top:3.52113rem}.fixedPopup-content-main .dividingLine[data-v-55ebcd61]{width:22.88732rem;height:.35211rem;margin:0 2.11268rem}.fixedPopup-content-main .prescription-chinese-bottom[data-v-55ebcd61]{margin-top:2.11268rem}}",""])}}]);