(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personal-subsequent-recipeDetail-recipeDetail"],{"0aa3":function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.submitMedOrder=t.setPaySuccess=t.recipeRelevantDrug=t.prescriptionDetailMulti=t.prescriptionDetail=t.pharmacyConf=t.paymentInitiate=t.pageMedicineOrder=t.orderQrcode=t.orderCode=t.medOrderInfo=t.listMedHospital=t.getMedOrderDetail=t.expressRouting=t.confirmingOrder=t.completeOrder=void 0;var r=a(i("b775")),o=function(e){return(0,r.default)({url:"/api/med/order/pageMedicineOrder",data:e,method:"post"})};t.pageMedicineOrder=o;var n=function(e){return(0,r.default)({url:"/api/med/pharmacy/listMedHospital",data:e,method:"post"})};t.listMedHospital=n;var s=function(e){return(0,r.default)({url:"/api/med/order/detail?id="+e,method:"get"})};t.getMedOrderDetail=s;var d=function(e){var t=e.chargeId,i=e.prescriptionType;return(0,r.default)({url:"/api/med/prescription/detail?chargeId="+t+"&prescriptionType="+i,method:"get"})};t.prescriptionDetail=d;var c=function(e){return(0,r.default)({url:"/api/med/prescription/detail/multi?prescriptionIds="+e,method:"get"})};t.prescriptionDetailMulti=c;var p=function(e){return(0,r.default)({url:"/api/express/routing",data:e,method:"post"})};t.expressRouting=p;var l=function(e){return(0,r.default)({url:"/api/med/order/info?id="+e,method:"get"})};t.medOrderInfo=l;var u=function(e){var t=e.prescriptionId,i=e.tranPriceMode,a=e.pharmacyId;return(0,r.default)({url:"/api/med/order/confirming?prescriptionId="+t+"&tranPriceMode="+i+"&pharmacyId="+a,method:"get"})};t.confirmingOrder=u;var m=function(e){return(0,r.default)({url:"/api/med/order/code?prescriptionId="+e,method:"get"})};t.orderCode=m;var v=function(e){return(0,r.default)({url:"/api/med/pharmacy/conf?pharmacyId="+e,method:"get"})};t.pharmacyConf=v;var f=function(e){return(0,r.default)({url:"/api/med/order/submit",data:e,method:"post"})};t.submitMedOrder=f;var x=function(e){return(0,r.default)({url:"/api/med/payment/initiate",data:e,method:"post"})};t.paymentInitiate=x;var h=function(e){return(0,r.default)({url:"/api/med/order/relevant",data:e,method:"get"})};t.recipeRelevantDrug=h;var g=function(e){return(0,r.default)({url:"/api/med/test/set-pay-success",data:e,method:"post"})};t.setPaySuccess=g;var w=function(e){return(0,r.default)({url:"/api/med/order/complete",data:e,method:"post"})};t.completeOrder=w;var b=function(e){return(0,r.default)({url:"/api/med/order/qrcode/"+e,method:"get"})};t.orderQrcode=b},"18f6":function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i("3de1"),o=i("ca00"),n=i("b379"),s=i("4eac"),d=i("0aa3"),c=(a(i("f121")),a(i("4b4e"))),p=a(i("b800")),l={data:function(){return{RECIPESTATUS:n.RECIPESTATUS,DRUGTYPE:n.DRUGTYPE,recipeDetail:{},isShowBuyDrug:!1}},components:{CustomModal:c.default,Empty:p.default},computed:{scaleFontSize:function(){return this.$store.state.scaleFontSize}},onLoad:function(e){this.recipeId=e.id,this.getRecipeDetail()},methods:{getSexStr:function(e){return(0,r.getSexStr)(e)},getAgeStr:function(e){return(0,r.getAgeStr)(e)},getRecipeDetail:function(){var e=this;(0,s.getRecipeDetail)({prescriptionId:this.recipeId}).then((function(t){if("000"===t.errorCode){e.recipeDetail=t.entity,e.recipeDetail.orderRelevant&&!e.recipeDetail.orderRelevant.ordered&&e.recipeDetail.detail.prescription.status==n.RECIPESTATUS.CHECKED&&e.getExpCountDown();var i="中药处方单";e.recipeDetail.detail.prescription.prescriptionType==n.DRUGTYPE.WESTERN&&(i="西药处方单"),r.native.setNavTitle(i)}else r.native.toast(t.message)}))},getExpCountDown:function(){var e=this;clearInterval(this.expCountDownInterval);var t=(0,r.getTimeCount)((0,o.getServiceTime)(),this.recipeDetail.orderRelevant.exp);this.recipeDetail.orderRelevant.expCountDown=(0,r.getCountdown)(t),t>0?this.expCountDownInterval=setInterval((function(){0==t?(e.recipeDetail.orderRelevant.isExpire=!0,e.isShowBuyDrug=!1,clearInterval(e.expCountDownInterval)):(e.isShowBuyDrug=!0,e.recipeDetail.orderRelevant.expCountDown=(0,r.getCountdown)(t)),e.$forceUpdate(),t--,e.recipeDetail.orderRelevant.expCountDownTime=t}),1e3):(this.recipeDetail.orderRelevant.isExpire=!0,this.isShowBuyDrug=!1,this.$forceUpdate())},goDrugDetailPage:function(){var e=this,t={prescriptionId:this.recipeId};(0,d.recipeRelevantDrug)(t).then((function(t){if("000"==t.errorCode){var i={};t.entity.currentOrderId?i.orderId=t.entity.currentOrderId:i.prescriptionId=e.recipeId,r.native.go("/pages/drugOrderDetail/orderDetail/orderDetail","/orderDetail",i)}}))}},destroyed:function(){clearInterval(this.expCountDownInterval)}};t.default=l},"1a2b":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"emptyBox",class:e.absMiddleFlag?"absMiddleEmptyBox":""},[i("i",{staticClass:"iconL",class:e.iconName?e.iconName:"icon-empty"}),e.h1Tips?i("v-uni-view",{staticClass:"fz-36"},[e._v(e._s(e.h1Tips))]):e._e(),i("v-uni-view",[e._v(e._s(e.tips?e.tips:"暂无数据"))])],1)},o=[]},"3f3a":function(e,t,i){"use strict";i.r(t);var a=i("d663"),r=i("5bc6");for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);i("7994");var n,s=i("f0c5"),d=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,"59dd5062",null,!1,a["a"],n);t["default"]=d.exports},"4eac":function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.listVideoVisitOnlineDiagnosis=t.getRecipeDetail=void 0;var r=a(i("b775")),o=function(e){return(0,r.default)({url:"/api/inquiry/visit/listVideoVisitOnlineDiagnosis",data:e,method:"get"})};t.listVideoVisitOnlineDiagnosis=o;var n=function(e){return(0,r.default)({url:"/api/med/prescription/detail/bundle/mini",data:e,method:"get"})};t.getRecipeDetail=n},"58f8":function(e,t,i){"use strict";var a=i("ce0e"),r=i.n(a);r.a},"5bc6":function(e,t,i){"use strict";i.r(t);var a=i("18f6"),r=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},7457:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"popup",data:function(){return{}},props:["h1Tips","tips","absMiddleFlag","iconName"]};t.default=a},7994:function(e,t,i){"use strict";var a=i("fba0"),r=i.n(a);r.a},"8a80":function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,".emptyBox[data-v-342b73f4]{text-align:center;font-size:4rem;color:#666}.emptyBox.absMiddleEmptyBox[data-v-342b73f4]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%)}.emptyBox>uni-view[data-v-342b73f4]{color:#666;margin-top:2.66667vw;padding-bottom:2.66667vw}@media (orientation:landscape){.emptyBox[data-v-342b73f4]{font-size:5.28169rem}.emptyBox>uni-view[data-v-342b73f4]{margin-top:3.52113rem;padding-bottom:3.52113rem}}",""])},"9adc":function(e,t,i){"use strict";i.r(t);var a=i("7457"),r=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},b800:function(e,t,i){"use strict";i.r(t);var a=i("1a2b"),r=i("9adc");for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);i("58f8");var n,s=i("f0c5"),d=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,"342b73f4",null,!1,a["a"],n);t["default"]=d.exports},ce0e:function(e,t,i){var a=i("8a80");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("162c61ba",a,!0,{sourceMap:!1,shadowMode:!1})},d663:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={pageMeta:i("6d42").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":e.scaleFontSize+"px"}}),i("v-uni-view",{staticClass:"wrapper"},[e.recipeDetail.detail&&e.recipeDetail.detail.prescription.status==e.RECIPESTATUS.CHECKED?[i("v-uni-scroll-view",{style:e.isShowBuyDrug?"height:calc(100% - 130rpx)":"",attrs:{"scroll-y":!0}},[i("v-uni-view",{staticClass:"commonItemBox"},[e.recipeDetail.orderRelevant.ordered||e.recipeDetail.orderRelevant.isExpire?i("v-uni-view",{staticClass:"drugStatus",class:e.recipeDetail.orderRelevant.isExpire?"expire":"used"}):e._e(),e.recipeDetail.chargeInfo?i("v-uni-view",{staticClass:"itemBox-content"},[i("v-uni-view",{staticClass:"topInfo"},[i("v-uni-view",{staticClass:"c-666"},[e._v(e._s(e.recipeDetail.chargeInfo.hospName))]),i("v-uni-view",{staticClass:"fw-500 fz-60"},[e._v("电子处方")]),e.isShowBuyDrug&&e.recipeDetail.orderRelevant?i("v-uni-view",{staticClass:"time"},[i("v-uni-text",[e._v(e._s(e.recipeDetail.orderRelevant.exp)+"到期")]),i("v-uni-text",[e._v("剩余"+e._s(e.recipeDetail.orderRelevant.expCountDown))])],1):e._e()],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("处方编号：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.detail.prescription.prescriptionCode))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("患者信息：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.patient.name)+" "+e._s(e.getSexStr(e.recipeDetail.patient.sex))+" "+e._s(e.getAgeStr(e.recipeDetail.patient.age)))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("开方医生：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.chargeInfo.doctorName))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("所属科室：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.chargeInfo.deptName))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("开方单位：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.chargeInfo.hospName))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("开方时间：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.detail.prescription.submitTime))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("诊断：")]),i("v-uni-text",{staticClass:"flex-child"},[e.recipeDetail.diagnosises&&e.recipeDetail.diagnosises.length?e._l(e.recipeDetail.diagnosises,(function(t,a){return i("v-uni-text",[e._v(e._s(t.diagnosisName)),a!=e.recipeDetail.diagnosises.length-1?i("v-uni-text",{staticClass:"c-333"},[e._v("；")]):e._e()],1)})):i("v-uni-text",[e._v("暂无")])],2)],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("审方人：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.lastCheck.operUserName))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("审方时间：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.lastCheck.createTime))])],1)],1):e._e()],1),i("v-uni-view",{staticClass:"commonItemBox"},[i("v-uni-view",{staticClass:"itemBox-content"},[i("v-uni-view",{staticClass:"commonTitle"},[e._v("Rp")]),e._l(e.recipeDetail.detail.drugs,(function(t){return[i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",[e._v(e._s(t.drugName)),e.recipeDetail.detail.prescription.prescriptionType==e.DRUGTYPE.CHINESE?i("v-uni-text",[e._v("("+e._s(t.norms)+")")]):e._e()],1),i("v-uni-text",{staticClass:"flex-child tr c-666"},[e._v(e._s(t.total+t.unitDispensingName)),e.recipeDetail.detail.prescription.prescriptionType==e.DRUGTYPE.WESTERN?i("v-uni-text",[e._v("("+e._s(t.norms)+")")]):e._e()],1)],1),e.recipeDetail.detail.prescription.prescriptionType==e.DRUGTYPE.WESTERN?i("v-uni-view",{staticClass:"fz-28 c-999"},[e._v(e._s(t.usageName)+" 每次"+e._s(t.dose+t.unitDoseName)+" "+e._s(t.frequencyName))]):e._e()]})),e.recipeDetail.detail.prescription.prescriptionType==e.DRUGTYPE.CHINESE?[i("v-uni-view",{staticClass:"sig"},[i("v-uni-text",[e._v("sig")])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("用法：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.detail.attach.tcmUsageName))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("频次：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.detail.attach.tcmFrequecyName))])],1),i("v-uni-view",{staticClass:"flex-father"},[i("v-uni-text",{staticClass:"itemName"},[e._v("贴数：")]),i("v-uni-text",{staticClass:"flex-child"},[e._v(e._s(e.recipeDetail.detail.attach.tcmCount))])],1)]:e._e()],2)],1)],1),e.isShowBuyDrug?i("v-uni-view",{staticClass:"fixedBtm"},[i("v-uni-view",{staticClass:"btn btn-purple",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goDrugDetailPage.apply(void 0,arguments)}}},[e._v("去购药")])],1):e._e()]:e.recipeDetail.detail?i("Empty",{attrs:{h1Tips:"处方正在审核中",tips:"请稍后再看",absMiddleFlag:!0}}):e._e()],2),i("CustomModal",{ref:"myCustomModal"})],1)},o=[]},d6c3:function(e,t,i){t=e.exports=i("24fb")(!1),t.push([e.i,'.wrapper[data-v-59dd5062]{height:100%;position:relative}.wrapper uni-scroll-view[data-v-59dd5062]{position:relative;height:100%;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.wrapper uni-scroll-view[data-v-59dd5062]::after{content:"";position:absolute;top:0;left:0;right:0;height:34.66667vw;background:-webkit-linear-gradient(top,#f5f4ff,#dbd8ff);background:linear-gradient(180deg,#f5f4ff,#dbd8ff);border-radius:0 0 13.33333vw 13.33333vw;z-index:-1}.wrapper .commonItemBox[data-v-59dd5062]{position:relative;z-index:1}.wrapper .commonItemBox .drugStatus[data-v-59dd5062]{position:absolute;width:100px;height:100px;top:26.13333vw;right:4vw;background-image:url(https://amity-oss.yimed.cn/static/wxappSource/icon2.png);background-size:300px auto;z-index:1}.wrapper .commonItemBox .drugStatus.expire[data-v-59dd5062]{background-position:-90px -1365px}.wrapper .commonItemBox .drugStatus.used[data-v-59dd5062]{background-position:-197px -1395px}.wrapper .commonItemBox[data-v-59dd5062]:first-child{padding-top:4vw}.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]{position:relative}.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::before,.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::after{position:absolute;content:"";width:9px;height:20px;top:-1.06667vw;background-image:url(https://amity-oss.yimed.cn/static/wxappSource/icon2.png);background-size:300px auto;background-position:-16px -1404px;z-index:2}.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::before{left:4vw}.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::after{right:4vw}.wrapper .commonItemBox .topInfo[data-v-59dd5062]{padding:5.33333vw 4vw 5.33333vw;margin:0 -4vw 4vw;text-align:center;position:relative;border-bottom:%?1?% dashed #f5f5f5}.wrapper .commonItemBox .topInfo>uni-view[data-v-59dd5062]{margin-bottom:2.66667vw}.wrapper .commonItemBox .topInfo .time[data-v-59dd5062]{margin-top:5.33333vw;height:10.66667vw;line-height:10.66667vw;background:#f5f4ff;border-radius:5.33333vw}.wrapper .commonItemBox .topInfo .time uni-text[data-v-59dd5062]{color:#846bff}.wrapper .commonItemBox .topInfo[data-v-59dd5062]::before,.wrapper .commonItemBox .topInfo[data-v-59dd5062]::after{content:"";position:absolute;width:2vw;height:4vw;bottom:-2vw;background:#f5f5f5;z-index:1}.wrapper .commonItemBox .topInfo[data-v-59dd5062]::before{left:0;border-radius:0 4vw 4vw 0}.wrapper .commonItemBox .topInfo[data-v-59dd5062]::after{border-radius:4vw 0 0 4vw;right:0}.wrapper .commonItemBox .sig[data-v-59dd5062]{position:relative;height:6vw;line-height:6vw;text-align:center}.wrapper .commonItemBox .sig[data-v-59dd5062]::after{position:absolute;content:"";height:.26667vw;left:19.73333vw;right:19.73333vw;top:2.8vw;background-color:#f5f5f5}.wrapper .commonItemBox .sig uni-text[data-v-59dd5062]{position:relative;z-index:1;display:inline-block;height:6vw;width:10.66667vw;background:#fff}.wrapper .fixedBtm .btn[data-v-59dd5062]{width:100%}@media (orientation:landscape){.wrapper uni-scroll-view[data-v-59dd5062]::after{height:45.77465rem;border-radius:0 0 17.60563rem 17.60563rem}.wrapper .commonItemBox .drugStatus[data-v-59dd5062]{top:34.50704rem;right:5.28169rem}.wrapper .commonItemBox[data-v-59dd5062]:first-child{padding-top:5.28169rem}.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::before,.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::after{top:-1.40845rem}.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::before{left:5.28169rem}.wrapper .commonItemBox:first-child .itemBox-content[data-v-59dd5062]::after{right:5.28169rem}.wrapper .commonItemBox .topInfo[data-v-59dd5062]{padding:7.04225rem 5.28169rem 7.04225rem;margin:0 -5.28169rem 5.28169rem;border-bottom:%?1?% dashed #f5f5f5}.wrapper .commonItemBox .topInfo>uni-view[data-v-59dd5062]{margin-bottom:3.52113rem}.wrapper .commonItemBox .topInfo .time[data-v-59dd5062]{margin-top:7.04225rem;height:14.08451rem;line-height:14.08451rem;border-radius:7.04225rem}.wrapper .commonItemBox .topInfo[data-v-59dd5062]::before,.wrapper .commonItemBox .topInfo[data-v-59dd5062]::after{width:2.64085rem;height:5.28169rem;bottom:-2.64085rem}.wrapper .commonItemBox .topInfo[data-v-59dd5062]::before{border-radius:0 5.28169rem 5.28169rem 0}.wrapper .commonItemBox .topInfo[data-v-59dd5062]::after{border-radius:5.28169rem 0 0 5.28169rem}.wrapper .commonItemBox .sig[data-v-59dd5062]{height:7.92254rem;line-height:7.92254rem}.wrapper .commonItemBox .sig[data-v-59dd5062]::after{height:.35211rem;left:26.05634rem;right:26.05634rem;top:3.69718rem}.wrapper .commonItemBox .sig uni-text[data-v-59dd5062]{height:7.92254rem;width:14.08451rem}}',""])},fba0:function(e,t,i){var a=i("d6c3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("39e44b18",a,!0,{sourceMap:!1,shadowMode:!1})}}]);