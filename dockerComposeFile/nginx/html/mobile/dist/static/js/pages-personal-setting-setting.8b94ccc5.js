(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personal-setting-setting"],{"120c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={pageMeta:i("6d42").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page-meta",{attrs:{"root-font-size":t.scaleFontSize+"px"}}),i("v-uni-view",{staticClass:"wrapper",class:t.bindPhoneShow?"bg-white":"",staticStyle:{height:"100%"}},[i("NavBar",{attrs:{id:"navBar",backFlag:!0,callbackFlag:!0,navTitle:t.navTitle},on:{goBack:function(e){arguments[0]=e=t.$handleEvent(e),t.goPrevStep.apply(void 0,arguments)}}}),t.bindPhoneShow?i("v-uni-view",{staticClass:"infoComfirm"},[i("v-uni-view",{staticClass:"infoComfirm-item fz-48"},[i("v-uni-view",{staticClass:"infoComfirm-item-title"},[t._v("绑定手机号")]),i("v-uni-input",{staticClass:"flex-child",attrs:{"always-embed":!0,type:"text",placeholder:"输入11位手机号","placeholder-class":"c-c6"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.limitBlank(e)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("v-uni-view",{staticClass:"infoComfirm-item fz-48"},[i("v-uni-button",{staticClass:"btn btn-purple fz-48 fw-500",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPhone.apply(void 0,arguments)}}},[t._v("完成")])],1)],1):[i("v-uni-view",{staticClass:"logoVersionBox"},[i("v-uni-view",{staticClass:"imgBox"},[i("v-uni-image",{attrs:{src:t.currentApps.currentLogo}})],1),i("v-uni-view",{staticClass:"tips"},[t._v("V"+t._s(t.version))])],1),i("v-uni-view",{staticClass:"itemListBox"},[i("v-uni-view",{staticClass:"listItem flex-father",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getIsLogin.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"name fz-34 flex-child"},[t._v("账号")]),i("v-uni-text",{staticClass:"tips"},[t._v(t._s(t.sen_phone))])],1),i("v-uni-view",{staticClass:"listItem flex-father",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goChangePwdPage.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"name fz-34 flex-child"},[t._v("修改密码")]),i("i",{staticClass:"iconfont1 icon_icon_jump_02"})],1)],1),"未登录"!=t.sen_phone?i("v-uni-view",{staticClass:"btnBox"},[i("v-uni-button",{staticClass:"btn btn-empty-red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isExitAccount.apply(void 0,arguments)}}},[t._v("退出账号")])],1):t._e()],t.tipsShow?i("v-uni-view",{staticClass:"fixedPopup mask",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"fixedPopup-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"fixedPopup-content-main"},[i("v-uni-view",{staticClass:"fz-36 fw-500"},[t._v("您未绑定手机号，退出后无法登录")])],1),i("v-uni-view",{staticClass:"fixedPopup-content-btn flex-father"},[i("v-uni-view",{staticClass:"btn flex-child",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.exitAccount.apply(void 0,arguments)}}},[t._v("继续退出")]),i("v-uni-view",{staticClass:"btn c-purple flex-child",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tipsShow=!1,t.bindPhoneShow=!0}}},[t._v("绑定手机号")])],1)],1)],1):t._e()],2),i("CustomModal",{ref:"myCustomModal"})],1)},o=[]},"1b90":function(t,e,i){e=t.exports=i("24fb")(!1),e.push([t.i,".c-c6[data-v-5468fabe]{color:#c6c6c6!important}",""])},"82a6":function(t,e,i){var n=i("83197");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("6b256220",n,!0,{sourceMap:!1,shadowMode:!1})},83197:function(t,e,i){e=t.exports=i("24fb")(!1),e.push([t.i,".itemListBox[data-v-5468fabe]{margin:2.66667vw 4vw}.itemListBox .listItem[data-v-5468fabe]{position:relative;padding:0 4vw;height:14.66667vw;line-height:14.66667vw;font-size:4.26667rem;background:#fff}.itemListBox .listItem .iconfont1[data-v-5468fabe]{font-size:3.86667rem}.itemListBox .listItem[data-v-5468fabe]:first-child,.itemListBox .listItem[data-v-5468fabe]:nth-child(3){border-top-left-radius:4vw;border-top-right-radius:4vw}.itemListBox .listItem[data-v-5468fabe]:nth-child(2),.itemListBox .listItem[data-v-5468fabe]:last-child{border-bottom-left-radius:4vw;border-bottom-right-radius:4vw}.itemListBox .listItem[data-v-5468fabe]:nth-child(2){margin-bottom:2.66667vw}.itemListBox .listItem .tips[data-v-5468fabe]{color:#999;margin-right:1.33333vw}.commonFormBox[data-v-5468fabe]{margin:0 4vw;padding:0 4vw;background:#fff;border-radius:2.66667vw}.commonFormBox uni-label uni-input[data-v-5468fabe]{margin-left:4vw;text-align:left}.logoVersionBox[data-v-5468fabe]{padding:8vw 0 10.66667vw;text-align:center}.logoVersionBox .imgBox[data-v-5468fabe]{margin:0 auto;padding:4vw;width:26.66667vw;height:26.66667vw;background:#fff;border-radius:5.33333vw}.logoVersionBox .imgBox uni-image[data-v-5468fabe]{width:18.66667vw;height:18.66667vw}.logoVersionBox .tips[data-v-5468fabe]{margin-top:2.66667vw;font-size:4.26667rem}.btnBox[data-v-5468fabe]{position:absolute;bottom:4vw;left:0;right:0}.btnBox uni-button[data-v-5468fabe]{height:12vw;line-height:12vw;font-size:4.8rem;margin:0 4vw;border-radius:2.66667vw}.infoComfirm[data-v-5468fabe]{padding:0 6.4vw}.infoComfirm-item-title[data-v-5468fabe]{margin-top:6.4vw}.infoComfirm-item uni-input[data-v-5468fabe]{margin:6.4vw 0 9.6vw;width:90%;height:16vw;border-radius:4vw;padding:0 4vw;border:.26667vw solid #464650}.infoComfirm-item uni-button[data-v-5468fabe]{margin:6.4vw 0 0 0!important;width:100%;height:16vw;border-radius:13.33333vw;line-height:15.73333vw}.bg-white[data-v-5468fabe]{background-color:#fff}@media (orientation:landscape){.itemListBox[data-v-5468fabe]{margin:3.52113rem 5.28169rem}.itemListBox .listItem[data-v-5468fabe]{padding:0 5.28169rem;height:19.3662rem;line-height:19.3662rem;font-size:5.6338rem}.itemListBox .listItem .iconfont1[data-v-5468fabe]{font-size:5.10563rem}.itemListBox .listItem[data-v-5468fabe]:first-child,.itemListBox .listItem[data-v-5468fabe]:nth-child(3){border-top-left-radius:5.28169rem;border-top-right-radius:5.28169rem}.itemListBox .listItem[data-v-5468fabe]:nth-child(2),.itemListBox .listItem[data-v-5468fabe]:last-child{border-bottom-left-radius:5.28169rem;border-bottom-right-radius:5.28169rem}.itemListBox .listItem[data-v-5468fabe]:nth-child(2){margin-bottom:3.52113rem}.itemListBox .listItem .tips[data-v-5468fabe]{margin-right:1.76056rem}.commonFormBox[data-v-5468fabe]{margin:0 5.28169rem;padding:0 5.28169rem;border-radius:3.52113rem}.commonFormBox uni-label uni-input[data-v-5468fabe]{margin-left:5.28169rem}.logoVersionBox[data-v-5468fabe]{padding:10.56338rem 0 14.08451rem}.logoVersionBox .imgBox[data-v-5468fabe]{padding:5.28169rem;width:35.21127rem;height:35.21127rem;border-radius:7.04225rem}.logoVersionBox .imgBox uni-image[data-v-5468fabe]{width:24.64789rem;height:24.64789rem}.logoVersionBox .tips[data-v-5468fabe]{margin-top:3.52113rem;font-size:5.6338rem}.btnBox[data-v-5468fabe]{bottom:5.28169rem}.btnBox uni-button[data-v-5468fabe]{height:15.84507rem;line-height:15.84507rem;font-size:6.33803rem;margin:0 5.28169rem;border-radius:3.52113rem}.infoComfirm[data-v-5468fabe]{padding:0 8.4507rem}.infoComfirm-item-title[data-v-5468fabe]{margin-top:8.4507rem}.infoComfirm-item uni-input[data-v-5468fabe]{margin:8.4507rem 0 12.67606rem;height:21.12676rem;border-radius:5.28169rem;padding:0 5.28169rem;border:.35211rem solid #464650}.infoComfirm-item uni-button[data-v-5468fabe]{margin:8.4507rem 0 0 0!important;height:21.12676rem;border-radius:17.60563rem;line-height:20.77465rem}}",""])},8525:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("3de1"),o=i("ca00"),s=n(i("f121")),r=n(i("4b4e")),d=i("c24f"),l=i("7ded"),f=n(i("268c")),v={components:{CustomModal:r.default,NavBar:f.default},data:function(){return{wrapperHeight:0,wrapperTop:0,userInfo:"",sen_idCard:"",sen_phone:"未登录",currentApps:s.default.currentApps,version:s.default.currentApps.version||"2.0.0",tipsShow:!1,navTitle:"我的设置",bindPhoneShow:!1,phone:""}},onLoad:function(t){this.sensitiveInfo()},computed:{scaleFontSize:function(){return this.$store.state.scaleFontSize},isSocketConnect:function(){return this.$store.state.socket.isSocketConnect}},watch:{bindPhoneShow:function(){this.bindPhoneShow?this.navTitle="绑定手机号":this.navTitle="我的设置"}},methods:{limitBlank:function(t){var e=this;setTimeout((function(){e.phone=(0,a.limitBlank)(t)}),100)},sensitiveInfo:function(){var t=this;if(""!=(0,a.getStorage)("onlineUser")){var e=JSON.parse((0,a.getStorage)("onlineUser")).currentUser.pid;(0,d.sensitiveInfo)({pid:e}).then((function(e){if("000"==e.errorCode){var i=JSON.parse((0,o.decodeEncrypt)(e.entity));t.sen_idCard=i.idCard,t.sen_phone=i.phone}else a.native.toast(e.message,"none")}))}else this.sen_phone="未登录"},getIsLogin:function(){"未登录"==this.sen_phone&&a.native.go("/pages/login/login","/login")},goChangePwdPage:function(){""==(0,a.getStorage)("onlineUser")?a.native.go("/pages/login/login","/login"):a.native.go("/pages/personal/changePwd/changePwd","/changePwd")},isExitAccount:function(){var t=this,e=(0,a.getStorage)("waitBackChargeId");if(""==e){var i=(0,o.getUserId)();(0,d.getUserInfo)(i).then((function(e){var i=e.entity;if("000"==e.errorCode){var n="";n=i.userPatientExtra?i.userPatientExtra.standbyPhone:"";n||(0,a.isMobile)(t.sen_phone)?t.exitAccount():t.tipsShow=!0}else a.native.toast(e.message)}))}else a.native.toast("当前正在候诊，请先取消候诊")},exitAccount:function(){var t=this;this.userInfo="",(0,l.logoutAndUnbund)().then((function(e){e.entity;"000"==e.errorCode?((0,a.clearStorage)(),(0,o.setToken)(""),t.isSocketConnect&&t.$store.dispatch("socketStop"),a.native.goTab("/pages/personalIndex/personalIndex","/personalIndex")):a.native.toast(e.message)}))},goPrevStep:function(){this.bindPhoneShow?this.bindPhoneShow=!1:a.native.goback()},bindPhone:function(){var t=this;if(""!=this.phone)if((0,a.isMobile)(this.phone)){if(!this.isSubmitFlag){this.isSubmitFlag=!0,a.native.showLoading();var e={pid:(0,o.getUserId)(),standbyPhone:this.phone};(0,d.updateUserInfo)(e).then((function(e){"000"==e.errorCode?(a.native.toast("绑定成功"),t.bindPhoneShow=!1):a.native.toast(e.message)})).finally((function(){a.native.hideLoading(),t.isSubmitFlag=!1}))}}else a.native.toast("请输入11位有效手机号");else a.native.toast("手机号不能为空")}}};e.default=v},a3a5:function(t,e,i){"use strict";var n=i("82a6"),a=i.n(n);a.a},ac2a:function(t,e,i){"use strict";var n=i("e6e9"),a=i.n(n);a.a},ad3b:function(t,e,i){"use strict";i.r(e);var n=i("120c"),a=i("c527");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("a3a5"),i("ac2a");var s,r=i("f0c5"),d=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"5468fabe",null,!1,n["a"],s);e["default"]=d.exports},c527:function(t,e,i){"use strict";i.r(e);var n=i("8525"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},e6e9:function(t,e,i){var n=i("1b90");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("378a0e55",n,!0,{sourceMap:!1,shadowMode:!1})}}]);